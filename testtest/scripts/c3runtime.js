// Generated by Construct, the game and app creator :: https://www.construct.net
var aa;"use strict";var ba=this;
function ca(a){function b(f,h,m){var q=h[0],t=h[1],v=h[2];h=h[3];var w=m[0],z=m[1],C=m[2];m=m[3];f[0]=q*w+v*z;f[1]=t*w+h*z;f[2]=q*C+v*m;f[3]=t*C+h*m;return f}function d(f,h,m){f[0]=h[0]-m[0];f[1]=h[1]-m[1];f[2]=h[2]-m[2];f[3]=h[3]-m[3];return f}function c(f,h,m){var q=h[0],t=h[1],v=h[2],w=h[3],z=h[4];h=h[5];var C=m[0],E=m[1],G=m[2],I=m[3],O=m[4];m=m[5];f[0]=q*C+v*E;f[1]=t*C+w*E;f[2]=q*G+v*I;f[3]=t*G+w*I;f[4]=q*O+v*m+z;f[5]=t*O+w*m+h;return f}function e(f,h,m){f[0]=h[0]-m[0];f[1]=h[1]-m[1];f[2]=h[2]-
m[2];f[3]=h[3]-m[3];f[4]=h[4]-m[4];f[5]=h[5]-m[5];return f}function g(){var f=new ta(9);ta!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0);f[0]=1;f[4]=1;f[8]=1;return f}function k(f,h,m){var q=h[0],t=h[1],v=h[2],w=h[3],z=h[4],C=h[5],E=h[6],G=h[7];h=h[8];var I=m[0],O=m[1],N=m[2],X=m[3],Z=m[4],R=m[5],ka=m[6],ha=m[7];m=m[8];f[0]=I*q+O*w+N*E;f[1]=I*t+O*z+N*G;f[2]=I*v+O*C+N*h;f[3]=X*q+Z*w+R*E;f[4]=X*t+Z*z+R*G;f[5]=X*v+Z*C+R*h;f[6]=ka*q+ha*w+m*E;f[7]=ka*t+ha*z+m*G;f[8]=ka*v+ha*C+m*h;return f}
function l(f,h,m){f[0]=h[0]-m[0];f[1]=h[1]-m[1];f[2]=h[2]-m[2];f[3]=h[3]-m[3];f[4]=h[4]-m[4];f[5]=h[5]-m[5];f[6]=h[6]-m[6];f[7]=h[7]-m[7];f[8]=h[8]-m[8];return f}function n(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f}function p(f,h,m){var q=h[0],t=h[1],v=h[2],w=h[3],z=h[4],C=h[5],E=h[6],G=h[7],I=h[8],O=h[9],N=h[10],X=h[11],Z=h[12],R=h[13],ka=h[14];h=h[15];var ha=m[0],qa=m[1],ra=m[2],la=m[3];f[0]=ha*q+qa*z+ra*I+la*
Z;f[1]=ha*t+qa*C+ra*O+la*R;f[2]=ha*v+qa*E+ra*N+la*ka;f[3]=ha*w+qa*G+ra*X+la*h;ha=m[4];qa=m[5];ra=m[6];la=m[7];f[4]=ha*q+qa*z+ra*I+la*Z;f[5]=ha*t+qa*C+ra*O+la*R;f[6]=ha*v+qa*E+ra*N+la*ka;f[7]=ha*w+qa*G+ra*X+la*h;ha=m[8];qa=m[9];ra=m[10];la=m[11];f[8]=ha*q+qa*z+ra*I+la*Z;f[9]=ha*t+qa*C+ra*O+la*R;f[10]=ha*v+qa*E+ra*N+la*ka;f[11]=ha*w+qa*G+ra*X+la*h;ha=m[12];qa=m[13];ra=m[14];la=m[15];f[12]=ha*q+qa*z+ra*I+la*Z;f[13]=ha*t+qa*C+ra*O+la*R;f[14]=ha*v+qa*E+ra*N+la*ka;f[15]=ha*w+qa*G+ra*X+la*h;return f}function r(f,
h,m){var q=h[0],t=h[1],v=h[2],w=h[3],z=q+q,C=t+t,E=v+v;h=q*z;var G=q*C;q*=E;var I=t*C;t*=E;v*=E;z*=w;C*=w;w*=E;f[0]=1-(I+v);f[1]=G+w;f[2]=q-C;f[3]=0;f[4]=G-w;f[5]=1-(h+v);f[6]=t+z;f[7]=0;f[8]=q+C;f[9]=t-z;f[10]=1-(h+I);f[11]=0;f[12]=m[0];f[13]=m[1];f[14]=m[2];f[15]=1;return f}function u(f,h){f[0]=h[12];f[1]=h[13];f[2]=h[14];return f}function x(f,h){var m=h[4],q=h[5],t=h[6],v=h[8],w=h[9],z=h[10];f[0]=Math.hypot(h[0],h[1],h[2]);f[1]=Math.hypot(m,q,t);f[2]=Math.hypot(v,w,z);return f}function y(f,h){var m=
new ta(3);x(m,h);var q=1/m[0],t=1/m[1],v=1/m[2],w=h[0]*q;m=h[1]*t;var z=h[2]*v,C=h[4]*q,E=h[5]*t,G=h[6]*v;q*=h[8];t*=h[9];h=h[10]*v;v=w+E+h;0<v?(w=2*Math.sqrt(v+1),f[3]=.25*w,f[0]=(G-t)/w,f[1]=(q-z)/w,f[2]=(m-C)/w):w>E&&w>h?(w=2*Math.sqrt(1+w-E-h),f[3]=(G-t)/w,f[0]=.25*w,f[1]=(m+C)/w,f[2]=(q+z)/w):E>h?(w=2*Math.sqrt(1+E-w-h),f[3]=(q-z)/w,f[0]=(m+C)/w,f[1]=.25*w,f[2]=(G+t)/w):(w=2*Math.sqrt(1+h-w-E),f[3]=(m-C)/w,f[0]=(q+z)/w,f[1]=(G+t)/w,f[2]=.25*w);return f}function A(f,h,m,q,t){h=1/Math.tan(h/2);
f[0]=h/m;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=h;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=t&&Infinity!==t?(m=1/(q-t),f[10]=(t+q)*m,f[14]=2*t*q*m):(f[10]=-1,f[14]=-2*q);return f}function D(f,h,m,q,t,v,w){var z=1/(h-m),C=1/(q-t),E=1/(v-w);f[0]=-2*z;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*C;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=2*E;f[11]=0;f[12]=(h+m)*z;f[13]=(t+q)*C;f[14]=(w+v)*E;f[15]=1;return f}function F(f,h,m){f[0]=h[0]-m[0];f[1]=h[1]-m[1];f[2]=h[2]-m[2];f[3]=h[3]-m[3];f[4]=h[4]-m[4];
f[5]=h[5]-m[5];f[6]=h[6]-m[6];f[7]=h[7]-m[7];f[8]=h[8]-m[8];f[9]=h[9]-m[9];f[10]=h[10]-m[10];f[11]=h[11]-m[11];f[12]=h[12]-m[12];f[13]=h[13]-m[13];f[14]=h[14]-m[14];f[15]=h[15]-m[15];return f}function J(){var f=new ta(3);ta!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);return f}function H(f){return Math.hypot(f[0],f[1],f[2])}function L(f,h,m){var q=new ta(3);q[0]=f;q[1]=h;q[2]=m;return q}function Y(f,h,m){f[0]=h[0]-m[0];f[1]=h[1]-m[1];f[2]=h[2]-m[2];return f}function da(f,h,m){f[0]=h[0]*m[0];f[1]=h[1]*m[1];
f[2]=h[2]*m[2];return f}function Fa(f,h,m){f[0]=h[0]/m[0];f[1]=h[1]/m[1];f[2]=h[2]/m[2];return f}function bd(f,h){return Math.hypot(h[0]-f[0],h[1]-f[1],h[2]-f[2])}function wc(f,h){var m=h[0]-f[0],q=h[1]-f[1];f=h[2]-f[2];return m*m+q*q+f*f}function tb(f){var h=f[0],m=f[1];f=f[2];return h*h+m*m+f*f}function xc(f,h){var m=h[0],q=h[1],t=h[2];m=m*m+q*q+t*t;0<m&&(m=1/Math.sqrt(m));f[0]=h[0]*m;f[1]=h[1]*m;f[2]=h[2]*m;return f}function ne(f,h){return f[0]*h[0]+f[1]*h[1]+f[2]*h[2]}function oe(f,h,m){var q=
h[0],t=h[1];h=h[2];var v=m[0],w=m[1];m=m[2];f[0]=t*m-h*w;f[1]=h*v-q*m;f[2]=q*w-t*v;return f}function Jf(){var f=new ta(4);ta!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[3]=0);return f}function Kf(f){var h=new ta(4);h[0]=f[0];h[1]=f[1];h[2]=f[2];h[3]=f[3];return h}function Lf(f,h,m,q){var t=new ta(4);t[0]=f;t[1]=h;t[2]=m;t[3]=q;return t}function pe(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[3];return f}function Mf(f,h,m,q,t){f[0]=h;f[1]=m;f[2]=q;f[3]=t;return f}function Nf(f,h,m){f[0]=h[0]+m[0];f[1]=h[1]+
m[1];f[2]=h[2]+m[2];f[3]=h[3]+m[3];return f}function Ik(f,h,m){f[0]=h[0]-m[0];f[1]=h[1]-m[1];f[2]=h[2]-m[2];f[3]=h[3]-m[3];return f}function Jk(f,h,m){f[0]=h[0]*m[0];f[1]=h[1]*m[1];f[2]=h[2]*m[2];f[3]=h[3]*m[3];return f}function Kk(f,h,m){f[0]=h[0]/m[0];f[1]=h[1]/m[1];f[2]=h[2]/m[2];f[3]=h[3]/m[3];return f}function Qn(f,h,m){f[0]=h[0]*m;f[1]=h[1]*m;f[2]=h[2]*m;f[3]=h[3]*m;return f}function Bs(f,h){return Math.hypot(h[0]-f[0],h[1]-f[1],h[2]-f[2],h[3]-f[3])}function Cs(f,h){var m=h[0]-f[0],q=h[1]-f[1],
t=h[2]-f[2];f=h[3]-f[3];return m*m+q*q+t*t+f*f}function Dg(f){return Math.hypot(f[0],f[1],f[2],f[3])}function Ue(f){var h=f[0],m=f[1],q=f[2];f=f[3];return h*h+m*m+q*q+f*f}function Lk(f,h){var m=h[0],q=h[1],t=h[2];h=h[3];var v=m*m+q*q+t*t+h*h;0<v&&(v=1/Math.sqrt(v));f[0]=m*v;f[1]=q*v;f[2]=t*v;f[3]=h*v;return f}function Eg(f,h){return f[0]*h[0]+f[1]*h[1]+f[2]*h[2]+f[3]*h[3]}function Ds(f,h,m,q){var t=h[0],v=h[1],w=h[2];h=h[3];f[0]=t+q*(m[0]-t);f[1]=v+q*(m[1]-v);f[2]=w+q*(m[2]-w);f[3]=h+q*(m[3]-h);return f}
function Es(f,h){return f[0]===h[0]&&f[1]===h[1]&&f[2]===h[2]&&f[3]===h[3]}function Mk(){var f=new ta(4);ta!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);f[3]=1;return f}function Fs(f,h,m){m*=.5;var q=Math.sin(m);f[0]=q*h[0];f[1]=q*h[1];f[2]=q*h[2];f[3]=Math.cos(m);return f}function Gs(f,h,m){var q=h[0],t=h[1],v=h[2];h=h[3];var w=m[0],z=m[1],C=m[2];m=m[3];f[0]=q*m+h*w+t*C-v*z;f[1]=t*m+h*z+v*w-q*C;f[2]=v*m+h*C+q*z-t*w;f[3]=h*m-q*w-t*z-v*C;return f}function Hs(f,h,m){m*=.5;var q=h[0],t=h[1],v=h[2];h=h[3];var w=
Math.sin(m);m=Math.cos(m);f[0]=q*m+h*w;f[1]=t*m+v*w;f[2]=v*m-t*w;f[3]=h*m-q*w;return f}function Is(f,h,m){m*=.5;var q=h[0],t=h[1],v=h[2];h=h[3];var w=Math.sin(m);m=Math.cos(m);f[0]=q*m-v*w;f[1]=t*m+h*w;f[2]=v*m+q*w;f[3]=h*m-t*w;return f}function Js(f,h,m){m*=.5;var q=h[0],t=h[1],v=h[2];h=h[3];var w=Math.sin(m);m=Math.cos(m);f[0]=q*m+t*w;f[1]=t*m-q*w;f[2]=v*m+h*w;f[3]=h*m-v*w;return f}function Ks(f,h){var m=h[0],q=h[1],t=h[2],v=Math.sqrt(m*m+q*q+t*t);h=Math.exp(h[3]);var w=0<v?h*Math.sin(v)/v:0;f[0]=
m*w;f[1]=q*w;f[2]=t*w;f[3]=h*Math.cos(v);return f}function Ls(f,h){var m=h[0],q=h[1],t=h[2];h=h[3];var v=Math.sqrt(m*m+q*q+t*t);v=0<v?Math.atan2(v,h)/v:0;f[0]=m*v;f[1]=q*v;f[2]=t*v;f[3]=.5*Math.log(m*m+q*q+t*t+h*h);return f}function Nk(f,h,m,q){var t=h[0],v=h[1],w=h[2];h=h[3];var z=m[0],C=m[1],E=m[2];m=m[3];var G=t*z+v*C+w*E+h*m;0>G&&(G=-G,z=-z,C=-C,E=-E,m=-m);if(1E-6<1-G){var I=Math.acos(G);var O=Math.sin(I);G=Math.sin((1-q)*I)/O;q=Math.sin(q*I)/O}else G=1-q;f[0]=G*t+q*z;f[1]=G*v+q*C;f[2]=G*w+q*
E;f[3]=G*h+q*m;return f}function Ms(f,h){var m=h[0]+h[4]+h[8];if(0<m)m=Math.sqrt(m+1),f[3]=.5*m,m=.5/m,f[0]=(h[5]-h[7])*m,f[1]=(h[6]-h[2])*m,f[2]=(h[1]-h[3])*m;else{var q=0;h[4]>h[0]&&(q=1);h[8]>h[3*q+q]&&(q=2);var t=(q+1)%3,v=(q+2)%3;m=Math.sqrt(h[3*q+q]-h[3*t+t]-h[3*v+v]+1);f[q]=.5*m;m=.5/m;f[3]=(h[3*t+v]-h[3*v+t])*m;f[t]=(h[3*t+q]+h[3*q+t])*m;f[v]=(h[3*v+q]+h[3*q+v])*m}return f}function Ns(f,h,m){var q=.5*m[0],t=.5*m[1];m=.5*m[2];var v=h[0],w=h[1],z=h[2];h=h[3];f[0]=v;f[1]=w;f[2]=z;f[3]=h;f[4]=
q*h+t*z-m*w;f[5]=t*h+m*v-q*z;f[6]=m*h+q*w-t*v;f[7]=-q*v-t*w-m*z;return f}function Os(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[3];f[4]=h[4];f[5]=h[5];f[6]=h[6];f[7]=h[7];return f}function Ps(f,h,m){var q=h[0],t=h[1],v=h[2],w=h[3],z=m[4],C=m[5],E=m[6],G=m[7],I=h[4],O=h[5],N=h[6];h=h[7];var X=m[0],Z=m[1],R=m[2];m=m[3];f[0]=q*m+w*X+t*R-v*Z;f[1]=t*m+w*Z+v*X-q*R;f[2]=v*m+w*R+q*Z-t*X;f[3]=w*m-q*X-t*Z-v*R;f[4]=q*G+w*z+t*E-v*C+I*m+h*X+O*R-N*Z;f[5]=t*G+w*C+v*z-q*E+O*m+h*Z+N*X-I*R;f[6]=v*G+w*E+q*C-t*z+N*m+
h*R+I*Z-O*X;f[7]=w*G-q*z-t*C-v*E+h*m-I*X-O*Z-N*R;return f}function Qs(){var f=new ta(2);ta!=Float32Array&&(f[0]=0,f[1]=0);return f}function Rs(f,h,m){f[0]=h[0]-m[0];f[1]=h[1]-m[1];return f}function Ss(f,h,m){f[0]=h[0]*m[0];f[1]=h[1]*m[1];return f}function Ts(f,h,m){f[0]=h[0]/m[0];f[1]=h[1]/m[1];return f}function Us(f,h){return Math.hypot(h[0]-f[0],h[1]-f[1])}function Vs(f,h){var m=h[0]-f[0];f=h[1]-f[1];return m*m+f*f}function Ws(f){return Math.hypot(f[0],f[1])}function Xs(f){var h=f[0];f=f[1];return h*
h+f*f}var ta="undefined"!==typeof Float32Array?Float32Array:Array,ud=Math.random,UB=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var f=0,h=arguments.length;h--;)f+=arguments[h]*arguments[h];return Math.sqrt(f)});var VB=Object.freeze({__proto__:null,EPSILON:1E-6,get D7(){return ta},Oda:ud,C7:"zyx",xna:function(f){ta=f},Sna:function(f){return f*UB},Wd:function(f,h){return Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))}}),WB=Object.freeze({__proto__:null,create:function(){var f=new ta(4);
ta!=Float32Array&&(f[1]=0,f[2]=0);f[0]=1;f[3]=1;return f},clone:function(f){var h=new ta(4);h[0]=f[0];h[1]=f[1];h[2]=f[2];h[3]=f[3];return h},Ca:function(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[3];return f},SC:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;return f},Ce:function(f,h,m,q){var t=new ta(4);t[0]=f;t[1]=h;t[2]=m;t[3]=q;return t},set:function(f,h,m,q,t){f[0]=h;f[1]=m;f[2]=q;f[3]=t;return f},PX:function(f,h){if(f===h){var m=h[1];f[1]=h[2];f[2]=m}else f[0]=h[0],f[1]=h[2],f[2]=h[1],f[3]=h[3];return f},
gy:function(f,h){var m=h[0],q=h[1],t=h[2];h=h[3];var v=m*h-t*q;if(!v)return null;v=1/v;f[0]=h*v;f[1]=-q*v;f[2]=-t*v;f[3]=m*v;return f},HW:function(f,h){var m=h[0];f[0]=h[3];f[1]=-h[1];f[2]=-h[2];f[3]=m;return f},EP:function(f){return f[0]*f[3]-f[2]*f[1]},multiply:b,rotate:function(f,h,m){var q=h[0],t=h[1],v=h[2];h=h[3];var w=Math.sin(m);m=Math.cos(m);f[0]=q*m+v*w;f[1]=t*m+h*w;f[2]=q*-w+v*m;f[3]=t*-w+h*m;return f},scale:function(f,h,m){var q=h[1],t=h[2],v=h[3],w=m[0];m=m[1];f[0]=h[0]*w;f[1]=q*w;f[2]=
t*m;f[3]=v*m;return f},AI:function(f,h){var m=Math.sin(h);h=Math.cos(h);f[0]=h;f[1]=m;f[2]=-m;f[3]=h;return f},KP:function(f,h){f[0]=h[0];f[1]=0;f[2]=0;f[3]=h[1];return f},ip:function(f){return"mat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},JP:function(f){return Math.hypot(f[0],f[1],f[2],f[3])},zba:function(f,h,m,q){f[2]=q[2]/q[0];m[0]=q[0];m[1]=q[1];m[3]=q[3]-f[2]*m[1];return[f,h,m]},add:function(f,h,m){f[0]=h[0]+m[0];f[1]=h[1]+m[1];f[2]=h[2]+m[2];f[3]=h[3]+m[3];return f},jp:d,yj:function(f,h){return f[0]===
h[0]&&f[1]===h[1]&&f[2]===h[2]&&f[3]===h[3]},Wd:function(f,h){var m=f[0],q=f[1],t=f[2];f=f[3];var v=h[0],w=h[1],z=h[2];h=h[3];return Math.abs(m-v)<=1E-6*Math.max(1,Math.abs(m),Math.abs(v))&&Math.abs(q-w)<=1E-6*Math.max(1,Math.abs(q),Math.abs(w))&&Math.abs(t-z)<=1E-6*Math.max(1,Math.abs(t),Math.abs(z))&&Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))},iQ:function(f,h,m){f[0]=h[0]*m;f[1]=h[1]*m;f[2]=h[2]*m;f[3]=h[3]*m;return f},jQ:function(f,h,m,q){f[0]=h[0]+m[0]*q;f[1]=h[1]+m[1]*q;f[2]=h[2]+
m[2]*q;f[3]=h[3]+m[3]*q;return f},fp:b,sub:d}),XB=Object.freeze({__proto__:null,create:function(){var f=new ta(6);ta!=Float32Array&&(f[1]=0,f[2]=0,f[4]=0,f[5]=0);f[0]=1;f[3]=1;return f},clone:function(f){var h=new ta(6);h[0]=f[0];h[1]=f[1];h[2]=f[2];h[3]=f[3];h[4]=f[4];h[5]=f[5];return h},Ca:function(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[3];f[4]=h[4];f[5]=h[5];return f},SC:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;return f},Ce:function(f,h,m,q,t,v){var w=new ta(6);w[0]=f;w[1]=h;w[2]=
m;w[3]=q;w[4]=t;w[5]=v;return w},set:function(f,h,m,q,t,v,w){f[0]=h;f[1]=m;f[2]=q;f[3]=t;f[4]=v;f[5]=w;return f},gy:function(f,h){var m=h[0],q=h[1],t=h[2],v=h[3],w=h[4];h=h[5];var z=m*v-q*t;if(!z)return null;z=1/z;f[0]=v*z;f[1]=-q*z;f[2]=-t*z;f[3]=m*z;f[4]=(t*h-v*w)*z;f[5]=(q*w-m*h)*z;return f},EP:function(f){return f[0]*f[3]-f[1]*f[2]},multiply:c,rotate:function(f,h,m){var q=h[0],t=h[1],v=h[2],w=h[3],z=h[4];h=h[5];var C=Math.sin(m);m=Math.cos(m);f[0]=q*m+v*C;f[1]=t*m+w*C;f[2]=q*-C+v*m;f[3]=t*-C+
w*m;f[4]=z;f[5]=h;return f},scale:function(f,h,m){var q=h[1],t=h[2],v=h[3],w=h[4],z=h[5],C=m[0];m=m[1];f[0]=h[0]*C;f[1]=q*C;f[2]=t*m;f[3]=v*m;f[4]=w;f[5]=z;return f},translate:function(f,h,m){var q=h[0],t=h[1],v=h[2],w=h[3],z=h[4];h=h[5];var C=m[0];m=m[1];f[0]=q;f[1]=t;f[2]=v;f[3]=w;f[4]=q*C+v*m+z;f[5]=t*C+w*m+h;return f},AI:function(f,h){var m=Math.sin(h);h=Math.cos(h);f[0]=h;f[1]=m;f[2]=-m;f[3]=h;f[4]=0;f[5]=0;return f},KP:function(f,h){f[0]=h[0];f[1]=0;f[2]=0;f[3]=h[1];f[4]=0;f[5]=0;return f},
LP:function(f,h){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=h[0];f[5]=h[1];return f},ip:function(f){return"mat2d("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+")"},JP:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],1)},add:function(f,h,m){f[0]=h[0]+m[0];f[1]=h[1]+m[1];f[2]=h[2]+m[2];f[3]=h[3]+m[3];f[4]=h[4]+m[4];f[5]=h[5]+m[5];return f},jp:e,iQ:function(f,h,m){f[0]=h[0]*m;f[1]=h[1]*m;f[2]=h[2]*m;f[3]=h[3]*m;f[4]=h[4]*m;f[5]=h[5]*m;return f},jQ:function(f,h,m,q){f[0]=h[0]+m[0]*q;f[1]=
h[1]+m[1]*q;f[2]=h[2]+m[2]*q;f[3]=h[3]+m[3]*q;f[4]=h[4]+m[4]*q;f[5]=h[5]+m[5]*q;return f},yj:function(f,h){return f[0]===h[0]&&f[1]===h[1]&&f[2]===h[2]&&f[3]===h[3]&&f[4]===h[4]&&f[5]===h[5]},Wd:function(f,h){var m=f[0],q=f[1],t=f[2],v=f[3],w=f[4];f=f[5];var z=h[0],C=h[1],E=h[2],G=h[3],I=h[4];h=h[5];return Math.abs(m-z)<=1E-6*Math.max(1,Math.abs(m),Math.abs(z))&&Math.abs(q-C)<=1E-6*Math.max(1,Math.abs(q),Math.abs(C))&&Math.abs(t-E)<=1E-6*Math.max(1,Math.abs(t),Math.abs(E))&&Math.abs(v-G)<=1E-6*Math.max(1,
Math.abs(v),Math.abs(G))&&Math.abs(w-I)<=1E-6*Math.max(1,Math.abs(w),Math.abs(I))&&Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))},fp:c,sub:e}),YB=Object.freeze({__proto__:null,create:g,f6:function(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[4];f[4]=h[5];f[5]=h[6];f[6]=h[8];f[7]=h[9];f[8]=h[10];return f},clone:function(f){var h=new ta(9);h[0]=f[0];h[1]=f[1];h[2]=f[2];h[3]=f[3];h[4]=f[4];h[5]=f[5];h[6]=f[6];h[7]=f[7];h[8]=f[8];return h},Ca:function(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[3];
f[4]=h[4];f[5]=h[5];f[6]=h[6];f[7]=h[7];f[8]=h[8];return f},Ce:function(f,h,m,q,t,v,w,z,C){var E=new ta(9);E[0]=f;E[1]=h;E[2]=m;E[3]=q;E[4]=t;E[5]=v;E[6]=w;E[7]=z;E[8]=C;return E},set:function(f,h,m,q,t,v,w,z,C,E){f[0]=h;f[1]=m;f[2]=q;f[3]=t;f[4]=v;f[5]=w;f[6]=z;f[7]=C;f[8]=E;return f},SC:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},PX:function(f,h){if(f===h){var m=h[1],q=h[2],t=h[5];f[1]=h[3];f[2]=h[6];f[3]=m;f[5]=h[7];f[6]=q;f[7]=t}else f[0]=h[0],f[1]=h[3],
f[2]=h[6],f[3]=h[1],f[4]=h[4],f[5]=h[7],f[6]=h[2],f[7]=h[5],f[8]=h[8];return f},gy:function(f,h){var m=h[0],q=h[1],t=h[2],v=h[3],w=h[4],z=h[5],C=h[6],E=h[7];h=h[8];var G=h*w-z*E,I=-h*v+z*C,O=E*v-w*C,N=m*G+q*I+t*O;if(!N)return null;N=1/N;f[0]=G*N;f[1]=(-h*q+t*E)*N;f[2]=(z*q-t*w)*N;f[3]=I*N;f[4]=(h*m-t*C)*N;f[5]=(-z*m+t*v)*N;f[6]=O*N;f[7]=(-E*m+q*C)*N;f[8]=(w*m-q*v)*N;return f},HW:function(f,h){var m=h[0],q=h[1],t=h[2],v=h[3],w=h[4],z=h[5],C=h[6],E=h[7];h=h[8];f[0]=w*h-z*E;f[1]=t*E-q*h;f[2]=q*z-t*w;
f[3]=z*C-v*h;f[4]=m*h-t*C;f[5]=t*v-m*z;f[6]=v*E-w*C;f[7]=q*C-m*E;f[8]=m*w-q*v;return f},EP:function(f){var h=f[3],m=f[4],q=f[5],t=f[6],v=f[7],w=f[8];return f[0]*(w*m-q*v)+f[1]*(-w*h+q*t)+f[2]*(v*h-m*t)},multiply:k,translate:function(f,h,m){var q=h[0],t=h[1],v=h[2],w=h[3],z=h[4],C=h[5],E=h[6],G=h[7];h=h[8];var I=m[0];m=m[1];f[0]=q;f[1]=t;f[2]=v;f[3]=w;f[4]=z;f[5]=C;f[6]=I*q+m*w+E;f[7]=I*t+m*z+G;f[8]=I*v+m*C+h;return f},rotate:function(f,h,m){var q=h[0],t=h[1],v=h[2],w=h[3],z=h[4],C=h[5],E=h[6],G=h[7];
h=h[8];var I=Math.sin(m);m=Math.cos(m);f[0]=m*q+I*w;f[1]=m*t+I*z;f[2]=m*v+I*C;f[3]=m*w-I*q;f[4]=m*z-I*t;f[5]=m*C-I*v;f[6]=E;f[7]=G;f[8]=h;return f},scale:function(f,h,m){var q=m[0];m=m[1];f[0]=q*h[0];f[1]=q*h[1];f[2]=q*h[2];f[3]=m*h[3];f[4]=m*h[4];f[5]=m*h[5];f[6]=h[6];f[7]=h[7];f[8]=h[8];return f},LP:function(f,h){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=h[0];f[7]=h[1];f[8]=1;return f},AI:function(f,h){var m=Math.sin(h);h=Math.cos(h);f[0]=h;f[1]=m;f[2]=0;f[3]=-m;f[4]=h;f[5]=0;f[6]=0;f[7]=0;
f[8]=1;return f},KP:function(f,h){f[0]=h[0];f[1]=0;f[2]=0;f[3]=0;f[4]=h[1];f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},lla:function(f,h){f[0]=h[0];f[1]=h[1];f[2]=0;f[3]=h[2];f[4]=h[3];f[5]=0;f[6]=h[4];f[7]=h[5];f[8]=1;return f},g6:function(f,h){var m=h[0],q=h[1],t=h[2];h=h[3];var v=m+m,w=q+q,z=t+t;m*=v;var C=q*v;q*=w;var E=t*v,G=t*w;t*=z;v*=h;w*=h;h*=z;f[0]=1-q-t;f[3]=C-h;f[6]=E+w;f[1]=C+h;f[4]=1-m-t;f[7]=G-v;f[2]=E-w;f[5]=G+v;f[8]=1-m-q;return f},Bma:function(f,h){var m=h[0],q=h[1],t=h[2],v=h[3],w=h[4],
z=h[5],C=h[6],E=h[7],G=h[8],I=h[9],O=h[10],N=h[11],X=h[12],Z=h[13],R=h[14];h=h[15];var ka=m*z-q*w,ha=m*C-t*w,qa=m*E-v*w,ra=q*C-t*z,la=q*E-v*z,cb=t*E-v*C,db=G*Z-I*X,eb=G*R-O*X;G=G*h-N*X;var fb=I*R-O*Z;I=I*h-N*Z;O=O*h-N*R;N=ka*O-ha*I+qa*fb+ra*G-la*eb+cb*db;if(!N)return null;N=1/N;f[0]=(z*O-C*I+E*fb)*N;f[1]=(C*G-w*O-E*eb)*N;f[2]=(w*I-z*G+E*db)*N;f[3]=(t*I-q*O-v*fb)*N;f[4]=(m*O-t*G+v*eb)*N;f[5]=(q*G-m*I-v*db)*N;f[6]=(Z*cb-R*la+h*ra)*N;f[7]=(R*qa-X*cb-h*ha)*N;f[8]=(X*la-Z*qa+h*ka)*N;return f},wX:function(f,
h,m){f[0]=2/h;f[1]=0;f[2]=0;f[3]=0;f[4]=-2/m;f[5]=0;f[6]=-1;f[7]=1;f[8]=1;return f},ip:function(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"},JP:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8])},add:function(f,h,m){f[0]=h[0]+m[0];f[1]=h[1]+m[1];f[2]=h[2]+m[2];f[3]=h[3]+m[3];f[4]=h[4]+m[4];f[5]=h[5]+m[5];f[6]=h[6]+m[6];f[7]=h[7]+m[7];f[8]=h[8]+m[8];return f},jp:l,iQ:function(f,h,m){f[0]=h[0]*m;f[1]=h[1]*m;f[2]=
h[2]*m;f[3]=h[3]*m;f[4]=h[4]*m;f[5]=h[5]*m;f[6]=h[6]*m;f[7]=h[7]*m;f[8]=h[8]*m;return f},jQ:function(f,h,m,q){f[0]=h[0]+m[0]*q;f[1]=h[1]+m[1]*q;f[2]=h[2]+m[2]*q;f[3]=h[3]+m[3]*q;f[4]=h[4]+m[4]*q;f[5]=h[5]+m[5]*q;f[6]=h[6]+m[6]*q;f[7]=h[7]+m[7]*q;f[8]=h[8]+m[8]*q;return f},yj:function(f,h){return f[0]===h[0]&&f[1]===h[1]&&f[2]===h[2]&&f[3]===h[3]&&f[4]===h[4]&&f[5]===h[5]&&f[6]===h[6]&&f[7]===h[7]&&f[8]===h[8]},Wd:function(f,h){var m=f[0],q=f[1],t=f[2],v=f[3],w=f[4],z=f[5],C=f[6],E=f[7];f=f[8];var G=
h[0],I=h[1],O=h[2],N=h[3],X=h[4],Z=h[5],R=h[6],ka=h[7];h=h[8];return Math.abs(m-G)<=1E-6*Math.max(1,Math.abs(m),Math.abs(G))&&Math.abs(q-I)<=1E-6*Math.max(1,Math.abs(q),Math.abs(I))&&Math.abs(t-O)<=1E-6*Math.max(1,Math.abs(t),Math.abs(O))&&Math.abs(v-N)<=1E-6*Math.max(1,Math.abs(v),Math.abs(N))&&Math.abs(w-X)<=1E-6*Math.max(1,Math.abs(w),Math.abs(X))&&Math.abs(z-Z)<=1E-6*Math.max(1,Math.abs(z),Math.abs(Z))&&Math.abs(C-R)<=1E-6*Math.max(1,Math.abs(C),Math.abs(R))&&Math.abs(E-ka)<=1E-6*Math.max(1,Math.abs(E),
Math.abs(ka))&&Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))},fp:k,sub:l}),ZB=Object.freeze({__proto__:null,create:function(){var f=new ta(16);ta!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0);f[0]=1;f[5]=1;f[10]=1;f[15]=1;return f},clone:function(f){var h=new ta(16);h[0]=f[0];h[1]=f[1];h[2]=f[2];h[3]=f[3];h[4]=f[4];h[5]=f[5];h[6]=f[6];h[7]=f[7];h[8]=f[8];h[9]=f[9];h[10]=f[10];h[11]=f[11];h[12]=f[12];h[13]=f[13];h[14]=f[14];h[15]=
f[15];return h},Ca:function(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[3];f[4]=h[4];f[5]=h[5];f[6]=h[6];f[7]=h[7];f[8]=h[8];f[9]=h[9];f[10]=h[10];f[11]=h[11];f[12]=h[12];f[13]=h[13];f[14]=h[14];f[15]=h[15];return f},Ce:function(f,h,m,q,t,v,w,z,C,E,G,I,O,N,X,Z){var R=new ta(16);R[0]=f;R[1]=h;R[2]=m;R[3]=q;R[4]=t;R[5]=v;R[6]=w;R[7]=z;R[8]=C;R[9]=E;R[10]=G;R[11]=I;R[12]=O;R[13]=N;R[14]=X;R[15]=Z;return R},set:function(f,h,m,q,t,v,w,z,C,E,G,I,O,N,X,Z,R){f[0]=h;f[1]=m;f[2]=q;f[3]=t;f[4]=v;f[5]=w;f[6]=z;
f[7]=C;f[8]=E;f[9]=G;f[10]=I;f[11]=O;f[12]=N;f[13]=X;f[14]=Z;f[15]=R;return f},SC:n,PX:function(f,h){if(f===h){var m=h[1],q=h[2],t=h[3],v=h[6],w=h[7],z=h[11];f[1]=h[4];f[2]=h[8];f[3]=h[12];f[4]=m;f[6]=h[9];f[7]=h[13];f[8]=q;f[9]=v;f[11]=h[14];f[12]=t;f[13]=w;f[14]=z}else f[0]=h[0],f[1]=h[4],f[2]=h[8],f[3]=h[12],f[4]=h[1],f[5]=h[5],f[6]=h[9],f[7]=h[13],f[8]=h[2],f[9]=h[6],f[10]=h[10],f[11]=h[14],f[12]=h[3],f[13]=h[7],f[14]=h[11],f[15]=h[15];return f},gy:function(f,h){var m=h[0],q=h[1],t=h[2],v=h[3],
w=h[4],z=h[5],C=h[6],E=h[7],G=h[8],I=h[9],O=h[10],N=h[11],X=h[12],Z=h[13],R=h[14];h=h[15];var ka=m*z-q*w,ha=m*C-t*w,qa=m*E-v*w,ra=q*C-t*z,la=q*E-v*z,cb=t*E-v*C,db=G*Z-I*X,eb=G*R-O*X,fb=G*h-N*X,Jb=I*R-O*Z,yc=I*h-N*Z,zc=O*h-N*R,gb=ka*zc-ha*yc+qa*Jb+ra*fb-la*eb+cb*db;if(!gb)return null;gb=1/gb;f[0]=(z*zc-C*yc+E*Jb)*gb;f[1]=(t*yc-q*zc-v*Jb)*gb;f[2]=(Z*cb-R*la+h*ra)*gb;f[3]=(O*la-I*cb-N*ra)*gb;f[4]=(C*fb-w*zc-E*eb)*gb;f[5]=(m*zc-t*fb+v*eb)*gb;f[6]=(R*qa-X*cb-h*ha)*gb;f[7]=(G*cb-O*qa+N*ha)*gb;f[8]=(w*yc-
z*fb+E*db)*gb;f[9]=(q*fb-m*yc-v*db)*gb;f[10]=(X*la-Z*qa+h*ka)*gb;f[11]=(I*qa-G*la-N*ka)*gb;f[12]=(z*eb-w*Jb-C*db)*gb;f[13]=(m*Jb-q*eb+t*db)*gb;f[14]=(Z*ha-X*ra-R*ka)*gb;f[15]=(G*ra-I*ha+O*ka)*gb;return f},HW:function(f,h){var m=h[0],q=h[1],t=h[2],v=h[3],w=h[4],z=h[5],C=h[6],E=h[7],G=h[8],I=h[9],O=h[10],N=h[11],X=h[12],Z=h[13],R=h[14];h=h[15];var ka=m*z-q*w,ha=m*C-t*w,qa=m*E-v*w,ra=q*C-t*z,la=q*E-v*z,cb=t*E-v*C,db=G*Z-I*X,eb=G*R-O*X,fb=G*h-N*X,Jb=I*R-O*Z,yc=I*h-N*Z,zc=O*h-N*R;f[0]=z*zc-C*yc+E*Jb;f[1]=
t*yc-q*zc-v*Jb;f[2]=Z*cb-R*la+h*ra;f[3]=O*la-I*cb-N*ra;f[4]=C*fb-w*zc-E*eb;f[5]=m*zc-t*fb+v*eb;f[6]=R*qa-X*cb-h*ha;f[7]=G*cb-O*qa+N*ha;f[8]=w*yc-z*fb+E*db;f[9]=q*fb-m*yc-v*db;f[10]=X*la-Z*qa+h*ka;f[11]=I*qa-G*la-N*ka;f[12]=z*eb-w*Jb-C*db;f[13]=m*Jb-q*eb+t*db;f[14]=Z*ha-X*ra-R*ka;f[15]=G*ra-I*ha+O*ka;return f},EP:function(f){var h=f[0],m=f[1],q=f[2],t=f[4],v=f[5],w=f[6],z=f[8],C=f[9],E=f[10],G=f[12],I=f[13],O=f[14],N=h*v-m*t,X=h*w-q*t,Z=m*w-q*v,R=z*I-C*G,ka=z*O-E*G,ha=C*O-E*I;return f[7]*(h*ha-m*ka+
q*R)-f[3]*(t*ha-v*ka+w*R)+f[15]*(z*Z-C*X+E*N)-f[11]*(G*Z-I*X+O*N)},multiply:p,translate:function(f,h,m){var q=m[0],t=m[1];m=m[2];if(h===f)f[12]=h[0]*q+h[4]*t+h[8]*m+h[12],f[13]=h[1]*q+h[5]*t+h[9]*m+h[13],f[14]=h[2]*q+h[6]*t+h[10]*m+h[14],f[15]=h[3]*q+h[7]*t+h[11]*m+h[15];else{var v=h[0];var w=h[1];var z=h[2];var C=h[3];var E=h[4];var G=h[5];var I=h[6];var O=h[7];var N=h[8];var X=h[9];var Z=h[10];var R=h[11];f[0]=v;f[1]=w;f[2]=z;f[3]=C;f[4]=E;f[5]=G;f[6]=I;f[7]=O;f[8]=N;f[9]=X;f[10]=Z;f[11]=R;f[12]=
v*q+E*t+N*m+h[12];f[13]=w*q+G*t+X*m+h[13];f[14]=z*q+I*t+Z*m+h[14];f[15]=C*q+O*t+R*m+h[15]}return f},scale:function(f,h,m){var q=m[0],t=m[1];m=m[2];f[0]=h[0]*q;f[1]=h[1]*q;f[2]=h[2]*q;f[3]=h[3]*q;f[4]=h[4]*t;f[5]=h[5]*t;f[6]=h[6]*t;f[7]=h[7]*t;f[8]=h[8]*m;f[9]=h[9]*m;f[10]=h[10]*m;f[11]=h[11]*m;f[12]=h[12];f[13]=h[13];f[14]=h[14];f[15]=h[15];return f},rotate:function(f,h,m,q){var t=q[0],v=q[1];q=q[2];var w=Math.hypot(t,v,q);if(1E-6>w)return null;w=1/w;t*=w;v*=w;q*=w;var z=Math.sin(m);var C=Math.cos(m);
var E=1-C;m=h[0];w=h[1];var G=h[2];var I=h[3];var O=h[4];var N=h[5];var X=h[6];var Z=h[7];var R=h[8];var ka=h[9];var ha=h[10];var qa=h[11];var ra=t*t*E+C;var la=v*t*E+q*z;var cb=q*t*E-v*z;var db=t*v*E-q*z;var eb=v*v*E+C;var fb=q*v*E+t*z;var Jb=t*q*E+v*z;t=v*q*E-t*z;v=q*q*E+C;f[0]=m*ra+O*la+R*cb;f[1]=w*ra+N*la+ka*cb;f[2]=G*ra+X*la+ha*cb;f[3]=I*ra+Z*la+qa*cb;f[4]=m*db+O*eb+R*fb;f[5]=w*db+N*eb+ka*fb;f[6]=G*db+X*eb+ha*fb;f[7]=I*db+Z*eb+qa*fb;f[8]=m*Jb+O*t+R*v;f[9]=w*Jb+N*t+ka*v;f[10]=G*Jb+X*t+ha*v;f[11]=
I*Jb+Z*t+qa*v;h!==f&&(f[12]=h[12],f[13]=h[13],f[14]=h[14],f[15]=h[15]);return f},yQ:function(f,h,m){var q=Math.sin(m);m=Math.cos(m);var t=h[4],v=h[5],w=h[6],z=h[7],C=h[8],E=h[9],G=h[10],I=h[11];h!==f&&(f[0]=h[0],f[1]=h[1],f[2]=h[2],f[3]=h[3],f[12]=h[12],f[13]=h[13],f[14]=h[14],f[15]=h[15]);f[4]=t*m+C*q;f[5]=v*m+E*q;f[6]=w*m+G*q;f[7]=z*m+I*q;f[8]=C*m-t*q;f[9]=E*m-v*q;f[10]=G*m-w*q;f[11]=I*m-z*q;return f},zQ:function(f,h,m){var q=Math.sin(m);m=Math.cos(m);var t=h[0],v=h[1],w=h[2],z=h[3],C=h[8],E=h[9],
G=h[10],I=h[11];h!==f&&(f[4]=h[4],f[5]=h[5],f[6]=h[6],f[7]=h[7],f[12]=h[12],f[13]=h[13],f[14]=h[14],f[15]=h[15]);f[0]=t*m-C*q;f[1]=v*m-E*q;f[2]=w*m-G*q;f[3]=z*m-I*q;f[8]=t*q+C*m;f[9]=v*q+E*m;f[10]=w*q+G*m;f[11]=z*q+I*m;return f},AQ:function(f,h,m){var q=Math.sin(m);m=Math.cos(m);var t=h[0],v=h[1],w=h[2],z=h[3],C=h[4],E=h[5],G=h[6],I=h[7];h!==f&&(f[8]=h[8],f[9]=h[9],f[10]=h[10],f[11]=h[11],f[12]=h[12],f[13]=h[13],f[14]=h[14],f[15]=h[15]);f[0]=t*m+C*q;f[1]=v*m+E*q;f[2]=w*m+G*q;f[3]=z*m+I*q;f[4]=C*m-
t*q;f[5]=E*m-v*q;f[6]=G*m-w*q;f[7]=I*m-z*q;return f},LP:function(f,h){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=h[0];f[13]=h[1];f[14]=h[2];f[15]=1;return f},KP:function(f,h){f[0]=h[0];f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=h[1];f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=h[2];f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},AI:function(f,h,m){var q=m[0],t=m[1];m=m[2];var v=Math.hypot(q,t,m);if(1E-6>v)return null;v=1/v;q*=v;t*=v;m*=v;v=Math.sin(h);h=Math.cos(h);var w=
1-h;f[0]=q*q*w+h;f[1]=t*q*w+m*v;f[2]=m*q*w-t*v;f[3]=0;f[4]=q*t*w-m*v;f[5]=t*t*w+h;f[6]=m*t*w+q*v;f[7]=0;f[8]=q*m*w+t*v;f[9]=t*m*w-q*v;f[10]=m*m*w+h;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},rla:function(f,h){var m=Math.sin(h);h=Math.cos(h);f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=h;f[6]=m;f[7]=0;f[8]=0;f[9]=-m;f[10]=h;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},sla:function(f,h){var m=Math.sin(h);h=Math.cos(h);f[0]=h;f[1]=0;f[2]=-m;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=m;f[9]=0;f[10]=
h;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},tla:function(f,h){var m=Math.sin(h);h=Math.cos(h);f[0]=h;f[1]=m;f[2]=0;f[3]=0;f[4]=-m;f[5]=h;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},h6:r,nla:function(f,h){var m=new ta(3),q=-h[0],t=-h[1],v=-h[2],w=h[3],z=h[4],C=h[5],E=h[6],G=h[7],I=q*q+t*t+v*v+w*w;0<I?(m[0]=2*(z*w+G*q+C*v-E*t)/I,m[1]=2*(C*w+G*t+E*q-z*v)/I,m[2]=2*(E*w+G*v+z*t-C*q)/I):(m[0]=2*(z*w+G*q+C*v-E*t),m[1]=2*(C*w+G*t+E*q-z*v),m[2]=2*(E*w+G*v+
z*t-C*q));r(f,h,m);return f},l6:u,Dla:x,Cla:y,Rka:function(f,h,m,q){h[0]=q[12];h[1]=q[13];h[2]=q[14];var t=q[0],v=q[1],w=q[2],z=q[4],C=q[5],E=q[6],G=q[8];h=q[9];q=q[10];m[0]=Math.hypot(t,v,w);m[1]=Math.hypot(z,C,E);m[2]=Math.hypot(G,h,q);var I=1/m[0],O=1/m[1],N=1/m[2];m=t*I;v*=O;w*=N;z*=I;C*=O;E*=N;G*=I;h*=O;q*=N;O=m+C+q;0<O?(q=2*Math.sqrt(O+1),f[3]=.25*q,f[0]=(E-h)/q,f[1]=(G-w)/q,f[2]=(v-z)/q):m>C&&m>q?(q=2*Math.sqrt(1+m-C-q),f[3]=(E-h)/q,f[0]=.25*q,f[1]=(v+z)/q,f[2]=(G+w)/q):C>q?(q=2*Math.sqrt(1+
C-m-q),f[3]=(G-w)/q,f[0]=(v+z)/q,f[1]=.25*q,f[2]=(E+h)/q):(q=2*Math.sqrt(1+q-m-C),f[3]=(v-z)/q,f[0]=(G+w)/q,f[1]=(E+h)/q,f[2]=.25*q);return f},ola:function(f,h,m,q){var t=h[0],v=h[1],w=h[2],z=h[3],C=t+t,E=v+v,G=w+w;h=t*C;var I=t*E;t*=G;var O=v*E;v*=G;w*=G;C*=z;E*=z;z*=G;G=q[0];var N=q[1];q=q[2];f[0]=(1-(O+w))*G;f[1]=(I+z)*G;f[2]=(t-E)*G;f[3]=0;f[4]=(I-z)*N;f[5]=(1-(h+w))*N;f[6]=(v+C)*N;f[7]=0;f[8]=(t+E)*q;f[9]=(v-C)*q;f[10]=(1-(h+O))*q;f[11]=0;f[12]=m[0];f[13]=m[1];f[14]=m[2];f[15]=1;return f},pla:function(f,
h,m,q,t){var v=h[0],w=h[1],z=h[2],C=h[3],E=v+v,G=w+w,I=z+z;h=v*E;var O=v*G,N=v*I;v=w*G;w*=I;var X=z*I;z=C*E;G*=C;var Z=C*I,R=q[0],ka=q[1];I=q[2];q=t[0];C=t[1];t=t[2];E=(1-(v+X))*R;var ha=(O+Z)*R;R*=N-G;O=(O-Z)*ka;X=(1-(h+X))*ka;ka*=w+z;N=(N+G)*I;w=(w-z)*I;h=(1-(h+v))*I;f[0]=E;f[1]=ha;f[2]=R;f[3]=0;f[4]=O;f[5]=X;f[6]=ka;f[7]=0;f[8]=N;f[9]=w;f[10]=h;f[11]=0;f[12]=m[0]+q-(E*q+O*C+N*t);f[13]=m[1]+C-(ha*q+X*C+w*t);f[14]=m[2]+t-(R*q+ka*C+h*t);f[15]=1;return f},g6:function(f,h){var m=h[0],q=h[1],t=h[2];
h=h[3];var v=m+m,w=q+q,z=t+t;m*=v;var C=q*v;q*=w;var E=t*v,G=t*w;t*=z;v*=h;w*=h;h*=z;f[0]=1-q-t;f[1]=C+h;f[2]=E-w;f[3]=0;f[4]=C-h;f[5]=1-m-t;f[6]=G+v;f[7]=0;f[8]=E+w;f[9]=G-v;f[10]=1-m-q;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},i6:function(f,h,m,q,t,v,w){var z=1/(m-h),C=1/(t-q),E=1/(v-w);f[0]=2*v*z;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2*v*C;f[6]=0;f[7]=0;f[8]=(m+h)*z;f[9]=(t+q)*C;f[10]=(w+v)*E;f[11]=-1;f[12]=0;f[13]=0;f[14]=w*v*2*E;f[15]=0;return f},Kma:A,perspective:A,W6:function(f,h,m,q,t){h=
1/Math.tan(h/2);f[0]=h/m;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=h;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=t&&Infinity!==t?(m=1/(q-t),f[10]=t*m,f[14]=t*q*m):(f[10]=-1,f[14]=-q);return f},Jma:function(f,h,m,q){var t=Math.tan(h.$na*Math.PI/180),v=Math.tan(h.Yka*Math.PI/180),w=Math.tan(h.oma*Math.PI/180);h=Math.tan(h.ina*Math.PI/180);var z=2/(w+h),C=2/(t+v);f[0]=z;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=C;f[6]=0;f[7]=0;f[8]=-((w-h)*z*.5);f[9]=(t-v)*C*.5;f[10]=q/(m-q);f[11]=-1;f[12]=0;f[13]=
0;f[14]=q*m/(m-q);f[15]=0;return f},Ima:D,T6:D,U6:function(f,h,m,q,t,v,w){var z=1/(h-m),C=1/(q-t);w=1/(v-w);f[0]=-2*z;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*C;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=w;f[11]=0;f[12]=(h+m)*z;f[13]=(t+q)*C;f[14]=v*w;f[15]=1;return f},E6:function(f,h,m,q){var t=h[0],v=h[1];h=h[2];var w=q[0];var z=q[1];var C=q[2];var E=m[0];q=m[1];var G=m[2];if(1E-6>Math.abs(t-E)&&1E-6>Math.abs(v-q)&&1E-6>Math.abs(h-G))return n(f);m=t-E;q=v-q;E=h-G;var I=1/Math.hypot(m,q,E);m*=I;q*=I;E*=I;G=z*
E-C*q;C=C*m-w*E;w=w*q-z*m;(I=Math.hypot(G,C,w))?(I=1/I,G*=I,C*=I,w*=I):w=C=G=0;z=q*w-E*C;var O=E*G-m*w;var N=m*C-q*G;(I=Math.hypot(z,O,N))?(I=1/I,z*=I,O*=I,N*=I):N=O=z=0;f[0]=G;f[1]=z;f[2]=m;f[3]=0;f[4]=C;f[5]=O;f[6]=q;f[7]=0;f[8]=w;f[9]=N;f[10]=E;f[11]=0;f[12]=-(G*t+C*v+w*h);f[13]=-(z*t+O*v+N*h);f[14]=-(m*t+q*v+E*h);f[15]=1;return f},Ona:function(f,h,m,q){var t=h[0],v=h[1];h=h[2];var w=q[0],z=q[1],C=q[2];q=t-m[0];var E=v-m[1];m=h-m[2];var G=q*q+E*E+m*m;0<G&&(G=1/Math.sqrt(G),q*=G,E*=G,m*=G);var I=
z*m-C*E;C=C*q-w*m;w=w*E-z*q;G=I*I+C*C+w*w;0<G&&(G=1/Math.sqrt(G),I*=G,C*=G,w*=G);f[0]=I;f[1]=C;f[2]=w;f[3]=0;f[4]=E*w-m*C;f[5]=m*I-q*w;f[6]=q*C-E*I;f[7]=0;f[8]=q;f[9]=E;f[10]=m;f[11]=0;f[12]=t;f[13]=v;f[14]=h;f[15]=1;return f},ip:function(f){return"mat4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+", "+f[9]+", "+f[10]+", "+f[11]+", "+f[12]+", "+f[13]+", "+f[14]+", "+f[15]+")"},JP:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],
f[10],f[11],f[12],f[13],f[14],f[15])},add:function(f,h,m){f[0]=h[0]+m[0];f[1]=h[1]+m[1];f[2]=h[2]+m[2];f[3]=h[3]+m[3];f[4]=h[4]+m[4];f[5]=h[5]+m[5];f[6]=h[6]+m[6];f[7]=h[7]+m[7];f[8]=h[8]+m[8];f[9]=h[9]+m[9];f[10]=h[10]+m[10];f[11]=h[11]+m[11];f[12]=h[12]+m[12];f[13]=h[13]+m[13];f[14]=h[14]+m[14];f[15]=h[15]+m[15];return f},jp:F,iQ:function(f,h,m){f[0]=h[0]*m;f[1]=h[1]*m;f[2]=h[2]*m;f[3]=h[3]*m;f[4]=h[4]*m;f[5]=h[5]*m;f[6]=h[6]*m;f[7]=h[7]*m;f[8]=h[8]*m;f[9]=h[9]*m;f[10]=h[10]*m;f[11]=h[11]*m;f[12]=
h[12]*m;f[13]=h[13]*m;f[14]=h[14]*m;f[15]=h[15]*m;return f},jQ:function(f,h,m,q){f[0]=h[0]+m[0]*q;f[1]=h[1]+m[1]*q;f[2]=h[2]+m[2]*q;f[3]=h[3]+m[3]*q;f[4]=h[4]+m[4]*q;f[5]=h[5]+m[5]*q;f[6]=h[6]+m[6]*q;f[7]=h[7]+m[7]*q;f[8]=h[8]+m[8]*q;f[9]=h[9]+m[9]*q;f[10]=h[10]+m[10]*q;f[11]=h[11]+m[11]*q;f[12]=h[12]+m[12]*q;f[13]=h[13]+m[13]*q;f[14]=h[14]+m[14]*q;f[15]=h[15]+m[15]*q;return f},yj:function(f,h){return f[0]===h[0]&&f[1]===h[1]&&f[2]===h[2]&&f[3]===h[3]&&f[4]===h[4]&&f[5]===h[5]&&f[6]===h[6]&&f[7]===
h[7]&&f[8]===h[8]&&f[9]===h[9]&&f[10]===h[10]&&f[11]===h[11]&&f[12]===h[12]&&f[13]===h[13]&&f[14]===h[14]&&f[15]===h[15]},Wd:function(f,h){var m=f[0],q=f[1],t=f[2],v=f[3],w=f[4],z=f[5],C=f[6],E=f[7],G=f[8],I=f[9],O=f[10],N=f[11],X=f[12],Z=f[13],R=f[14];f=f[15];var ka=h[0],ha=h[1],qa=h[2],ra=h[3],la=h[4],cb=h[5],db=h[6],eb=h[7],fb=h[8],Jb=h[9],yc=h[10],zc=h[11],gb=h[12],Ys=h[13],Zs=h[14];h=h[15];return Math.abs(m-ka)<=1E-6*Math.max(1,Math.abs(m),Math.abs(ka))&&Math.abs(q-ha)<=1E-6*Math.max(1,Math.abs(q),
Math.abs(ha))&&Math.abs(t-qa)<=1E-6*Math.max(1,Math.abs(t),Math.abs(qa))&&Math.abs(v-ra)<=1E-6*Math.max(1,Math.abs(v),Math.abs(ra))&&Math.abs(w-la)<=1E-6*Math.max(1,Math.abs(w),Math.abs(la))&&Math.abs(z-cb)<=1E-6*Math.max(1,Math.abs(z),Math.abs(cb))&&Math.abs(C-db)<=1E-6*Math.max(1,Math.abs(C),Math.abs(db))&&Math.abs(E-eb)<=1E-6*Math.max(1,Math.abs(E),Math.abs(eb))&&Math.abs(G-fb)<=1E-6*Math.max(1,Math.abs(G),Math.abs(fb))&&Math.abs(I-Jb)<=1E-6*Math.max(1,Math.abs(I),Math.abs(Jb))&&Math.abs(O-yc)<=
1E-6*Math.max(1,Math.abs(O),Math.abs(yc))&&Math.abs(N-zc)<=1E-6*Math.max(1,Math.abs(N),Math.abs(zc))&&Math.abs(X-gb)<=1E-6*Math.max(1,Math.abs(X),Math.abs(gb))&&Math.abs(Z-Ys)<=1E-6*Math.max(1,Math.abs(Z),Math.abs(Ys))&&Math.abs(R-Zs)<=1E-6*Math.max(1,Math.abs(R),Math.abs(Zs))&&Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))},fp:p,sub:F}),Rn=function(){var f=J();return function(h,m,q,t,v,w){m||(m=3);q||(q=0);for(t=t?Math.min(t*m+q,h.length):h.length;q<t;q+=m)f[0]=h[q],f[1]=h[q+1],f[2]=h[q+
2],v(f,f,w),h[q]=f[0],h[q+1]=f[1],h[q+2]=f[2];return h}}();Rn=Object.freeze({__proto__:null,create:J,clone:function(f){var h=new ta(3);h[0]=f[0];h[1]=f[1];h[2]=f[2];return h},length:H,Ce:L,Ca:function(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];return f},set:function(f,h,m,q){f[0]=h;f[1]=m;f[2]=q;return f},add:function(f,h,m){f[0]=h[0]+m[0];f[1]=h[1]+m[1];f[2]=h[2]+m[2];return f},jp:Y,multiply:da,Ik:Fa,ceil:function(f,h){f[0]=Math.ceil(h[0]);f[1]=Math.ceil(h[1]);f[2]=Math.ceil(h[2]);return f},floor:function(f,
h){f[0]=Math.floor(h[0]);f[1]=Math.floor(h[1]);f[2]=Math.floor(h[2]);return f},min:function(f,h,m){f[0]=Math.min(h[0],m[0]);f[1]=Math.min(h[1],m[1]);f[2]=Math.min(h[2],m[2]);return f},max:function(f,h,m){f[0]=Math.max(h[0],m[0]);f[1]=Math.max(h[1],m[1]);f[2]=Math.max(h[2],m[2]);return f},round:function(f,h){f[0]=Math.round(h[0]);f[1]=Math.round(h[1]);f[2]=Math.round(h[2]);return f},scale:function(f,h,m){f[0]=h[0]*m;f[1]=h[1]*m;f[2]=h[2]*m;return f},BQ:function(f,h,m,q){f[0]=h[0]+m[0]*q;f[1]=h[1]+
m[1]*q;f[2]=h[2]+m[2]*q;return f},Nf:bd,EX:wc,XI:tb,tX:function(f,h){f[0]=-h[0];f[1]=-h[1];f[2]=-h[2];return f},inverse:function(f,h){f[0]=1/h[0];f[1]=1/h[1];f[2]=1/h[2];return f},normalize:xc,mr:ne,MC:oe,Pc:function(f,h,m,q){var t=h[0],v=h[1];h=h[2];f[0]=t+q*(m[0]-t);f[1]=v+q*(m[1]-v);f[2]=h+q*(m[2]-h);return f},h7:function(f,h,m,q){var t=Math.acos(Math.min(Math.max(ne(h,m),-1),1)),v=Math.sin(t),w=Math.sin((1-q)*t)/v;q=Math.sin(q*t)/v;f[0]=w*h[0]+q*m[0];f[1]=w*h[1]+q*m[1];f[2]=w*h[2]+q*m[2];return f},
Hla:function(f,h,m,q,t,v){var w=v*v,z=w*(2*v-3)+1,C=w*(v-2)+v,E=w*(v-1);v=w*(3-2*v);f[0]=h[0]*z+m[0]*C+q[0]*E+t[0]*v;f[1]=h[1]*z+m[1]*C+q[1]*E+t[1]*v;f[2]=h[2]*z+m[2]*C+q[2]*E+t[2]*v;return f},xka:function(f,h,m,q,t,v){var w=1-v,z=w*w,C=v*v,E=z*w;z*=3*v;w*=3*C;v*=C;f[0]=h[0]*E+m[0]*z+q[0]*w+t[0]*v;f[1]=h[1]*E+m[1]*z+q[1]*w+t[1]*v;f[2]=h[2]*E+m[2]*z+q[2]*w+t[2]*v;return f},random:function(f,h){h=h||1;var m=2*ud()*Math.PI,q=2*ud()-1,t=Math.sqrt(1-q*q)*h;f[0]=Math.cos(m)*t;f[1]=Math.sin(m)*t;f[2]=q*
h;return f},lu:function(f,h,m){var q=h[0],t=h[1];h=h[2];var v=m[3]*q+m[7]*t+m[11]*h+m[15];v=v||1;f[0]=(m[0]*q+m[4]*t+m[8]*h+m[12])/v;f[1]=(m[1]*q+m[5]*t+m[9]*h+m[13])/v;f[2]=(m[2]*q+m[6]*t+m[10]*h+m[14])/v;return f},r7:function(f,h,m){var q=h[0],t=h[1];h=h[2];f[0]=q*m[0]+t*m[3]+h*m[6];f[1]=q*m[1]+t*m[4]+h*m[7];f[2]=q*m[2]+t*m[5]+h*m[8];return f},NX:function(f,h,m){var q=m[0],t=m[1],v=m[2],w=h[0],z=h[1];h=h[2];var C=t*h-v*z,E=v*w-q*h,G=q*z-t*w;m=2*m[3];f[0]=w+C*m+2*(t*G-v*E);f[1]=z+E*m+2*(v*C-q*G);
f[2]=h+G*m+2*(q*E-t*C);return f},yQ:function(f,h,m,q){var t=[],v=[];t[0]=h[0]-m[0];t[1]=h[1]-m[1];t[2]=h[2]-m[2];v[0]=t[0];v[1]=t[1]*Math.cos(q)-t[2]*Math.sin(q);v[2]=t[1]*Math.sin(q)+t[2]*Math.cos(q);f[0]=v[0]+m[0];f[1]=v[1]+m[1];f[2]=v[2]+m[2];return f},zQ:function(f,h,m,q){var t=[],v=[];t[0]=h[0]-m[0];t[1]=h[1]-m[1];t[2]=h[2]-m[2];v[0]=t[2]*Math.sin(q)+t[0]*Math.cos(q);v[1]=t[1];v[2]=t[2]*Math.cos(q)-t[0]*Math.sin(q);f[0]=v[0]+m[0];f[1]=v[1]+m[1];f[2]=v[2]+m[2];return f},AQ:function(f,h,m,q){var t=
[],v=[];t[0]=h[0]-m[0];t[1]=h[1]-m[1];t[2]=h[2]-m[2];v[0]=t[0]*Math.cos(q)-t[1]*Math.sin(q);v[1]=t[0]*Math.sin(q)+t[1]*Math.cos(q);v[2]=t[2];f[0]=v[0]+m[0];f[1]=v[1]+m[1];f[2]=v[2]+m[2];return f},angle:function(f,h){var m=f[0],q=f[1],t=f[2],v=h[0],w=h[1],z=h[2];f=(m=Math.sqrt((m*m+q*q+t*t)*(v*v+w*w+z*z)))&&ne(f,h)/m;return Math.acos(Math.min(Math.max(f,-1),1))},$X:function(f){f[0]=0;f[1]=0;f[2]=0;return f},ip:function(f){return"vec3("+f[0]+", "+f[1]+", "+f[2]+")"},yj:function(f,h){return f[0]===h[0]&&
f[1]===h[1]&&f[2]===h[2]},Wd:function(f,h){var m=f[0],q=f[1];f=f[2];var t=h[0],v=h[1];h=h[2];return Math.abs(m-t)<=1E-6*Math.max(1,Math.abs(m),Math.abs(t))&&Math.abs(q-v)<=1E-6*Math.max(1,Math.abs(q),Math.abs(v))&&Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))},sub:Y,fp:da,VW:Fa,UW:bd,DX:wc,ZC:H,WI:tb,forEach:Rn});var Sn=function(){var f=Jf();return function(h,m,q,t,v,w){m||(m=4);q||(q=0);for(t=t?Math.min(t*m+q,h.length):h.length;q<t;q+=m)f[0]=h[q],f[1]=h[q+1],f[2]=h[q+2],f[3]=h[q+3],v(f,
f,w),h[q]=f[0],h[q+1]=f[1],h[q+2]=f[2],h[q+3]=f[3];return h}}();Sn=Object.freeze({__proto__:null,create:Jf,clone:Kf,Ce:Lf,Ca:pe,set:Mf,add:Nf,jp:Ik,multiply:Jk,Ik:Kk,ceil:function(f,h){f[0]=Math.ceil(h[0]);f[1]=Math.ceil(h[1]);f[2]=Math.ceil(h[2]);f[3]=Math.ceil(h[3]);return f},floor:function(f,h){f[0]=Math.floor(h[0]);f[1]=Math.floor(h[1]);f[2]=Math.floor(h[2]);f[3]=Math.floor(h[3]);return f},min:function(f,h,m){f[0]=Math.min(h[0],m[0]);f[1]=Math.min(h[1],m[1]);f[2]=Math.min(h[2],m[2]);f[3]=Math.min(h[3],
m[3]);return f},max:function(f,h,m){f[0]=Math.max(h[0],m[0]);f[1]=Math.max(h[1],m[1]);f[2]=Math.max(h[2],m[2]);f[3]=Math.max(h[3],m[3]);return f},round:function(f,h){f[0]=Math.round(h[0]);f[1]=Math.round(h[1]);f[2]=Math.round(h[2]);f[3]=Math.round(h[3]);return f},scale:Qn,BQ:function(f,h,m,q){f[0]=h[0]+m[0]*q;f[1]=h[1]+m[1]*q;f[2]=h[2]+m[2]*q;f[3]=h[3]+m[3]*q;return f},Nf:Bs,EX:Cs,length:Dg,XI:Ue,tX:function(f,h){f[0]=-h[0];f[1]=-h[1];f[2]=-h[2];f[3]=-h[3];return f},inverse:function(f,h){f[0]=1/h[0];
f[1]=1/h[1];f[2]=1/h[2];f[3]=1/h[3];return f},normalize:Lk,mr:Eg,MC:function(f,h,m,q){var t=m[0]*q[1]-m[1]*q[0],v=m[0]*q[2]-m[2]*q[0],w=m[0]*q[3]-m[3]*q[0],z=m[1]*q[2]-m[2]*q[1],C=m[1]*q[3]-m[3]*q[1];m=m[2]*q[3]-m[3]*q[2];q=h[0];var E=h[1],G=h[2];h=h[3];f[0]=E*m-G*C+h*z;f[1]=-(q*m)+G*w-h*v;f[2]=q*C-E*w+h*t;f[3]=-(q*z)+E*v-G*t;return f},Pc:Ds,random:function(f,h){h=h||1;do{var m=2*ud()-1;var q=2*ud()-1;var t=m*m+q*q}while(1<=t);do{var v=2*ud()-1;var w=2*ud()-1;var z=v*v+w*w}while(1<=z);t=Math.sqrt((1-
t)/z);f[0]=h*m;f[1]=h*q;f[2]=h*v*t;f[3]=h*w*t;return f},lu:function(f,h,m){var q=h[0],t=h[1],v=h[2];h=h[3];f[0]=m[0]*q+m[4]*t+m[8]*v+m[12]*h;f[1]=m[1]*q+m[5]*t+m[9]*v+m[13]*h;f[2]=m[2]*q+m[6]*t+m[10]*v+m[14]*h;f[3]=m[3]*q+m[7]*t+m[11]*v+m[15]*h;return f},NX:function(f,h,m){var q=h[0],t=h[1],v=h[2],w=m[0],z=m[1],C=m[2];m=m[3];var E=m*q+z*v-C*t,G=m*t+C*q-w*v,I=m*v+w*t-z*q;q=-w*q-z*t-C*v;f[0]=E*m+q*-w+G*-C-I*-z;f[1]=G*m+q*-z+I*-w-E*-C;f[2]=I*m+q*-C+E*-z-G*-w;f[3]=h[3];return f},$X:function(f){f[0]=0;
f[1]=0;f[2]=0;f[3]=0;return f},ip:function(f){return"vec4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},yj:Es,Wd:function(f,h){var m=f[0],q=f[1],t=f[2];f=f[3];var v=h[0],w=h[1],z=h[2];h=h[3];return Math.abs(m-v)<=1E-6*Math.max(1,Math.abs(m),Math.abs(v))&&Math.abs(q-w)<=1E-6*Math.max(1,Math.abs(q),Math.abs(w))&&Math.abs(t-z)<=1E-6*Math.max(1,Math.abs(t),Math.abs(z))&&Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))},sub:Ik,fp:Jk,VW:Kk,UW:Bs,DX:Cs,ZC:Dg,WI:Ue,forEach:Sn});var Tn=function(){var f=
J(),h=L(1,0,0),m=L(0,1,0);return function(q,t,v){var w=ne(t,v);if(-.999999>w)return oe(f,h,t),1E-6>H(f)&&oe(f,m,t),xc(f,f),Fs(q,f,Math.PI),q;if(.999999<w)return q[0]=0,q[1]=0,q[2]=0,q[3]=1,q;oe(f,t,v);q[0]=f[0];q[1]=f[1];q[2]=f[2];q[3]=1+w;return Lk(q,q)}}(),Un=function(){var f=Mk(),h=Mk();return function(m,q,t,v,w,z){Nk(f,q,w,z);Nk(h,t,v,z);Nk(m,f,h,2*z*(1-z));return m}}(),li=function(){var f=g();return function(h,m,q,t){f[0]=q[0];f[3]=q[1];f[6]=q[2];f[1]=t[0];f[4]=t[1];f[7]=t[2];f[2]=-m[0];f[5]=
-m[1];f[8]=-m[2];return Lk(h,Ms(h,f))}}();Tn=Object.freeze({__proto__:null,create:Mk,SC:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;return f},vna:Fs,yla:function(f,h){var m=2*Math.acos(h[3]),q=Math.sin(m/2);1E-6<q?(f[0]=h[0]/q,f[1]=h[1]/q,f[2]=h[2]/q):(f[0]=1,f[1]=0,f[2]=0);return m},wla:function(f,h){f=Eg(f,h);return Math.acos(2*f*f-1)},multiply:Gs,yQ:Hs,zQ:Is,AQ:Js,yka:function(f,h){var m=h[0],q=h[1];h=h[2];f[0]=m;f[1]=q;f[2]=h;f[3]=Math.sqrt(Math.abs(1-m*m-q*q-h*h));return f},exp:Ks,D6:Ls,pow:function(f,
h,m){Ls(f,h);Qn(f,f,m);Ks(f,f);return f},h7:Nk,random:function(f){var h=ud(),m=ud(),q=ud(),t=Math.sqrt(1-h);h=Math.sqrt(h);f[0]=t*Math.sin(2*Math.PI*m);f[1]=t*Math.cos(2*Math.PI*m);f[2]=h*Math.sin(2*Math.PI*q);f[3]=h*Math.cos(2*Math.PI*q);return f},gy:function(f,h){var m=h[0],q=h[1],t=h[2];h=h[3];var v=m*m+q*q+t*t+h*h;v=v?1/v:0;f[0]=-m*v;f[1]=-q*v;f[2]=-t*v;f[3]=h*v;return f},M5:function(f,h){f[0]=-h[0];f[1]=-h[1];f[2]=-h[2];f[3]=h[3];return f},mla:Ms,kla:function(f,h,m,q){var t=4<arguments.length&&
void 0!==arguments[4]?arguments[4]:"zyx",v=Math.PI/360;h*=v;q*=v;m*=v;v=Math.sin(h);var w=Math.cos(h),z=Math.sin(m),C=Math.cos(m),E=Math.sin(q),G=Math.cos(q);switch(t){case "xyz":f[0]=v*C*G+w*z*E;f[1]=w*z*G-v*C*E;f[2]=w*C*E+v*z*G;f[3]=w*C*G-v*z*E;break;case "xzy":f[0]=v*C*G-w*z*E;f[1]=w*z*G-v*C*E;f[2]=w*C*E+v*z*G;f[3]=w*C*G+v*z*E;break;case "yxz":f[0]=v*C*G+w*z*E;f[1]=w*z*G-v*C*E;f[2]=w*C*E-v*z*G;f[3]=w*C*G+v*z*E;break;case "yzx":f[0]=v*C*G+w*z*E;f[1]=w*z*G+v*C*E;f[2]=w*C*E-v*z*G;f[3]=w*C*G-v*z*E;
break;case "zxy":f[0]=v*C*G-w*z*E;f[1]=w*z*G+v*C*E;f[2]=w*C*E+v*z*G;f[3]=w*C*G-v*z*E;break;case "zyx":f[0]=v*C*G-w*z*E;f[1]=w*z*G+v*C*E;f[2]=w*C*E-v*z*G;f[3]=w*C*G+v*z*E;break;default:throw Error("Unknown angle order "+t);}return f},ip:function(f){return"quat("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},clone:Kf,Ce:Lf,Ca:pe,set:Mf,add:Nf,fp:Gs,scale:Qn,mr:Eg,Pc:Ds,length:Dg,ZC:Dg,XI:Ue,WI:Ue,normalize:Lk,yj:Es,Wd:function(f,h){return.999999<=Math.abs(Eg(f,h))},e7:Tn,Dna:Un,una:li});Un=Object.freeze({__proto__:null,
create:function(){var f=new ta(8);ta!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[4]=0,f[5]=0,f[6]=0,f[7]=0);f[3]=1;return f},clone:function(f){var h=new ta(8);h[0]=f[0];h[1]=f[1];h[2]=f[2];h[3]=f[3];h[4]=f[4];h[5]=f[5];h[6]=f[6];h[7]=f[7];return h},Ce:function(f,h,m,q,t,v,w,z){var C=new ta(8);C[0]=f;C[1]=h;C[2]=m;C[3]=q;C[4]=t;C[5]=v;C[6]=w;C[7]=z;return C},qla:function(f,h,m,q,t,v,w){var z=new ta(8);z[0]=f;z[1]=h;z[2]=m;z[3]=q;t*=.5;v*=.5;w*=.5;z[4]=t*q+v*m-w*h;z[5]=v*q+w*f-t*m;z[6]=w*q+t*h-v*f;z[7]=
-t*f-v*h-w*m;return z},h6:Ns,LP:function(f,h){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=.5*h[0];f[5]=.5*h[1];f[6]=.5*h[2];f[7]=0;return f},AI:function(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[3];f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},f6:function(f,h){var m=Mk();y(m,h);var q=new ta(3);u(q,h);Ns(f,m,q);return f},Ca:Os,SC:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},set:function(f,h,m,q,t,v,w,z,C){f[0]=h;f[1]=m;f[2]=q;f[3]=t;f[4]=v;f[5]=w;f[6]=z;f[7]=C;return f},Bla:pe,zla:function(f,
h){f[0]=h[4];f[1]=h[5];f[2]=h[6];f[3]=h[7];return f},zna:pe,wna:function(f,h){f[4]=h[0];f[5]=h[1];f[6]=h[2];f[7]=h[3];return f},l6:function(f,h){var m=h[4],q=h[5],t=h[6],v=h[7],w=-h[0],z=-h[1],C=-h[2];h=h[3];f[0]=2*(m*h+v*w+q*C-t*z);f[1]=2*(q*h+v*z+t*w-m*C);f[2]=2*(t*h+v*C+m*z-q*w);return f},translate:function(f,h,m){var q=h[0],t=h[1],v=h[2],w=h[3],z=.5*m[0],C=.5*m[1];m=.5*m[2];var E=h[4],G=h[5],I=h[6];h=h[7];f[0]=q;f[1]=t;f[2]=v;f[3]=w;f[4]=w*z+t*m-v*C+E;f[5]=w*C+v*z-q*m+G;f[6]=w*m+q*C-t*z+I;f[7]=
-q*z-t*C-v*m+h;return f},yQ:function(f,h,m){var q=-h[0],t=-h[1],v=-h[2],w=h[3],z=h[4],C=h[5],E=h[6],G=h[7],I=z*w+G*q+C*v-E*t,O=C*w+G*t+E*q-z*v,N=E*w+G*v+z*t-C*q;z=G*w-z*q-C*t-E*v;Hs(f,h,m);q=f[0];t=f[1];v=f[2];w=f[3];f[4]=I*w+z*q+O*v-N*t;f[5]=O*w+z*t+N*q-I*v;f[6]=N*w+z*v+I*t-O*q;f[7]=z*w-I*q-O*t-N*v;return f},zQ:function(f,h,m){var q=-h[0],t=-h[1],v=-h[2],w=h[3],z=h[4],C=h[5],E=h[6],G=h[7],I=z*w+G*q+C*v-E*t,O=C*w+G*t+E*q-z*v,N=E*w+G*v+z*t-C*q;z=G*w-z*q-C*t-E*v;Is(f,h,m);q=f[0];t=f[1];v=f[2];w=f[3];
f[4]=I*w+z*q+O*v-N*t;f[5]=O*w+z*t+N*q-I*v;f[6]=N*w+z*v+I*t-O*q;f[7]=z*w-I*q-O*t-N*v;return f},AQ:function(f,h,m){var q=-h[0],t=-h[1],v=-h[2],w=h[3],z=h[4],C=h[5],E=h[6],G=h[7],I=z*w+G*q+C*v-E*t,O=C*w+G*t+E*q-z*v,N=E*w+G*v+z*t-C*q;z=G*w-z*q-C*t-E*v;Js(f,h,m);q=f[0];t=f[1];v=f[2];w=f[3];f[4]=I*w+z*q+O*v-N*t;f[5]=O*w+z*t+N*q-I*v;f[6]=N*w+z*v+I*t-O*q;f[7]=z*w-I*q-O*t-N*v;return f},kna:function(f,h,m){var q=m[0],t=m[1],v=m[2];m=m[3];var w=h[0],z=h[1],C=h[2],E=h[3];f[0]=w*m+E*q+z*v-C*t;f[1]=z*m+E*t+C*q-
w*v;f[2]=C*m+E*v+w*t-z*q;f[3]=E*m-w*q-z*t-C*v;w=h[4];z=h[5];C=h[6];E=h[7];f[4]=w*m+E*q+z*v-C*t;f[5]=z*m+E*t+C*q-w*v;f[6]=C*m+E*v+w*t-z*q;f[7]=E*m-w*q-z*t-C*v;return f},lna:function(f,h,m){var q=h[0],t=h[1],v=h[2];h=h[3];var w=m[0],z=m[1],C=m[2],E=m[3];f[0]=q*E+h*w+t*C-v*z;f[1]=t*E+h*z+v*w-q*C;f[2]=v*E+h*C+q*z-t*w;f[3]=h*E-q*w-t*z-v*C;w=m[4];z=m[5];C=m[6];E=m[7];f[4]=q*E+h*w+t*C-v*z;f[5]=t*E+h*z+v*w-q*C;f[6]=v*E+h*C+q*z-t*w;f[7]=h*E-q*w-t*z-v*C;return f},jna:function(f,h,m,q){if(1E-6>Math.abs(q))return Os(f,
h);var t=Math.hypot(m[0],m[1],m[2]);q*=.5;var v=Math.sin(q),w=v*m[0]/t,z=v*m[1]/t;m=v*m[2]/t;q=Math.cos(q);t=h[0];v=h[1];var C=h[2],E=h[3];f[0]=t*q+E*w+v*m-C*z;f[1]=v*q+E*z+C*w-t*m;f[2]=C*q+E*m+t*z-v*w;f[3]=E*q-t*w-v*z-C*m;t=h[4];v=h[5];C=h[6];h=h[7];f[4]=t*q+h*w+v*m-C*z;f[5]=v*q+h*z+C*w-t*m;f[6]=C*q+h*m+t*z-v*w;f[7]=h*q-t*w-v*z-C*m;return f},add:function(f,h,m){f[0]=h[0]+m[0];f[1]=h[1]+m[1];f[2]=h[2]+m[2];f[3]=h[3]+m[3];f[4]=h[4]+m[4];f[5]=h[5]+m[5];f[6]=h[6]+m[6];f[7]=h[7]+m[7];return f},multiply:Ps,
fp:Ps,scale:function(f,h,m){f[0]=h[0]*m;f[1]=h[1]*m;f[2]=h[2]*m;f[3]=h[3]*m;f[4]=h[4]*m;f[5]=h[5]*m;f[6]=h[6]*m;f[7]=h[7]*m;return f},mr:Eg,Pc:function(f,h,m,q){var t=1-q;0>Eg(h,m)&&(q=-q);f[0]=h[0]*t+m[0]*q;f[1]=h[1]*t+m[1]*q;f[2]=h[2]*t+m[2]*q;f[3]=h[3]*t+m[3]*q;f[4]=h[4]*t+m[4]*q;f[5]=h[5]*t+m[5]*q;f[6]=h[6]*t+m[6]*q;f[7]=h[7]*t+m[7]*q;return f},gy:function(f,h){var m=Ue(h);f[0]=-h[0]/m;f[1]=-h[1]/m;f[2]=-h[2]/m;f[3]=h[3]/m;f[4]=-h[4]/m;f[5]=-h[5]/m;f[6]=-h[6]/m;f[7]=h[7]/m;return f},M5:function(f,
h){f[0]=-h[0];f[1]=-h[1];f[2]=-h[2];f[3]=h[3];f[4]=-h[4];f[5]=-h[5];f[6]=-h[6];f[7]=h[7];return f},length:Dg,ZC:Dg,XI:Ue,WI:Ue,normalize:function(f,h){var m=Ue(h);if(0<m){m=Math.sqrt(m);var q=h[0]/m,t=h[1]/m,v=h[2]/m,w=h[3]/m,z=h[4],C=h[5],E=h[6];h=h[7];var G=q*z+t*C+v*E+w*h;f[0]=q;f[1]=t;f[2]=v;f[3]=w;f[4]=(z-q*G)/m;f[5]=(C-t*G)/m;f[6]=(E-v*G)/m;f[7]=(h-w*G)/m}return f},ip:function(f){return"quat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+")"},yj:function(f,h){return f[0]===
h[0]&&f[1]===h[1]&&f[2]===h[2]&&f[3]===h[3]&&f[4]===h[4]&&f[5]===h[5]&&f[6]===h[6]&&f[7]===h[7]},Wd:function(f,h){var m=f[0],q=f[1],t=f[2],v=f[3],w=f[4],z=f[5],C=f[6];f=f[7];var E=h[0],G=h[1],I=h[2],O=h[3],N=h[4],X=h[5],Z=h[6];h=h[7];return Math.abs(m-E)<=1E-6*Math.max(1,Math.abs(m),Math.abs(E))&&Math.abs(q-G)<=1E-6*Math.max(1,Math.abs(q),Math.abs(G))&&Math.abs(t-I)<=1E-6*Math.max(1,Math.abs(t),Math.abs(I))&&Math.abs(v-O)<=1E-6*Math.max(1,Math.abs(v),Math.abs(O))&&Math.abs(w-N)<=1E-6*Math.max(1,Math.abs(w),
Math.abs(N))&&Math.abs(z-X)<=1E-6*Math.max(1,Math.abs(z),Math.abs(X))&&Math.abs(C-Z)<=1E-6*Math.max(1,Math.abs(C),Math.abs(Z))&&Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))}});li=function(){var f=Qs();return function(h,m,q,t,v,w){m||(m=2);q||(q=0);for(t=t?Math.min(t*m+q,h.length):h.length;q<t;q+=m)f[0]=h[q],f[1]=h[q+1],v(f,f,w),h[q]=f[0],h[q+1]=f[1];return h}}();li=Object.freeze({__proto__:null,create:Qs,clone:function(f){var h=new ta(2);h[0]=f[0];h[1]=f[1];return h},Ce:function(f,h){var m=
new ta(2);m[0]=f;m[1]=h;return m},Ca:function(f,h){f[0]=h[0];f[1]=h[1];return f},set:function(f,h,m){f[0]=h;f[1]=m;return f},add:function(f,h,m){f[0]=h[0]+m[0];f[1]=h[1]+m[1];return f},jp:Rs,multiply:Ss,Ik:Ts,ceil:function(f,h){f[0]=Math.ceil(h[0]);f[1]=Math.ceil(h[1]);return f},floor:function(f,h){f[0]=Math.floor(h[0]);f[1]=Math.floor(h[1]);return f},min:function(f,h,m){f[0]=Math.min(h[0],m[0]);f[1]=Math.min(h[1],m[1]);return f},max:function(f,h,m){f[0]=Math.max(h[0],m[0]);f[1]=Math.max(h[1],m[1]);
return f},round:function(f,h){f[0]=Math.round(h[0]);f[1]=Math.round(h[1]);return f},scale:function(f,h,m){f[0]=h[0]*m;f[1]=h[1]*m;return f},BQ:function(f,h,m,q){f[0]=h[0]+m[0]*q;f[1]=h[1]+m[1]*q;return f},Nf:Us,EX:Vs,length:Ws,XI:Xs,tX:function(f,h){f[0]=-h[0];f[1]=-h[1];return f},inverse:function(f,h){f[0]=1/h[0];f[1]=1/h[1];return f},normalize:function(f,h){var m=h[0],q=h[1];m=m*m+q*q;0<m&&(m=1/Math.sqrt(m));f[0]=h[0]*m;f[1]=h[1]*m;return f},mr:function(f,h){return f[0]*h[0]+f[1]*h[1]},MC:function(f,
h,m){h=h[0]*m[1]-h[1]*m[0];f[0]=f[1]=0;f[2]=h;return f},Pc:function(f,h,m,q){var t=h[0];h=h[1];f[0]=t+q*(m[0]-t);f[1]=h+q*(m[1]-h);return f},random:function(f,h){h=h||1;var m=2*ud()*Math.PI;f[0]=Math.cos(m)*h;f[1]=Math.sin(m)*h;return f},Wna:function(f,h,m){var q=h[0];h=h[1];f[0]=m[0]*q+m[2]*h;f[1]=m[1]*q+m[3]*h;return f},Xna:function(f,h,m){var q=h[0];h=h[1];f[0]=m[0]*q+m[2]*h+m[4];f[1]=m[1]*q+m[3]*h+m[5];return f},r7:function(f,h,m){var q=h[0];h=h[1];f[0]=m[0]*q+m[3]*h+m[6];f[1]=m[1]*q+m[4]*h+m[7];
return f},lu:function(f,h,m){var q=h[0];h=h[1];f[0]=m[0]*q+m[4]*h+m[12];f[1]=m[1]*q+m[5]*h+m[13];return f},rotate:function(f,h,m,q){var t=h[0]-m[0];h=h[1]-m[1];var v=Math.sin(q);q=Math.cos(q);f[0]=t*q-h*v+m[0];f[1]=t*v+h*q+m[1];return f},angle:function(f,h){var m=f[0];f=f[1];var q=h[0];h=h[1];var t=Math.sqrt((m*m+f*f)*(q*q+h*h));return Math.acos(Math.min(Math.max(t&&(m*q+f*h)/t,-1),1))},$X:function(f){f[0]=0;f[1]=0;return f},ip:function(f){return"vec2("+f[0]+", "+f[1]+")"},yj:function(f,h){return f[0]===
h[0]&&f[1]===h[1]},Wd:function(f,h){var m=f[0];f=f[1];var q=h[0];h=h[1];return Math.abs(m-q)<=1E-6*Math.max(1,Math.abs(m),Math.abs(q))&&Math.abs(f-h)<=1E-6*Math.max(1,Math.abs(f),Math.abs(h))},ZC:Ws,sub:Rs,fp:Ss,VW:Ts,UW:Us,DX:Vs,WI:Xs,forEach:li});a.Gi=VB;a.tma=WB;a.uma=XB;a.vma=YB;a.Vl=ZB;a.b7=Tn;a.Uma=Un;a.ioa=li;a.yr=Rn;a.kD=Sn;Object.defineProperty(a,"__esModule",{value:!0})}
"object"===typeof exports&&"undefined"!==typeof module?ca(exports):"function"===typeof define&&define.nka?define(["exports"],ca):(ba="undefined"!==typeof globalThis?globalThis:ba||self,ca(ba.Gi={}));
self.EZ=function(){function a(c,e){void 0===e&&(e=0);var g=c.charCodeAt(e);if(55296<=g&&56319>=g&&e<c.length-1){var k=g;c=c.charCodeAt(e+1);return 56320<=c&&57343>=c?1024*(k-55296)+(c-56320)+65536:k}return 56320<=g&&57343>=g&&1<=e?(k=c.charCodeAt(e-1),c=g,55296<=k&&56319>=k?1024*(k-55296)+(c-56320)+65536:c):g}function b(c,e,g){var k=[c].concat(e).concat([g]),l=k[k.length-2],n=k.lastIndexOf(14);if(1<n&&k.slice(1,n).every(function(p){return 3==p})&&-1==[3,13,17].indexOf(c))return 2;c=k.lastIndexOf(4);
if(0<c&&k.slice(1,c).every(function(p){return 4==p})&&-1==[12,4].indexOf(l))return 1==k.filter(function(p){return 4==p}).length%2?3:4;if(0==l&&1==g)return 0;if(2==l||0==l||1==l)return 14==g&&e.every(function(p){return 3==p})?2:1;if(2==g||0==g||1==g)return 1;if(6!=l||6!=g&&7!=g&&9!=g&&10!=g)if(9!=l&&7!=l||7!=g&&8!=g)if(10!=l&&8!=l||8!=g){if(3==g||15==g||5==g||12==l)return 0}else return 0;else return 0;else return 0;c=-1!=k.indexOf(3)?k.lastIndexOf(3)-1:k.length-2;return-1!=[13,17].indexOf(k[c])&&k.slice(c+
1,-1).every(function(p){return 3==p})&&14==g||15==l&&-1!=[16,17].indexOf(g)?0:-1!=e.indexOf(4)?2:4==l&&4==g?0:1}function d(c){return 1536<=c&&1541>=c||1757==c||1807==c||2274==c||3406==c||69821==c||70082<=c&&70083>=c||72250==c||72326<=c&&72329>=c||73030==c?12:13==c?0:10==c?1:0<=c&&9>=c||11<=c&&12>=c||14<=c&&31>=c||127<=c&&159>=c||173==c||1564==c||6158==c||8203==c||8206<=c&&8207>=c||8232==c||8233==c||8234<=c&&8238>=c||8288<=c&&8292>=c||8293==c||8294<=c&&8303>=c||55296<=c&&57343>=c||65279==c||65520<=
c&&65528>=c||65529<=c&&65531>=c||113824<=c&&113827>=c||119155<=c&&119162>=c||917504==c||917505==c||917506<=c&&917535>=c||917632<=c&&917759>=c||918E3<=c&&921599>=c?2:768<=c&&879>=c||1155<=c&&1159>=c||1160<=c&&1161>=c||1425<=c&&1469>=c||1471==c||1473<=c&&1474>=c||1476<=c&&1477>=c||1479==c||1552<=c&&1562>=c||1611<=c&&1631>=c||1648==c||1750<=c&&1756>=c||1759<=c&&1764>=c||1767<=c&&1768>=c||1770<=c&&1773>=c||1809==c||1840<=c&&1866>=c||1958<=c&&1968>=c||2027<=c&&2035>=c||2070<=c&&2073>=c||2075<=c&&2083>=
c||2085<=c&&2087>=c||2089<=c&&2093>=c||2137<=c&&2139>=c||2260<=c&&2273>=c||2275<=c&&2306>=c||2362==c||2364==c||2369<=c&&2376>=c||2381==c||2385<=c&&2391>=c||2402<=c&&2403>=c||2433==c||2492==c||2494==c||2497<=c&&2500>=c||2509==c||2519==c||2530<=c&&2531>=c||2561<=c&&2562>=c||2620==c||2625<=c&&2626>=c||2631<=c&&2632>=c||2635<=c&&2637>=c||2641==c||2672<=c&&2673>=c||2677==c||2689<=c&&2690>=c||2748==c||2753<=c&&2757>=c||2759<=c&&2760>=c||2765==c||2786<=c&&2787>=c||2810<=c&&2815>=c||2817==c||2876==c||2878==
c||2879==c||2881<=c&&2884>=c||2893==c||2902==c||2903==c||2914<=c&&2915>=c||2946==c||3006==c||3008==c||3021==c||3031==c||3072==c||3134<=c&&3136>=c||3142<=c&&3144>=c||3146<=c&&3149>=c||3157<=c&&3158>=c||3170<=c&&3171>=c||3201==c||3260==c||3263==c||3266==c||3270==c||3276<=c&&3277>=c||3285<=c&&3286>=c||3298<=c&&3299>=c||3328<=c&&3329>=c||3387<=c&&3388>=c||3390==c||3393<=c&&3396>=c||3405==c||3415==c||3426<=c&&3427>=c||3530==c||3535==c||3538<=c&&3540>=c||3542==c||3551==c||3633==c||3636<=c&&3642>=c||3655<=
c&&3662>=c||3761==c||3764<=c&&3769>=c||3771<=c&&3772>=c||3784<=c&&3789>=c||3864<=c&&3865>=c||3893==c||3895==c||3897==c||3953<=c&&3966>=c||3968<=c&&3972>=c||3974<=c&&3975>=c||3981<=c&&3991>=c||3993<=c&&4028>=c||4038==c||4141<=c&&4144>=c||4146<=c&&4151>=c||4153<=c&&4154>=c||4157<=c&&4158>=c||4184<=c&&4185>=c||4190<=c&&4192>=c||4209<=c&&4212>=c||4226==c||4229<=c&&4230>=c||4237==c||4253==c||4957<=c&&4959>=c||5906<=c&&5908>=c||5938<=c&&5940>=c||5970<=c&&5971>=c||6002<=c&&6003>=c||6068<=c&&6069>=c||6071<=
c&&6077>=c||6086==c||6089<=c&&6099>=c||6109==c||6155<=c&&6157>=c||6277<=c&&6278>=c||6313==c||6432<=c&&6434>=c||6439<=c&&6440>=c||6450==c||6457<=c&&6459>=c||6679<=c&&6680>=c||6683==c||6742==c||6744<=c&&6750>=c||6752==c||6754==c||6757<=c&&6764>=c||6771<=c&&6780>=c||6783==c||6832<=c&&6845>=c||6846==c||6912<=c&&6915>=c||6964==c||6966<=c&&6970>=c||6972==c||6978==c||7019<=c&&7027>=c||7040<=c&&7041>=c||7074<=c&&7077>=c||7080<=c&&7081>=c||7083<=c&&7085>=c||7142==c||7144<=c&&7145>=c||7149==c||7151<=c&&7153>=
c||7212<=c&&7219>=c||7222<=c&&7223>=c||7376<=c&&7378>=c||7380<=c&&7392>=c||7394<=c&&7400>=c||7405==c||7412==c||7416<=c&&7417>=c||7616<=c&&7673>=c||7675<=c&&7679>=c||8204==c||8400<=c&&8412>=c||8413<=c&&8416>=c||8417==c||8418<=c&&8420>=c||8421<=c&&8432>=c||11503<=c&&11505>=c||11647==c||11744<=c&&11775>=c||12330<=c&&12333>=c||12334<=c&&12335>=c||12441<=c&&12442>=c||42607==c||42608<=c&&42610>=c||42612<=c&&42621>=c||42654<=c&&42655>=c||42736<=c&&42737>=c||43010==c||43014==c||43019==c||43045<=c&&43046>=
c||43204<=c&&43205>=c||43232<=c&&43249>=c||43302<=c&&43309>=c||43335<=c&&43345>=c||43392<=c&&43394>=c||43443==c||43446<=c&&43449>=c||43452==c||43493==c||43561<=c&&43566>=c||43569<=c&&43570>=c||43573<=c&&43574>=c||43587==c||43596==c||43644==c||43696==c||43698<=c&&43700>=c||43703<=c&&43704>=c||43710<=c&&43711>=c||43713==c||43756<=c&&43757>=c||43766==c||44005==c||44008==c||44013==c||64286==c||65024<=c&&65039>=c||65056<=c&&65071>=c||65438<=c&&65439>=c||66045==c||66272==c||66422<=c&&66426>=c||68097<=c&&
68099>=c||68101<=c&&68102>=c||68108<=c&&68111>=c||68152<=c&&68154>=c||68159==c||68325<=c&&68326>=c||69633==c||69688<=c&&69702>=c||69759<=c&&69761>=c||69811<=c&&69814>=c||69817<=c&&69818>=c||69888<=c&&69890>=c||69927<=c&&69931>=c||69933<=c&&69940>=c||70003==c||70016<=c&&70017>=c||70070<=c&&70078>=c||70090<=c&&70092>=c||70191<=c&&70193>=c||70196==c||70198<=c&&70199>=c||70206==c||70367==c||70371<=c&&70378>=c||70400<=c&&70401>=c||70460==c||70462==c||70464==c||70487==c||70502<=c&&70508>=c||70512<=c&&70516>=
c||70712<=c&&70719>=c||70722<=c&&70724>=c||70726==c||70832==c||70835<=c&&70840>=c||70842==c||70845==c||70847<=c&&70848>=c||70850<=c&&70851>=c||71087==c||71090<=c&&71093>=c||71100<=c&&71101>=c||71103<=c&&71104>=c||71132<=c&&71133>=c||71219<=c&&71226>=c||71229==c||71231<=c&&71232>=c||71339==c||71341==c||71344<=c&&71349>=c||71351==c||71453<=c&&71455>=c||71458<=c&&71461>=c||71463<=c&&71467>=c||72193<=c&&72198>=c||72201<=c&&72202>=c||72243<=c&&72248>=c||72251<=c&&72254>=c||72263==c||72273<=c&&72278>=c||
72281<=c&&72283>=c||72330<=c&&72342>=c||72344<=c&&72345>=c||72752<=c&&72758>=c||72760<=c&&72765>=c||72767==c||72850<=c&&72871>=c||72874<=c&&72880>=c||72882<=c&&72883>=c||72885<=c&&72886>=c||73009<=c&&73014>=c||73018==c||73020<=c&&73021>=c||73023<=c&&73029>=c||73031==c||92912<=c&&92916>=c||92976<=c&&92982>=c||94095<=c&&94098>=c||113821<=c&&113822>=c||119141==c||119143<=c&&119145>=c||119150<=c&&119154>=c||119163<=c&&119170>=c||119173<=c&&119179>=c||119210<=c&&119213>=c||119362<=c&&119364>=c||121344<=
c&&121398>=c||121403<=c&&121452>=c||121461==c||121476==c||121499<=c&&121503>=c||121505<=c&&121519>=c||122880<=c&&122886>=c||122888<=c&&122904>=c||122907<=c&&122913>=c||122915<=c&&122916>=c||122918<=c&&122922>=c||125136<=c&&125142>=c||125252<=c&&125258>=c||917536<=c&&917631>=c||917760<=c&&917999>=c?3:127462<=c&&127487>=c?4:2307==c||2363==c||2366<=c&&2368>=c||2377<=c&&2380>=c||2382<=c&&2383>=c||2434<=c&&2435>=c||2495<=c&&2496>=c||2503<=c&&2504>=c||2507<=c&&2508>=c||2563==c||2622<=c&&2624>=c||2691==
c||2750<=c&&2752>=c||2761==c||2763<=c&&2764>=c||2818<=c&&2819>=c||2880==c||2887<=c&&2888>=c||2891<=c&&2892>=c||3007==c||3009<=c&&3010>=c||3014<=c&&3016>=c||3018<=c&&3020>=c||3073<=c&&3075>=c||3137<=c&&3140>=c||3202<=c&&3203>=c||3262==c||3264<=c&&3265>=c||3267<=c&&3268>=c||3271<=c&&3272>=c||3274<=c&&3275>=c||3330<=c&&3331>=c||3391<=c&&3392>=c||3398<=c&&3400>=c||3402<=c&&3404>=c||3458<=c&&3459>=c||3536<=c&&3537>=c||3544<=c&&3550>=c||3570<=c&&3571>=c||3635==c||3763==c||3902<=c&&3903>=c||3967==c||4145==
c||4155<=c&&4156>=c||4182<=c&&4183>=c||4228==c||6070==c||6078<=c&&6085>=c||6087<=c&&6088>=c||6435<=c&&6438>=c||6441<=c&&6443>=c||6448<=c&&6449>=c||6451<=c&&6456>=c||6681<=c&&6682>=c||6741==c||6743==c||6765<=c&&6770>=c||6916==c||6965==c||6971==c||6973<=c&&6977>=c||6979<=c&&6980>=c||7042==c||7073==c||7078<=c&&7079>=c||7082==c||7143==c||7146<=c&&7148>=c||7150==c||7154<=c&&7155>=c||7204<=c&&7211>=c||7220<=c&&7221>=c||7393==c||7410<=c&&7411>=c||7415==c||43043<=c&&43044>=c||43047==c||43136<=c&&43137>=c||
43188<=c&&43203>=c||43346<=c&&43347>=c||43395==c||43444<=c&&43445>=c||43450<=c&&43451>=c||43453<=c&&43456>=c||43567<=c&&43568>=c||43571<=c&&43572>=c||43597==c||43755==c||43758<=c&&43759>=c||43765==c||44003<=c&&44004>=c||44006<=c&&44007>=c||44009<=c&&44010>=c||44012==c||69632==c||69634==c||69762==c||69808<=c&&69810>=c||69815<=c&&69816>=c||69932==c||70018==c||70067<=c&&70069>=c||70079<=c&&70080>=c||70188<=c&&70190>=c||70194<=c&&70195>=c||70197==c||70368<=c&&70370>=c||70402<=c&&70403>=c||70463==c||70465<=
c&&70468>=c||70471<=c&&70472>=c||70475<=c&&70477>=c||70498<=c&&70499>=c||70709<=c&&70711>=c||70720<=c&&70721>=c||70725==c||70833<=c&&70834>=c||70841==c||70843<=c&&70844>=c||70846==c||70849==c||71088<=c&&71089>=c||71096<=c&&71099>=c||71102==c||71216<=c&&71218>=c||71227<=c&&71228>=c||71230==c||71340==c||71342<=c&&71343>=c||71350==c||71456<=c&&71457>=c||71462==c||72199<=c&&72200>=c||72249==c||72279<=c&&72280>=c||72343==c||72751==c||72766==c||72873==c||72881==c||72884==c||94033<=c&&94078>=c||119142==
c||119149==c?5:4352<=c&&4447>=c||43360<=c&&43388>=c?6:4448<=c&&4519>=c||55216<=c&&55238>=c?7:4520<=c&&4607>=c||55243<=c&&55291>=c?8:44032==c||44060==c||44088==c||44116==c||44144==c||44172==c||44200==c||44228==c||44256==c||44284==c||44312==c||44340==c||44368==c||44396==c||44424==c||44452==c||44480==c||44508==c||44536==c||44564==c||44592==c||44620==c||44648==c||44676==c||44704==c||44732==c||44760==c||44788==c||44816==c||44844==c||44872==c||44900==c||44928==c||44956==c||44984==c||45012==c||45040==c||
45068==c||45096==c||45124==c||45152==c||45180==c||45208==c||45236==c||45264==c||45292==c||45320==c||45348==c||45376==c||45404==c||45432==c||45460==c||45488==c||45516==c||45544==c||45572==c||45600==c||45628==c||45656==c||45684==c||45712==c||45740==c||45768==c||45796==c||45824==c||45852==c||45880==c||45908==c||45936==c||45964==c||45992==c||46020==c||46048==c||46076==c||46104==c||46132==c||46160==c||46188==c||46216==c||46244==c||46272==c||46300==c||46328==c||46356==c||46384==c||46412==c||46440==c||46468==
c||46496==c||46524==c||46552==c||46580==c||46608==c||46636==c||46664==c||46692==c||46720==c||46748==c||46776==c||46804==c||46832==c||46860==c||46888==c||46916==c||46944==c||46972==c||47E3==c||47028==c||47056==c||47084==c||47112==c||47140==c||47168==c||47196==c||47224==c||47252==c||47280==c||47308==c||47336==c||47364==c||47392==c||47420==c||47448==c||47476==c||47504==c||47532==c||47560==c||47588==c||47616==c||47644==c||47672==c||47700==c||47728==c||47756==c||47784==c||47812==c||47840==c||47868==c||
47896==c||47924==c||47952==c||47980==c||48008==c||48036==c||48064==c||48092==c||48120==c||48148==c||48176==c||48204==c||48232==c||48260==c||48288==c||48316==c||48344==c||48372==c||48400==c||48428==c||48456==c||48484==c||48512==c||48540==c||48568==c||48596==c||48624==c||48652==c||48680==c||48708==c||48736==c||48764==c||48792==c||48820==c||48848==c||48876==c||48904==c||48932==c||48960==c||48988==c||49016==c||49044==c||49072==c||49100==c||49128==c||49156==c||49184==c||49212==c||49240==c||49268==c||49296==
c||49324==c||49352==c||49380==c||49408==c||49436==c||49464==c||49492==c||49520==c||49548==c||49576==c||49604==c||49632==c||49660==c||49688==c||49716==c||49744==c||49772==c||49800==c||49828==c||49856==c||49884==c||49912==c||49940==c||49968==c||49996==c||50024==c||50052==c||50080==c||50108==c||50136==c||50164==c||50192==c||50220==c||50248==c||50276==c||50304==c||50332==c||50360==c||50388==c||50416==c||50444==c||50472==c||50500==c||50528==c||50556==c||50584==c||50612==c||50640==c||50668==c||50696==c||
50724==c||50752==c||50780==c||50808==c||50836==c||50864==c||50892==c||50920==c||50948==c||50976==c||51004==c||51032==c||51060==c||51088==c||51116==c||51144==c||51172==c||51200==c||51228==c||51256==c||51284==c||51312==c||51340==c||51368==c||51396==c||51424==c||51452==c||51480==c||51508==c||51536==c||51564==c||51592==c||51620==c||51648==c||51676==c||51704==c||51732==c||51760==c||51788==c||51816==c||51844==c||51872==c||51900==c||51928==c||51956==c||51984==c||52012==c||52040==c||52068==c||52096==c||52124==
c||52152==c||52180==c||52208==c||52236==c||52264==c||52292==c||52320==c||52348==c||52376==c||52404==c||52432==c||52460==c||52488==c||52516==c||52544==c||52572==c||52600==c||52628==c||52656==c||52684==c||52712==c||52740==c||52768==c||52796==c||52824==c||52852==c||52880==c||52908==c||52936==c||52964==c||52992==c||53020==c||53048==c||53076==c||53104==c||53132==c||53160==c||53188==c||53216==c||53244==c||53272==c||53300==c||53328==c||53356==c||53384==c||53412==c||53440==c||53468==c||53496==c||53524==c||
53552==c||53580==c||53608==c||53636==c||53664==c||53692==c||53720==c||53748==c||53776==c||53804==c||53832==c||53860==c||53888==c||53916==c||53944==c||53972==c||54E3==c||54028==c||54056==c||54084==c||54112==c||54140==c||54168==c||54196==c||54224==c||54252==c||54280==c||54308==c||54336==c||54364==c||54392==c||54420==c||54448==c||54476==c||54504==c||54532==c||54560==c||54588==c||54616==c||54644==c||54672==c||54700==c||54728==c||54756==c||54784==c||54812==c||54840==c||54868==c||54896==c||54924==c||54952==
c||54980==c||55008==c||55036==c||55064==c||55092==c||55120==c||55148==c||55176==c?9:44033<=c&&44059>=c||44061<=c&&44087>=c||44089<=c&&44115>=c||44117<=c&&44143>=c||44145<=c&&44171>=c||44173<=c&&44199>=c||44201<=c&&44227>=c||44229<=c&&44255>=c||44257<=c&&44283>=c||44285<=c&&44311>=c||44313<=c&&44339>=c||44341<=c&&44367>=c||44369<=c&&44395>=c||44397<=c&&44423>=c||44425<=c&&44451>=c||44453<=c&&44479>=c||44481<=c&&44507>=c||44509<=c&&44535>=c||44537<=c&&44563>=c||44565<=c&&44591>=c||44593<=c&&44619>=
c||44621<=c&&44647>=c||44649<=c&&44675>=c||44677<=c&&44703>=c||44705<=c&&44731>=c||44733<=c&&44759>=c||44761<=c&&44787>=c||44789<=c&&44815>=c||44817<=c&&44843>=c||44845<=c&&44871>=c||44873<=c&&44899>=c||44901<=c&&44927>=c||44929<=c&&44955>=c||44957<=c&&44983>=c||44985<=c&&45011>=c||45013<=c&&45039>=c||45041<=c&&45067>=c||45069<=c&&45095>=c||45097<=c&&45123>=c||45125<=c&&45151>=c||45153<=c&&45179>=c||45181<=c&&45207>=c||45209<=c&&45235>=c||45237<=c&&45263>=c||45265<=c&&45291>=c||45293<=c&&45319>=c||
45321<=c&&45347>=c||45349<=c&&45375>=c||45377<=c&&45403>=c||45405<=c&&45431>=c||45433<=c&&45459>=c||45461<=c&&45487>=c||45489<=c&&45515>=c||45517<=c&&45543>=c||45545<=c&&45571>=c||45573<=c&&45599>=c||45601<=c&&45627>=c||45629<=c&&45655>=c||45657<=c&&45683>=c||45685<=c&&45711>=c||45713<=c&&45739>=c||45741<=c&&45767>=c||45769<=c&&45795>=c||45797<=c&&45823>=c||45825<=c&&45851>=c||45853<=c&&45879>=c||45881<=c&&45907>=c||45909<=c&&45935>=c||45937<=c&&45963>=c||45965<=c&&45991>=c||45993<=c&&46019>=c||46021<=
c&&46047>=c||46049<=c&&46075>=c||46077<=c&&46103>=c||46105<=c&&46131>=c||46133<=c&&46159>=c||46161<=c&&46187>=c||46189<=c&&46215>=c||46217<=c&&46243>=c||46245<=c&&46271>=c||46273<=c&&46299>=c||46301<=c&&46327>=c||46329<=c&&46355>=c||46357<=c&&46383>=c||46385<=c&&46411>=c||46413<=c&&46439>=c||46441<=c&&46467>=c||46469<=c&&46495>=c||46497<=c&&46523>=c||46525<=c&&46551>=c||46553<=c&&46579>=c||46581<=c&&46607>=c||46609<=c&&46635>=c||46637<=c&&46663>=c||46665<=c&&46691>=c||46693<=c&&46719>=c||46721<=c&&
46747>=c||46749<=c&&46775>=c||46777<=c&&46803>=c||46805<=c&&46831>=c||46833<=c&&46859>=c||46861<=c&&46887>=c||46889<=c&&46915>=c||46917<=c&&46943>=c||46945<=c&&46971>=c||46973<=c&&46999>=c||47001<=c&&47027>=c||47029<=c&&47055>=c||47057<=c&&47083>=c||47085<=c&&47111>=c||47113<=c&&47139>=c||47141<=c&&47167>=c||47169<=c&&47195>=c||47197<=c&&47223>=c||47225<=c&&47251>=c||47253<=c&&47279>=c||47281<=c&&47307>=c||47309<=c&&47335>=c||47337<=c&&47363>=c||47365<=c&&47391>=c||47393<=c&&47419>=c||47421<=c&&47447>=
c||47449<=c&&47475>=c||47477<=c&&47503>=c||47505<=c&&47531>=c||47533<=c&&47559>=c||47561<=c&&47587>=c||47589<=c&&47615>=c||47617<=c&&47643>=c||47645<=c&&47671>=c||47673<=c&&47699>=c||47701<=c&&47727>=c||47729<=c&&47755>=c||47757<=c&&47783>=c||47785<=c&&47811>=c||47813<=c&&47839>=c||47841<=c&&47867>=c||47869<=c&&47895>=c||47897<=c&&47923>=c||47925<=c&&47951>=c||47953<=c&&47979>=c||47981<=c&&48007>=c||48009<=c&&48035>=c||48037<=c&&48063>=c||48065<=c&&48091>=c||48093<=c&&48119>=c||48121<=c&&48147>=c||
48149<=c&&48175>=c||48177<=c&&48203>=c||48205<=c&&48231>=c||48233<=c&&48259>=c||48261<=c&&48287>=c||48289<=c&&48315>=c||48317<=c&&48343>=c||48345<=c&&48371>=c||48373<=c&&48399>=c||48401<=c&&48427>=c||48429<=c&&48455>=c||48457<=c&&48483>=c||48485<=c&&48511>=c||48513<=c&&48539>=c||48541<=c&&48567>=c||48569<=c&&48595>=c||48597<=c&&48623>=c||48625<=c&&48651>=c||48653<=c&&48679>=c||48681<=c&&48707>=c||48709<=c&&48735>=c||48737<=c&&48763>=c||48765<=c&&48791>=c||48793<=c&&48819>=c||48821<=c&&48847>=c||48849<=
c&&48875>=c||48877<=c&&48903>=c||48905<=c&&48931>=c||48933<=c&&48959>=c||48961<=c&&48987>=c||48989<=c&&49015>=c||49017<=c&&49043>=c||49045<=c&&49071>=c||49073<=c&&49099>=c||49101<=c&&49127>=c||49129<=c&&49155>=c||49157<=c&&49183>=c||49185<=c&&49211>=c||49213<=c&&49239>=c||49241<=c&&49267>=c||49269<=c&&49295>=c||49297<=c&&49323>=c||49325<=c&&49351>=c||49353<=c&&49379>=c||49381<=c&&49407>=c||49409<=c&&49435>=c||49437<=c&&49463>=c||49465<=c&&49491>=c||49493<=c&&49519>=c||49521<=c&&49547>=c||49549<=c&&
49575>=c||49577<=c&&49603>=c||49605<=c&&49631>=c||49633<=c&&49659>=c||49661<=c&&49687>=c||49689<=c&&49715>=c||49717<=c&&49743>=c||49745<=c&&49771>=c||49773<=c&&49799>=c||49801<=c&&49827>=c||49829<=c&&49855>=c||49857<=c&&49883>=c||49885<=c&&49911>=c||49913<=c&&49939>=c||49941<=c&&49967>=c||49969<=c&&49995>=c||49997<=c&&50023>=c||50025<=c&&50051>=c||50053<=c&&50079>=c||50081<=c&&50107>=c||50109<=c&&50135>=c||50137<=c&&50163>=c||50165<=c&&50191>=c||50193<=c&&50219>=c||50221<=c&&50247>=c||50249<=c&&50275>=
c||50277<=c&&50303>=c||50305<=c&&50331>=c||50333<=c&&50359>=c||50361<=c&&50387>=c||50389<=c&&50415>=c||50417<=c&&50443>=c||50445<=c&&50471>=c||50473<=c&&50499>=c||50501<=c&&50527>=c||50529<=c&&50555>=c||50557<=c&&50583>=c||50585<=c&&50611>=c||50613<=c&&50639>=c||50641<=c&&50667>=c||50669<=c&&50695>=c||50697<=c&&50723>=c||50725<=c&&50751>=c||50753<=c&&50779>=c||50781<=c&&50807>=c||50809<=c&&50835>=c||50837<=c&&50863>=c||50865<=c&&50891>=c||50893<=c&&50919>=c||50921<=c&&50947>=c||50949<=c&&50975>=c||
50977<=c&&51003>=c||51005<=c&&51031>=c||51033<=c&&51059>=c||51061<=c&&51087>=c||51089<=c&&51115>=c||51117<=c&&51143>=c||51145<=c&&51171>=c||51173<=c&&51199>=c||51201<=c&&51227>=c||51229<=c&&51255>=c||51257<=c&&51283>=c||51285<=c&&51311>=c||51313<=c&&51339>=c||51341<=c&&51367>=c||51369<=c&&51395>=c||51397<=c&&51423>=c||51425<=c&&51451>=c||51453<=c&&51479>=c||51481<=c&&51507>=c||51509<=c&&51535>=c||51537<=c&&51563>=c||51565<=c&&51591>=c||51593<=c&&51619>=c||51621<=c&&51647>=c||51649<=c&&51675>=c||51677<=
c&&51703>=c||51705<=c&&51731>=c||51733<=c&&51759>=c||51761<=c&&51787>=c||51789<=c&&51815>=c||51817<=c&&51843>=c||51845<=c&&51871>=c||51873<=c&&51899>=c||51901<=c&&51927>=c||51929<=c&&51955>=c||51957<=c&&51983>=c||51985<=c&&52011>=c||52013<=c&&52039>=c||52041<=c&&52067>=c||52069<=c&&52095>=c||52097<=c&&52123>=c||52125<=c&&52151>=c||52153<=c&&52179>=c||52181<=c&&52207>=c||52209<=c&&52235>=c||52237<=c&&52263>=c||52265<=c&&52291>=c||52293<=c&&52319>=c||52321<=c&&52347>=c||52349<=c&&52375>=c||52377<=c&&
52403>=c||52405<=c&&52431>=c||52433<=c&&52459>=c||52461<=c&&52487>=c||52489<=c&&52515>=c||52517<=c&&52543>=c||52545<=c&&52571>=c||52573<=c&&52599>=c||52601<=c&&52627>=c||52629<=c&&52655>=c||52657<=c&&52683>=c||52685<=c&&52711>=c||52713<=c&&52739>=c||52741<=c&&52767>=c||52769<=c&&52795>=c||52797<=c&&52823>=c||52825<=c&&52851>=c||52853<=c&&52879>=c||52881<=c&&52907>=c||52909<=c&&52935>=c||52937<=c&&52963>=c||52965<=c&&52991>=c||52993<=c&&53019>=c||53021<=c&&53047>=c||53049<=c&&53075>=c||53077<=c&&53103>=
c||53105<=c&&53131>=c||53133<=c&&53159>=c||53161<=c&&53187>=c||53189<=c&&53215>=c||53217<=c&&53243>=c||53245<=c&&53271>=c||53273<=c&&53299>=c||53301<=c&&53327>=c||53329<=c&&53355>=c||53357<=c&&53383>=c||53385<=c&&53411>=c||53413<=c&&53439>=c||53441<=c&&53467>=c||53469<=c&&53495>=c||53497<=c&&53523>=c||53525<=c&&53551>=c||53553<=c&&53579>=c||53581<=c&&53607>=c||53609<=c&&53635>=c||53637<=c&&53663>=c||53665<=c&&53691>=c||53693<=c&&53719>=c||53721<=c&&53747>=c||53749<=c&&53775>=c||53777<=c&&53803>=c||
53805<=c&&53831>=c||53833<=c&&53859>=c||53861<=c&&53887>=c||53889<=c&&53915>=c||53917<=c&&53943>=c||53945<=c&&53971>=c||53973<=c&&53999>=c||54001<=c&&54027>=c||54029<=c&&54055>=c||54057<=c&&54083>=c||54085<=c&&54111>=c||54113<=c&&54139>=c||54141<=c&&54167>=c||54169<=c&&54195>=c||54197<=c&&54223>=c||54225<=c&&54251>=c||54253<=c&&54279>=c||54281<=c&&54307>=c||54309<=c&&54335>=c||54337<=c&&54363>=c||54365<=c&&54391>=c||54393<=c&&54419>=c||54421<=c&&54447>=c||54449<=c&&54475>=c||54477<=c&&54503>=c||54505<=
c&&54531>=c||54533<=c&&54559>=c||54561<=c&&54587>=c||54589<=c&&54615>=c||54617<=c&&54643>=c||54645<=c&&54671>=c||54673<=c&&54699>=c||54701<=c&&54727>=c||54729<=c&&54755>=c||54757<=c&&54783>=c||54785<=c&&54811>=c||54813<=c&&54839>=c||54841<=c&&54867>=c||54869<=c&&54895>=c||54897<=c&&54923>=c||54925<=c&&54951>=c||54953<=c&&54979>=c||54981<=c&&55007>=c||55009<=c&&55035>=c||55037<=c&&55063>=c||55065<=c&&55091>=c||55093<=c&&55119>=c||55121<=c&&55147>=c||55149<=c&&55175>=c||55177<=c&&55203>=c?10:9757==
c||9977==c||9994<=c&&9997>=c||127877==c||127938<=c&&127940>=c||127943==c||127946<=c&&127948>=c||128066<=c&&128067>=c||128070<=c&&128080>=c||128110==c||128112<=c&&128120>=c||128124==c||128129<=c&&128131>=c||128133<=c&&128135>=c||128170==c||128372<=c&&128373>=c||128378==c||128400==c||128405<=c&&128406>=c||128581<=c&&128583>=c||128587<=c&&128591>=c||128675==c||128692<=c&&128694>=c||128704==c||128716==c||129304<=c&&129308>=c||129310<=c&&129311>=c||129318==c||129328<=c&&129337>=c||129341<=c&&129342>=c||
129489<=c&&129501>=c?13:127995<=c&&127999>=c?14:8205==c?15:9792==c||9794==c||9877<=c&&9878>=c||9992==c||10084==c||127752==c||127806==c||127859==c||127891==c||127908==c||127912==c||127979==c||127981==c||128139==c||128187<=c&&128188>=c||128295==c||128300==c||128488==c||128640==c||128658==c?16:128102<=c&&128105>=c?17:11}this.lQ=function(c,e){void 0===e&&(e=0);if(0>e)return 0;if(e>=c.length-1)return c.length;var g=d(a(c,e)),k=[];for(e+=1;e<c.length;e++){var l=c,n=e-1;if(!(55296<=l.charCodeAt(n)&&56319>=
l.charCodeAt(n)&&56320<=l.charCodeAt(n+1)&&57343>=l.charCodeAt(n+1))){l=d(a(c,e));if(b(g,k,l))return e;k.push(l)}}return c.length};this.k7=function(c){for(var e=[],g=0,k;(k=this.lQ(c,g))<c.length;)e.push(c.slice(g,k)),g=k;g<c.length&&e.push(c.slice(g));return e};this.A6=function(c){var e=0,g={next:function(){var k;if((k=this.lQ(c,e))<c.length){var l=c.slice(e,k);e=k;return{value:l,done:!1}}return e<c.length?(l=c.slice(e),e=c.length,{value:l,done:!1}):{value:void 0,done:!0}}.bind(this)};"undefined"!==
typeof Symbol&&Symbol.iterator&&(g[Symbol.iterator]=function(){return g});return g};this.N5=function(c){for(var e=0,g=0,k;(k=this.lQ(c,g))<c.length;)g=k,e++;g<c.length&&e++;return e};return this};"use strict";function ea(a,b,d,c){var e=b[0]-a[0];b=b[1]-a[1];var g=c[0]-d[0],k=c[1]-d[1];if(0===g*b-k*e)return!1;c=(e*(d[1]-a[1])+b*(a[0]-d[0]))/(g*b-k*e);a=(g*(a[1]-d[1])+k*(d[0]-a[0]))/(k*e-g*b);return 0<=c&&1>=c&&0<=a&&1>=a}function fa(a,b,d){return(b[0]-a[0])*(d[1]-a[1])-(d[0]-a[0])*(b[1]-a[1])}
var ia=[],ja=[];function ma(a,b){var d=b[0]-a[0];a=b[1]-a[1];return d*d+a*a}function K(a,b){var d=a.length;return a[0>b?b%d+d:b%d]}function na(a,b,d,c){for(;d<c;d++)a.push(b[d])}var oa=[],pa=[];function sa(a,b,d,c){c=c||[];c.length=0;if(b<d)for(var e=b;e<=d;e++)c.push(a[e]);else{for(e=0;e<=d;e++)c.push(a[e]);for(e=b;e<a.length;e++)c.push(a[e])}return c}
function ua(a){for(var b=[],d,c,e=[],g=Number.MAX_VALUE,k=0;k<a.length;++k)if(0>fa(K(a,k-1),K(a,k),K(a,k+1)))for(var l=0;l<a.length;++l){a:{c=a;var n=k,p=l;if(0<=fa(K(c,n+1),K(c,n),K(c,p))&&0>=fa(K(c,n-1),K(c,n),K(c,p)))d=!1;else{d=ma(K(c,n),K(c,p));for(var r=0;r!==c.length;++r)if((r+1)%c.length!==n&&r!==n&&0<=fa(K(c,n),K(c,p),K(c,r+1))&&0>=fa(K(c,n),K(c,p),K(c,r))){oa[0]=K(c,n);oa[1]=K(c,p);pa[0]=K(c,r);pa[1]=K(c,r+1);var u=oa;var x=pa;var y=[0,0];var A=u[1][1]-u[0][1];var D=u[0][0]-u[1][0];var F=
A*u[0][0]+D*u[0][1];var J=x[1][1]-x[0][1];u=x[0][0]-x[1][0];var H=J*x[0][0]+u*x[0][1];x=A*u-J*D;0>=Math.abs(x-0)||(y[0]=(u*F-D*H)/x,y[1]=(A*H-J*F)/x);D=y;if(ma(K(c,n),D)<d){d=!1;break a}}d=!0}}if(d){d=ua(sa(a,k,l,e));c=ua(sa(a,l,k,e));for(n=0;n<c.length;n++)d.push(c[n]);d.length<g&&(b=d,g=d.length,b.push([K(a,k),K(a,l)]))}}return b}
function va(a,b){if(0===b.length)return[a];if(b instanceof Array&&b.length&&b[0]instanceof Array&&2===b[0].length&&b[0][0]instanceof Array){a=[a];for(var d=0;d<b.length;d++)for(var c=b[d],e=0;e<a.length;e++){var g=va(a[e],c);if(g){a.splice(e,1);a.push(g[0],g[1]);break}}return a}c=b;d=a.indexOf(c[0]);e=a.indexOf(c[1]);return-1!==d&&-1!==e?[sa(a,d,e),sa(a,e,d)]:!1}
function wa(a,b,d,c){var e=b[1]-a[1];b=a[0]-b[0];a=e*a[0]+b*a[1];var g=c[1]-d[1];c=d[0]-c[0];d=g*d[0]+c*d[1];var k=e*c-g*b;return 0>=Math.abs(k-0)?[0,0]:[(c*a-b*d)/k,(e*d-g*a)/k]}
function xa(a,b,d,c,e,g,k){g=g||100;k=k||0;e=e||25;b="undefined"!==typeof b?b:[];d=d||[];c=c||[];var l=[0,0],n=[0,0],p=[0,0],r,u=0,x=0,y=0,A=[],D=[];if(3>a.length)return b;k++;if(k>g)return console.warn("quickDecomp: max level ("+g+") reached."),b;for(var F=0;F<a.length;++F)if(0>fa(K(a,F-1),K(a,F),K(a,F+1))){d.push(a[F]);var J=r=Number.MAX_VALUE;for(var H=0;H<a.length;++H){if(0<fa(K(a,F-1),K(a,F),K(a,H))&&0>=fa(K(a,F-1),K(a,F),K(a,H-1))&&(p=wa(K(a,F-1),K(a,F),K(a,H),K(a,H-1)),0>fa(K(a,F+1),K(a,F),
p))){var L=ma(a[F],p);L<r&&(r=L,n=p,x=H)}0<fa(K(a,F+1),K(a,F),K(a,H+1))&&0>=fa(K(a,F+1),K(a,F),K(a,H))&&(p=wa(K(a,F+1),K(a,F),K(a,H),K(a,H+1)),0<fa(K(a,F-1),K(a,F),p)&&(L=ma(a[F],p),L<J&&(J=L,l=p,u=H)))}if(x===(u+1)%a.length)p[0]=(n[0]+l[0])/2,p[1]=(n[1]+l[1])/2,c.push(p),F<u?(na(A,a,F,u+1),A.push(p),D.push(p),0!==x&&na(D,a,x,a.length),na(D,a,0,F+1)):(0!==F&&na(A,a,F,a.length),na(A,a,0,u+1),A.push(p),D.push(p),na(D,a,x,F+1));else{x>u&&(u+=a.length);l=Number.MAX_VALUE;if(u<x)return b;for(H=x;H<=u;++H)if(0<=
fa(K(a,F-1),K(a,F),K(a,H))&&0>=fa(K(a,F+1),K(a,F),K(a,H))){L=ma(K(a,F),K(a,H));if(x=L<l)a:{for(x=0;x!==a.length;++x)if(x!==F&&x!==H&&(x+1)%a.length!==F&&(x+1)%a.length!==H&&ea(K(a,F),K(a,H),K(a,x),K(a,x+1))){x=!1;break a}x=!0}x&&(l=L,y=H%a.length)}F<y?(na(A,a,F,y+1),0!==y&&na(D,a,y,a.length),na(D,a,0,F+1)):(0!==F&&na(A,a,F,a.length),na(A,a,0,y+1),na(D,a,y,F+1))}A.length<D.length?(xa(A,b,d,c,e,g,k),xa(D,b,d,c,e,g,k)):(xa(D,b,d,c,e,g,k),xa(A,b,d,c,e,g,k));return b}b.push(a);return b}
self.Qma={Qka:function(a){var b=ua(a);return 0<b.length?va(a,b):[a]},Vma:xa,Qla:function(a){var b;for(b=0;b<a.length-1;b++)for(var d=0;d<b-1;d++)if(ea(a[b],a[b+1],a[d],a[d+1]))return!1;for(b=1;b<a.length-2;b++)if(ea(a[0],a[a.length-1],a[b],a[b+1]))return!1;return!0},$ma:function(a,b){for(var d=0,c=a.length-1;3<a.length&&0<=c;--c){var e=K(a,c-1);var g=K(a,c),k=K(a,c+1),l=b;l?(ia[0]=g[0]-e[0],ia[1]=g[1]-e[1],ja[0]=k[0]-g[0],ja[1]=k[1]-g[1],e=Math.acos((ia[0]*ja[0]+ia[1]*ja[1])/(Math.sqrt(ia[0]*ia[0]+
ia[1]*ia[1])*Math.sqrt(ja[0]*ja[0]+ja[1]*ja[1])))<l):e=0===fa(e,g,k);e&&(a.splice(c%a.length,1),d++)}return d},ana:function(a,b){for(var d=a.length-1;1<=d;--d)for(var c=a[d],e=d-1;0<=e;--e){var g=a[e];Math.abs(c[0]-g[0])<=(b||0)&&Math.abs(c[1]-g[1])<=(b||0)&&a.splice(d,1)}},sma:function(a){for(var b=0,d=1;d<a.length;++d)if(a[d][1]<a[b][1]||a[d][1]===a[b][1]&&a[d][0]>a[b][0])b=d;if(0<fa(K(a,b-1),K(a,b),K(a,b+1)))return!1;b=[];d=a.length;for(var c=0;c!==d;c++)b.push(a.pop());for(c=0;c!==d;c++)a[c]=
b[c];return!0}};"use strict";let ya=!1;const za=self.B=class{constructor(){throw TypeError("static class can't be instantiated");}static FK(){ya=!0}static ez(){return ya}};za.VC=!1;za.VP=!1;za.hardwareConcurrency=navigator.hardwareConcurrency||2;self.Ge={};"use strict";const Aa=self.B;
Aa.yS=class{constructor(a){this.d5=a;this.Ha=new Map;a=this.d5;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const d of a)if(d)if(d.includes("=")){var b=d.indexOf("=");a=decodeURIComponent(d.substring(0,b));b=decodeURIComponent(d.substring(b+1));this.Ha.set(a,b)}else this.Ha.set(d,null)}Xy(a){return this.Ha.has(a)}ea(a){a=this.Ha.get(a);return"undefined"===typeof a?null:a}};Aa.iK=new Aa.yS(location.search);Aa.Xba=new Aa.yS(location.hash);Aa.iK.Xy("perf")&&(Aa.YP=!0);Aa.iK.ea("mode");
"use strict";const M=self.B;M.W={Fc:"(unknown)",Ou:"(unknown)",Fe:"(unknown)",Kh:"(unknown)",wy:NaN,Jh:"(unknown)",tn:"browser",TJ:!0,tp:!1,o_:!1,r_:!1,qZ:async()=>{}};const Ba=new Map([[5,"2000"],[5.1,"XP"],[5.2,"XP"],[6,"Vista"],[6.1,"7"],[6.2,"8"],[6.3,"8.1"],[10,"10"]]);function Ca(a){const b=parseFloat(a),d=Ba.get(b);return d?d:13<=b?"11":"NT "+a}const Da=navigator.userAgent,Ea=navigator.userAgentData;
if(Ea&&0<Ea.brands.length){M.W.Fc=Ea.platform;M.W.tp=Ea.mobile;M.W.TJ=!M.W.tp;const a=new Map([["Google Chrome","Chrome"],["Microsoft Edge","Edge"],["Opera","Opera"],["Opera GX","Opera GX"],["Mozilla Firefox","Firefox"],["Apple Safari","Safari"],["NW.js","NW.js"]]),b=new Map([["Chromium","Chromium"],["Gecko","Gecko"],["WebKit","WebKit"]]);function d(e){let g="",k="",l="",n="";for(const p of e)e=a.get(p.brand),!g&&e&&(g=e,k=p.version),e=b.get(p.brand),!l&&e&&(l=e,n=p.version);g||"Chromium"!==l||(M.W.Fe=
"Chromium",M.W.Kh=n);M.W.Fe=g||"(unknown)";M.W.Kh=k||"(unknown)";M.W.Jh=l||"(unknown)"}d(Ea.brands);let c=!1;M.W.qZ=async()=>{if(!c)try{const e=await navigator.userAgentData.getHighEntropyValues(["platformVersion","fullVersionList"]);d(e.fullVersionList);M.W.Ou="Windows"===M.W.Fc?Ca(e.platformVersion):e.platformVersion;c=!0}catch(e){console.warn("Failed to get detailed user agent information: ",e)}}}else{function a(p,r){p=Array.isArray(p)?p:[p];for(const u of p)if(p=u.exec(Da)){r(p);break}}a(/windows\s+nt\s+([\d\.]+)/i,
p=>{M.W.Fc="Windows";M.W.Ou=Ca(p[1])});a(/mac\s+os\s+x\s+([\d\._]+)/i,p=>{M.W.Fc="macOS";M.W.Ou=p[1].replace(/_/g,".")});a(/CrOS/,()=>{M.W.Fc="Chrome OS"});a(/linux|openbsd|freebsd|netbsd/i,()=>{M.W.Fc="Linux"});a(/android/i,()=>{M.W.Fc="Android"});a(/android\s+([\d\.]+)/i,p=>{M.W.Fc="Android";M.W.Ou=p[1]});"(unknown)"===M.W.Fc&&(a(/(iphone|ipod|ipad)/i,()=>{M.W.Fc="iOS"}),a([/iphone\s+os\s+([\d\._]+)/i,/ipad[^)]*os\s+([\d\._]+)/i],p=>{M.W.Fc="iOS";M.W.Ou=p[1].replace(/_/g,".")}));const b=/chrome\//i.test(Da),
d=/chromium\//i.test(Da),c=/edg\//i.test(Da),e=/OPR\//.test(Da),g=/nwjs/i.test(Da),k=/safari\//i.test(Da),l=/webkit/i.test(Da);c||e||a(/chrome\/([\d\.]+)/i,p=>{M.W.Fe="Chrome";M.W.Kh=p[1];M.W.Jh="Chromium"});a(/edg\/([\d\.]+)/i,p=>{M.W.Fe="Edge";M.W.Kh=p[1];M.W.Jh="Chromium"});a(/OPR\/([\d\.]+)/,p=>{M.W.Fe="Opera";M.W.Kh=p[1];M.W.Jh="Chromium"});a(/chromium\/([\d\.]+)/i,p=>{M.W.Fe="Chromium";M.W.Kh=p[1];M.W.Jh="Chromium"});a(/nwjs\/[0-9.]+/i,p=>{M.W.Fe="NW.js";M.W.Kh=p[1];M.W.Jh="Chromium";M.W.tn=
"nwjs"});a(/firefox\/([\d\.]+)/i,p=>{M.W.Fe="Firefox";M.W.Kh=p[1];M.W.Jh="Gecko"});!k||b||d||c||e||g||(M.W.Fe="Safari",M.W.Jh="WebKit",a(/version\/([\d\.]+)/i,p=>{M.W.Kh=p[1]}),a(/crios\/([\d\.]+)/i,p=>{M.W.Fe="Chrome for iOS";M.W.Kh=p[1]}),a(/fxios\/([\d\.]+)/i,p=>{M.W.Fe="Firefox for iOS";M.W.Kh=p[1]}),a(/edgios\/([\d\.]+)/i,p=>{M.W.Fe="Edge for iOS";M.W.Kh=p[1]}));"(unknown)"===M.W.Jh&&l&&(M.W.Jh="WebKit");"Android"===M.W.Fc&&"Safari"===M.W.Fe&&(M.W.Fe="Stock");const n=(new Set(["Windows","macOS",
"Linux","Chrome OS"])).has(M.W.Fc)||"nwjs"===M.W.tn;M.W.TJ=n;M.W.tp=!n}"Chrome"===M.W.Fe&&"browser"===M.W.tn&&/wv\)/.test(Da)&&(M.W.tn="webview");"nwjs"!==M.W.tn&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone)&&(M.W.tn="webapp");M.W.wy=parseFloat(M.W.Kh);"macOS"===M.W.Fc&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints&&(M.W.Fc="iOS",M.W.Ou=M.W.Kh,M.W.TJ=!1,M.W.tp=!0,M.W.r_=!0);M.W.o_="macOS"===M.W.Fc||"iOS"===M.W.Fc;
"use strict";const Ga=new Map,Ha="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,Ia="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function Ja(a){return new Promise((b,d)=>{a.onsuccess=()=>b(a.result);a.onerror=()=>d(a.error)})}function Ka(a){return new Promise((b,d)=>{a.oncomplete=()=>b();a.onerror=()=>d(a.error);a.onabort=()=>d(a.error)})}function La(a,b){return Ma(a,b)}function Na(a,b){return Ma(a,b,!0)}
async function Ma(a,b,d=!1,c=!0){const e=await Oa(a);try{const g=e.transaction(["keyvaluepairs"],d?"readwrite":"readonly");return b(g)}catch(g){if(c&&"InvalidStateError"===g.name)return Ga.delete(a),Ma(a,b,d,!1);throw g;}}function Oa(a){Pa(a);let b=Ga.get(a);b instanceof Promise||(b=Qa(a),Ga.set(a,b),b.catch(()=>Ga.delete(a)));return b}
async function Qa(a){Pa(a);const b=indexedDB.open(a,2);b.addEventListener("upgradeneeded",d=>{try{d.target.result.createObjectStore("keyvaluepairs")}catch(c){console.error(`Failed to create objectstore for database ${a}`,c)}});return Ja(b)}function Pa(a){if("string"!==typeof a)throw new TypeError("expected string");}
function Ra(a,b){const d=a.objectStore("keyvaluepairs").openCursor();return new Promise(c=>{const e=[];d.onsuccess=g=>{if(g=g.target.result){switch(b){case "entries":e.push([g.key,g.value]);break;case "keys":e.push(g.key);break;case "values":e.push(g.value)}g.continue()}else c(e)}})}
class Sa{constructor(a){Pa(a);this.name=a}async ready(){await Oa(this.name)}set(a,b){Pa(a);return Na(this.name,async d=>{var c=d.objectStore("keyvaluepairs").put(b,a);c=Ja(c);d=Ka(d);await Promise.all([d,c])})}get(a){Pa(a);return La(this.name,async b=>{var d=b.objectStore("keyvaluepairs").get(a);d=Ja(d);b=Ka(b);[,b]=await Promise.all([b,d]);return b})}delete(a){Pa(a);return Na(this.name,async b=>{var d=b.objectStore("keyvaluepairs").delete(a);d=Ja(d);b=Ka(b);await Promise.all([b,d])})}clear(){return Na(this.name,
async a=>{var b=a.objectStore("keyvaluepairs").clear();b=Ja(b);a=Ka(a);await Promise.all([a,b])})}keys(){return La(this.name,async a=>{if(Ia){var b=a.objectStore("keyvaluepairs").getAllKeys();b=Ja(b)}else b=Ra(a,"keys");a=Ka(a);[,a]=await Promise.all([a,b]);return a})}values(){return La(this.name,async a=>{if(Ha){var b=a.objectStore("keyvaluepairs").getAll();b=Ja(b)}else b=Ra(a,"values");a=Ka(a);[,a]=await Promise.all([a,b]);return a})}entries(){return La(this.name,async a=>{var b=Ra(a,"entries");
a=Ka(a);[,b]=await Promise.all([a,b]);return b})}}self.D_=Sa;"use strict";const Ta=self.D_,Ua=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],Va=new WeakMap;let Wa=!1;"undefined"===typeof indexedDB&&(Wa=!0,console.warn("Unable to use local storage because indexedDB is not defined"));
function Xa(a){throw Error(`"${a}" is not implemented`);}function Ya(a){if("function"===typeof a)throw Error("localforage callback API is not implemented; please use the promise API instead");}function Za(a){return"object"===typeof a?new Promise(b=>{const {port1:d,port2:c}=new MessageChannel;c.onmessage=e=>b(e.data);d.postMessage(a)}):Promise.resolve(a)}
function $a(a){if(!Wa)for(const b of Ua)if(a&&b.test(a.message)){console.error("Unable to use local storage, reverting to in-memory store: ",a,a.message);Wa=!0;break}}async function ab(a,b){a=Va.get(a).get(b);a=await Za(a);return"undefined"===typeof a?null:a}async function bb(a,b,d){d=await Za(d);Va.get(a).set(b,d)}
class hb{constructor(a){this.N=a;Va.set(this,new Map)}async getItem(a,b){Ya(b);if(Wa)return await ab(this,a);let d;try{d=await this.N.get(a)}catch(c){$a(c);if(Wa)return await ab(this,a);console.error(`Error reading '${a}' from storage, returning null: `,c);return null}return"undefined"===typeof d?null:d}async setItem(a,b,d){Ya(d);"undefined"===typeof b&&(b=null);if(Wa)await bb(this,a,b);else try{await this.N.set(a,b)}catch(c){if($a(c),Wa)await bb(this,a,b);else throw c;}}async removeItem(a,b){Ya(b);
if(Wa)Va.get(this).delete(a);else try{await this.N.delete(a)}catch(d){$a(d),Wa?Va.get(this).delete(a):console.error(`Error removing '${a}' from storage: `,d)}}async clear(a){Ya(a);if(Wa)Va.get(this).clear();else try{await this.N.clear()}catch(b){$a(b),Wa?Va.get(this).clear():console.error("Error clearing storage: ",b)}}async keys(a){Ya(a);if(Wa)return Array.from(Va.get(this).keys());a=[];try{a=await this.N.keys()}catch(b){$a(b);if(Wa)return Array.from(Va.get(this).keys());console.error("Error getting storage keys: ",
b)}return a}ready(a){Ya(a);return Wa?Promise.resolve(!0):this.N.ready()}DP(a){if("object"!==typeof a)throw new TypeError("invalid options object");a=a.name;if("string"!==typeof a)throw new TypeError("invalid store name");a=new Ta(a);return new hb(a)}length(){Xa("localforage.length()")}key(){Xa("localforage.key()")}iterate(){Xa("localforage.iterate()")}supports(){Xa("localforage.supports()")}dropInstance(){Xa("localforage.dropInstance()")}}self.localforage=new hb(new Ta("localforage"));"use strict";
const ib=self.B;ib.wb={};ib.wb.Bja=(()=>{try{if("Safari"===ib.W.Fe||"undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();ib.wb.i$="undefined"!==typeof HTMLDialogElement;ib.wb.gea=!!self.requestIdleCallback;ib.wb.ImageBitmap=!!self.createImageBitmap;ib.wb.ImageBitmapOptions=!1;ib.wb.ZD=!1;
if(ib.wb.ImageBitmap){try{self.createImageBitmap(new ImageData(32,32),{premultiplyAlpha:"none"}).then(()=>{ib.wb.ImageBitmapOptions=!0}).catch(()=>{ib.wb.ImageBitmapOptions=!1})}catch(a){ib.wb.ImageBitmapOptions=!1}try{self.createImageBitmap(new ImageData(32,32),{resizeWidth:10,resizeHeight:10}).then(a=>{ib.wb.ZD=10===a.width&&10===a.height}).catch(()=>{ib.wb.ZD=!1})}catch(a){ib.wb.ZD=!1}}ib.wb.l9=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===ib.W.Fe);
ib.wb.M0=!(!navigator.permissions||!navigator.permissions.query);ib.wb.aR=!1;ib.wb.M0&&navigator.permissions.query({name:"clipboard-read"}).then(()=>{ib.wb.aR=!0}).catch(()=>{ib.wb.aR=!1});ib.wb.F8=!!(navigator.permissions&&navigator.clipboard&&self.ClipboardItem);ib.wb.wS="undefined"!==typeof Proxy;ib.wb.l$="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;ib.wb.H$="function"===typeof fetch;
ib.wb.kda=!!(self.isSecureContext&&"Opera"!==ib.W.Fe&&navigator.storage&&navigator.storage.persist);ib.wb.gia=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var jb;if("undefined"===typeof document||"iOS"===ib.W.Fc)jb=!1;else{var kb=document.documentElement;jb=!!(kb.requestFullscreen||kb.msRequestFullscreen||kb.mozRequestFullScreen||kb.webkitRequestFullscreen)}ib.wb.S$=jb;ib.wb.paa="undefined"!==typeof self.ImageDecoder;ib.wb.Cja=!!self.VideoEncoder;ib.wb.vca=!!self.showOpenFilePicker;
ib.wb.Nda=!!self.queryLocalFonts;ib.wb.UserActivation=!!navigator.userActivation;ib.wb.ZQ=!1;(async()=>{let a;"undefined"===typeof document?a=new OffscreenCanvas(32,32):(a=document.createElement("canvas"),a.width=32,a.height=32);var b=a.getContext("2d");b.fillStyle="blue";b.fillRect(0,0,32,32);b=null;try{a.toBlob?b=await new Promise(d=>a.toBlob(d,"image/webp",1)):a.convertToBlob&&(b=await a.convertToBlob({type:"image/webp",quality:1})),ib.wb.ZQ=b&&"image/webp"===b.type}catch(d){ib.wb.ZQ=!1}})();"use strict";
const lb=self.B;if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}
if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(lb.Ay(a),"g"),b)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});
if(!Array.prototype.flat){function a(b,d){return b.reduce((c,e)=>{0<d&&Array.isArray(e)?Array.prototype.push.apply(c,a(e,d-1)):c.push(e);return c},[])}Array.prototype.flat=function(b=1){return a(this,b)}}Array.prototype.at||(Array.prototype.at=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});String.prototype.at||(String.prototype.at=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});
RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,b)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((d,c)=>a({usage:d,quota:c}),b))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);
"undefined"===typeof self.globalThis&&(self.globalThis=self);"use strict";const mb=self.B;self.assert=function(a,b){a||console.error("Assertion failure: "+b+"\n\nStack trace:\n"+mb.ID())};"use strict";const P=self.B,nb=self.Ge;P.up=function(a){return"number"===typeof a};P.Rc=function(a){return P.up(a)&&isFinite(a)};P.Sh=function(a){if(!P.up(a))throw new TypeError("expected number");};P.GS=function(){};
P.Dea=function(a,b,d){if(!P.up(a)||isNaN(a)||b>a||d<a)throw new RangeError("number outside of range");};P.pea=function(...a){for(let b of a);};P.ud=function(a){if(!P.Rc(a))throw new TypeError("expected finite number");};P.DS=function(){};P.mea=function(...a){for(let b of a);};P.Pi=function(a){return"string"===typeof a};P.he=function(a){if(!P.Pi(a))throw new TypeError("expected string");};P.IS=function(){};P.rea=function(...a){for(let b of a);};
P.SR=function(a){return"object"!==typeof a||null===a?!1:(a=Object.getPrototypeOf(a))?a.constructor===Object:null===a};P.Qea=function(a){if(!P.SR(a))throw new TypeError("expected simple object");};P.Nea=function(a){if(!P.Rf(a)&&!P.SR(a))throw new TypeError("expected simple object");};P.QR=function(a){return"object"===typeof a&&null!==a&&!Array.isArray(a)};P.BS=function(a){if(!P.QR(a))throw new TypeError("expected object");};P.HS=function(){};P.qea=function(...a){for(let b of a);};
P.UJ=function(a){return P.SK(a,Blob)&&"string"===typeof a.name};P.Bea=function(a){if(!P.UJ(a))throw new TypeError("expected file");};P.Lea=function(){};P.Xk=function(a){return Array.isArray(a)};P.oK=function(a){if(!P.Xk(a))throw new TypeError("expected array");};P.CS=function(){};P.lea=function(...a){for(let b of a);};P.k_=function(a){return P.Xk(a)?a.length?P.Xk(a[0])?!0:!1:!0:!1};
P.kea=function(a){if(!P.k_(a))throw new TypeError("expected 2d array");for(let b of a)if(!P.Xk(b))throw new TypeError("expected 2d array");};P.Eea=function(){};P.VJ=function(a){return"function"===typeof a};P.pm=function(a,b){if(!P.VJ(a))throw new TypeError("expected function");if(!P.Rf(b)&&a!==b)throw new TypeError("expected same function reference");};P.ES=function(){};P.nea=function(...a){for(let b of a);};
P.tea=function(a,...b){if(!P.VJ(a))throw new TypeError("expected function");if(!b.length)throw Error("missing comparison functions");for(let d of b)if(!P.Rf(d)&&a===d)return;throw new TypeError("expected same function reference");};P.Fea=function(...a){if(!P.Rf(a))for(let b of a);};P.Ur=function(a,b){return a instanceof b};P.OR=function(a,...b){for(let d of b)if(P.Ur(a,d))return!0;return!1};P.pK=function(a,b){if(!P.Ur(a,b))throw new TypeError("unexpected type");};P.FS=function(){};
P.oea=function(a,...b){for(let d of b);};P.uea=function(a,...b){if(!P.OR(a,...b))throw new TypeError("unexpected type");};P.vea=function(a,...b){if(!P.Rf(a)&&!P.OR(a,...b))throw new TypeError("unexpected type");};P.Gaa=function(a,b){for(let d of a)if(!P.Ur(d,b))return!1;return!0};P.Haa=function(a){for(let b of a)if(!P.Rc(b))return!1;return!0};P.wea=function(a){for(let b of a);};P.Gea=function(a){if(!P.Rf(a))for(let b of a);};P.xea=function(a){for(let b of a);};
P.Hea=function(a){if(!P.Rf(a))for(let b of a);};P.Laa=function(a,b){return P.Rf(a)||!P.Pi(a.nodeName)?!1:!b||P.xj(a.nodeName,b)};P.yea=function(a,b){if(P.Rf(a)||!P.Pi(a.nodeName))throw new TypeError("expected DOM node");if(b&&!P.xj(a.nodeName,b))throw new TypeError(`expected DOM '${b}' node`);};P.Iea=function(){};P.WJ=function(a,b){return P.Rf(a)||!P.Pi(a.tagName)?!1:!b||P.xj(a.tagName,b)};
P.Cea=function(a,b){if(P.Rf(a)||!P.Pi(a.tagName))throw new TypeError("expected HTML element");if(b&&!P.xj(a.tagName,b))throw new TypeError(`expected HTML '${b}' element`);};P.Mea=function(){};P.MR=function(a){return P.WJ(a,"img")||P.WJ(a,"canvas")||P.WJ(a,"video")||"undefined"!==typeof OffscreenCanvas&&a instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&a instanceof ImageBitmap};P.zea=function(a){if(!P.MR(a))throw new TypeError("expected drawable");};P.Jea=function(){};
P.NR=function(a){return a instanceof ImageData?!0:P.MR(a)};P.Aea=function(a){if(!P.NR(a))throw new TypeError("expected drawable or image data");};P.Kea=function(a){if(!P.Rf(a)&&!P.NR(a))throw new TypeError("expected drawable or image data");};P.z_=function(a){return"string"===typeof a||P.YD&&a instanceof P.YD||a instanceof P.Fr};P.Rea=function(a){if(!P.z_(a))throw new TypeError("expected string-like");};P.Oea=function(){};P.sea=function(...a){for(let b of a);};
P.Pea=function(){throw Error("must be overridden");};P.Gca=function(){throw Error("not yet implemented");};P.Oaa=function(a,...b){if("undefined"===typeof a)return!1;for(let d of b){if("undefined"===typeof a[d])return!1;a=a[d]}return!0};P.Rf=function(a){return"undefined"===typeof a||null===a};P.C8=function(a){let b=a[0].constructor;for(let d of a)if(d.constructor!==b)return!1;return b};P.D8=function(a,b){for(let d of a)if(!(d instanceof b))return!1;return!0};const ob=Object.getPrototypeOf(Uint8Array);
P.qba=function(a){return P.Ur(a,ob)};P.Sea=function(){};P.Aja=function(a){P.u2(a)};P.zja=function(a,...b){if(!P.t2(a,...b))throw new TypeError("unexpected type");};P.t2=function(a,...b){for(const d of b)if(P.SK(a,d))return!0;return!1};P.u2=function(a){if(!P.SK(a,ob))throw new TypeError("unexpected type");};P.SK=function(a,b){for(;a=Object.getPrototypeOf(a);)if(a.constructor.name===b.name)return!0;return!1};nb.Sh=P.Sh;nb.GS=P.GS;nb.ud=P.ud;nb.DS=P.DS;nb.he=P.he;nb.IS=P.IS;nb.BS=P.BS;nb.HS=P.HS;
nb.oK=P.oK;nb.CS=P.CS;nb.pm=P.pm;nb.ES=P.ES;nb.pK=P.pK;nb.FS=P.FS;nb.Rf=P.Rf;"use strict";const pb=self.B,qb=new Map;pb.n9=function(a,b){console.log(`%c${a}`,`font-weight: bold; color:${b}`)};pb.Rda=function(a,...b){qb.has(a)||qb.set(a,-1);-1===qb.get(a)&&qb.set(a,requestAnimationFrame(()=>{console.log(`%c${a}`,"font-weight: bold",...b);qb.set(a,-1)}))};let rb;pb.$ha=function(a){performance.mark(a);rb||(rb=new Map);rb.has(a)||rb.set(a,{current:0,total:0,KW:0,wP:1,toString:function(){return`${a} :: current => ${this.current.toPrecision(3)} :: average => ${this.KW.toPrecision(3)} :: calls => ${this.wP}`}})};
pb.u$=function(a){performance.measure(`measure-${a}`,a);const b=performance.getEntriesByName(`measure-${a}`)[0],d=rb.get(a);d.current=b.duration;d.total+=d.current;d.KW=d.total/d.wP;console.log(d.toString());d.wP++;performance.clearMarks(a);performance.clearMeasures(`measure-${a}`)};pb.ID=function(){return Error().stack};pb.a$=function(){debugger};pb.Dka=function(a,b){return a&&a instanceof b?a:null};
pb.ln=function(a){return"undefined"===typeof a?"undefined":null===a?"null":"boolean"===typeof a?"<boolean>":pb.up(a)?"<number>":pb.Pi(a)?"<string>":pb.Xk(a)?"<array>":"symbol"===typeof a?"<"+a.toString()+">":pb.VJ(a)?a.name&&"Function"!==a.name?a.name:"<anonymous function>":"object"===typeof a?a.constructor&&a.constructor.name&&"Object"!==a.constructor.name?a.constructor.name:"<anonymous object>":"<unknown>"};pb.getType=function(a){return null===a?"null":Array.isArray(a)?"array":typeof a};
pb.range=function*(a,b){if(!isFinite(Math.abs(a-b)))throw Error("Invalid parameters");if(a>b)for(--a;a>=b;a--)yield a;else for(;a<b;a++)yield a};let sb=new Map,ub=new Map,vb=new WeakMap,wb=new WeakMap;pb.yu={};const xb=new Set(["then","splice"]);function yb(a){console.warn("[Defence] "+a+" @",pb.ID())}
pb.yu.get=function(a,b){b in a||"symbol"===typeof b||xb.has(b)||yb(`Accessed missing property '${b}' from defended object '${pb.ln(a)}', returning undefined`);wb.has(a)&&"symbol"!==typeof b&&!xb.has(b)&&yb(`Accessed property '${b}' on a released object '${pb.ln(a)}'\nObject was originally released at: ${wb.get(a)})\nCall stack at access: `);return a[b]};
pb.yu.set=function(a,b,d){b in a||sb.has(a)||yb(`Set non-existent property '${b}' to '${d}' on defended object '${pb.ln(a)}'`);let c=pb.getType(a[b]),e=pb.getType(d);"null"===c||"null"===e||("undefined"===c||"undefined"===e?0:c===e)||sb.has(a)||yb(`Set '${pb.getType(a[b])}' property '${b}' to type '${pb.getType(d)}' on defended object '${pb.ln(a)}'`);wb.has(a)&&yb(`Set property '${b}' on a released object '${pb.ln(a)}'\nObject was originally released at: ${wb.get(a)})\nCall stack at access: `);a[b]=
d;return!0};pb.yu.deleteProperty=function(a,b){throw new ReferenceError(`Cannot delete property '${b}' from defended object '${pb.ln(a)}'`);};pb.yu.defineProperty=function(a,b){throw new ReferenceError(`Cannot define property '${b}' on defended object '${pb.ln(a)}'`);};pb.yu.ela=function(a){throw new ReferenceError(`Cannot enumerate defended object '${pb.ln(a)}'`);};let zb=-1;
function Ab(){zb=-1;if(0<sb.size||0<ub.size){let a=[...(new Set([...sb.keys()].map(b=>pb.ln(b))))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${a}`);sb.clear();ub.clear()}}
pb.xa=class{constructor(){if(pb.VP&&pb.wb.wS){var a=new.target;a=Object.create(a.prototype);var b=new Proxy(a,pb.yu);sb.set(a,b);ub.set(b,a);vb.set(b,a);-1===zb&&(zb=requestAnimationFrame(Ab));return b}}};pb.R5=function(a){if(pb.VP&&pb.wb.wS&&a instanceof pb.xa){if(!ub.has(a))return a;let b=ub.get(a);ub.delete(a);sb.delete(b);return a}return pb.VC?Object.seal(a):a};
pb.A=function(a,...b){let d;try{d=new a(...b)}catch(g){throw ub.clear(),sb.clear(),g;}if(pb.VP){b=d;var c=new Set;for(e in b)c.add(e);var e=c;if(b=Bb.get(a)){c=[];for(let g of b.values())e.has(g)?e.delete(g):c.push(g);pb.Rl(c,[...e]);c.length&&console.warn(`[Defence] '${pb.ln(a)}' constructor creates inconsistent properties: ${c.join(", ")}`)}else Bb.set(a,e)}return pb.R5(d)};pb.j=function(a){(a=vb.get(a))&&wb.set(a,pb.ID())};pb.Dp=function(){let a=vb.get(void 0);return a?!!wb.get(a):!1};let Bb=new Map;
pb.ida=class{constructor(a){this.Ta="";a&&this.start(a)}start(a){pb.YP&&(this.Ta=a,performance.mark(this.Ta+"-Start"))}end(){pb.YP&&(performance.mark(this.Ta+"-End"),performance.measure(this.Ta,this.Ta+"-Start",this.Ta+"-End"))}next(a){pb.YP&&(this.end(),this.Ta=a,performance.mark(this.Ta+"-Start"))}};"use strict";const Q=self.B,Cb=2*Math.PI,Db=Math.PI/180,Eb=180/Math.PI;
Q.wrap=function(a,b,d){a=Math.floor(a);b=Math.floor(b);d=Math.floor(d);const c=d-b;return 0===c?d:a<b?(a=d-(b-a)%c,a===d?0:a):b+(a-b)%c};Q.F6=function(a,b,d,c){return(a-b)*(c-0)/(d-b)};Q.normalize=function(a,b,d){return 0===b-d?1:(a-b)/(d-b)};Q.X=function(a,b,d){return a<b?b:a>d?d:a};Q.Od=function(a){a%=Cb;0>a&&(a+=Cb);return a};Q.La=function(a){return a*Db};Q.Qc=function(a){return a*Eb};Q.Gh=function(a,b,d,c){return Math.hypot(d-a,c-b)};Q.FP=function(a,b,d,c){a=d-a;b=c-b;return a*a+b*b};
Q.jr=function(a,b,d,c){return Math.atan2(c-b,d-a)};Q.Zo=function(a,b){if(a===b)return 0;a=Math.sin(a)*Math.sin(b)+Math.cos(a)*Math.cos(b);return 1<=a?0:-1>=a?Math.PI:Math.acos(a)};Q.jI=function(a,b,d){let c=Math.sin(a),e=Math.cos(a),g=Math.sin(b),k=Math.cos(b);return Math.acos(c*g+e*k)>d?0<e*g-c*k?Q.Od(a+d):Q.Od(a-d):Q.Od(b)};Q.Rg=function(a,b){return 0>=Math.cos(a)*Math.sin(b)-Math.sin(a)*Math.cos(b)};Q.rP=function(a,b,d,c=0){let e=Q.Zo(a,b);c*=Cb;return Q.Rg(b,a)?Q.Od(a+(e+c)*d):Q.Od(a-(e+c)*d)};
Q.z5=function(a,b,d,c=0){const e=Q.Zo(a,b);c*=Cb;return Q.Rg(b,a)?Q.Od(a+(e+c)*d):Q.Od(a+(Cb-e+c)*d)};Q.y5=function(a,b,d,c=0){const e=Q.Zo(a,b);c*=Cb;return Q.Rg(b,a)?Q.Od(a-(-Cb+e-c)*d):Q.Od(a-(e+c)*d)};Q.IW=function(a,b){const d=Q.Zo(a,b);return Q.Rg(a,b)?Q.Od(b-d):Q.Od(b+d)};Q.Pc=function(a,b,d){return a+d*(b-a)};Q.eJ=function(a,b,d){return a===b?0:(d-a)/(b-a)};Q.c7=function(a,b,d,c){return Q.Pc(0,c,Q.eJ(a,b,d))};Q.NI=function(a,b,d,c){return Q.Pc(Q.Pc(a,b,c),Q.Pc(b,d,c),c)};
Q.RW=function(a,b,d,c,e){return Q.Pc(Q.NI(a,b,d,e),Q.NI(b,d,c,e),e)};Q.PW=function(a,b,d){return(a+b+(a-b)*Math.cos(d*Math.PI))/2};Q.Lk=function(a){return 0<a&&0===(a-1&a)};Q.eu=function(a){--a;for(let b=1;32>b;b<<=1)a|=a>>b;return a+1};Q.nna=function(a,b){return Math.round(a*b)/b};Q.jla=function(a,b){return Math.floor(a*b)/b};Q.SI=function(a){var b=Math.max(Math.floor(6),0);b=Math.pow(10,b);return Math.round(a*b)/b};
Q.Hka=function(a){return Math.floor(a)!==a?a.toString().split(".")[1].length||0:0};Q.toFixed=function(a,b){a=a.toFixed(b);for(b=a.length-1;0<=b&&"0"===a.charAt(b);--b);0<=b&&"."===a.charAt(b)&&--b;return 0>b?a:a.substr(0,b+1)};Q.L0=function(a,b,d){return Q.X(a,0,255)|Q.X(b,0,255)<<8|Q.X(d,0,255)<<16};
Q.kE=function(a,b,d,c){a=Q.X(Math.floor(1024*a),-8192,8191);b=Q.X(Math.floor(1024*b),-8192,8191);d=Q.X(Math.floor(1024*d),-8192,8191);c=Q.X(Math.floor(1023*c),0,1023);0>a&&(a+=16384);0>b&&(b+=16384);0>d&&(d+=16384);return-(274877906944*a+16777216*b+1024*d+c)};Q.rS=function(a,b,d){return Q.kE(a,b,d,1)};Q.UD=function(a){if(0<=a)return(a&255)/255;a=Math.floor(-a/274877906944);8191<a&&(a-=16384);return a/1024};
Q.QD=function(a){if(0<=a)return((a&65280)>>8)/255;a=Math.floor(-a%274877906944/16777216);8191<a&&(a-=16384);return a/1024};Q.HD=function(a){if(0<=a)return((a&16711680)>>16)/255;a=Math.floor(-a%16777216/1024);8191<a&&(a-=16384);return a/1024};Q.mZ=function(a){return 0===a&&0>1/a?0:0<=a?1:Math.floor(-a%1024)/1023};Q.o6=function(a,b){a=Math.floor(a);for(b=Math.floor(b);0!==b;){let d=b;b=a%b;a=d}return a};const Fb=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];
Q.xla=function(a,b){a=Math.floor(a);b=Math.floor(b);if(a===b)return[1,1];for(var d of Fb){let c=a/d[0]*d[1];if(1>Math.abs(b-c))return d.slice(0);c=a/d[1]*d[0];if(1>Math.abs(b-c))return[d[1],d[0]]}d=Q.o6(a,b);return[a/d,b/d]};
Q.tna=function(a,b,d,c,e,g,k,l){var n=Math.min(a,d),p=Math.max(e,k);if(Math.max(a,d)<Math.min(e,k)||n>p)return!1;n=Math.min(b,c);p=Math.max(g,l);if(Math.max(b,c)<Math.min(g,l)||n>p)return!1;n=e-a+k-d;p=g-b+l-c;a=d-a;b=c-b;e=k-e;g=l-g;l=Math.abs(b*e-g*a);return Math.abs(e*p-g*n)>l?!1:Math.abs(a*p-b*n)<=l};
Q.gp=function(a,b,d,c,e,g,k,l,n,p,r,u){const x=Math.max(n,r);if(g<Math.min(n,r)||e>x)return!1;e=Math.max(p,u);if(l<Math.min(p,u)||k>e)return!1;k=n-a+r-d;l=p-b+u-c;a=d-a;b=c-b;n=r-n;p=u-p;u=Math.abs(b*n-p*a);return Math.abs(n*l-p*k)>u?!1:Math.abs(a*l-b*k)<=u};
Q.VI=function(a,b,d,c,e){const g=Math.min(a,d),k=Math.max(a,d),l=Math.min(b,c),n=Math.max(b,c),p=e.Hb,r=e.Eb,u=e.kc,x=e.qc,y=e.uc,A=e.wc,D=e.sc;e=e.tc;return Q.gp(a,b,d,c,g,k,l,n,p,r,u,x)||Q.gp(a,b,d,c,g,k,l,n,u,x,y,A)||Q.gp(a,b,d,c,g,k,l,n,y,A,D,e)||Q.gp(a,b,d,c,g,k,l,n,D,e,p,r)};
Q.sna=function(a,b,d,c,e){const g=Math.min(a,d),k=Math.max(a,d),l=Math.min(b,c),n=Math.max(b,c);let p=0;for(let r=e.length-4;p<=r;p+=2)if(Q.gp(a,b,d,c,g,k,l,n,e[p],e[p+1],e[p+2],e[p+3]))return!0;return Q.gp(a,b,d,c,g,k,l,n,e[p],e[p+1],e[0],e[1])};Q.yX=function(a,b,d,c,e,g,k,l){d-=a;g=l-g;const n=d*g-(c-b)*(k-e);if(0===n)return 2;c=((b-c)*(k-a)+d*(l-b))/n;return 0<c&&1.000001>c?(g*(k-a)+(e-k)*(l-b))/n:2};Q.gD=function(a,b,d,c,e,g,k,l,n){const p=(k-e)*n;n*=l-g;return Q.yX(a,b,d,c,e-p,g-n,k+p,l+n)};
Q.w6=function(a,b,d,c,e,g,k,l){e-=d;g-=c;k-=d;l-=c;a-=d;d=b-c;b=e*e+g*g;c=e*k+g*l;e=e*a+g*d;g=k*k+l*l;k=k*a+l*d;l=1/(b*g-c*c);g=(g*e-c*k)*l;e=(b*k-c*e)*l;return 0<=g&&0<=e&&1>=g+e};Q.t7=function(a,b,d,c,e,g,k,l){e-=d;g-=c;k-=d;l-=c;a-=d;const n=b-c;b=e*e+g*g;c=e*k+g*l;d=k*k+l*l;e=a*e+n*g;g=a*k+n*l;k=b*d-c*c;l=(d*e-c*g)/k;e=(b*g-c*e)/k;return[1-l-e,l,e]};Q.s7=function(a,b,d,c,e,g,k,l,n,p,r,u){return[a*c+b*k+d*p,a*e+b*l+d*r,a*g+b*n+d*u]};"use strict";const S=self.B;let Gb=null,Hb="";
if("undefined"!==typeof document){Gb=document;const a=document.querySelector("base");if(Hb=a&&a.hasAttribute("href")?a.getAttribute("href"):"")Hb.startsWith("/")&&(Hb=Hb.substr(1)),Hb.endsWith("/")||(Hb+="/")}S.U$=function(){return Hb};S.V$=function(){if(!Gb)return"";const a=Gb.location;return S.yZ(a.origin+a.pathname)+Hb};S.yZ=function(a){if(!a.length||a.endsWith("/")||a.endsWith("\\"))return a;const b=Math.max(a.lastIndexOf("/"),a.lastIndexOf("\\"));return-1===b?"":a.substr(0,b+1)};
S.Y$=function(a){if(!a.length)return a;if(a.endsWith("/")||a.endsWith("\\"))return"";const b=Math.max(a.lastIndexOf("/"),a.lastIndexOf("\\"));return-1===b?a:a.substr(b+1)};S.vZ=function(a){let b=a.lastIndexOf(".");return 1>b?"":a.substr(b)};S.kga=function(a,b){const d=a.lastIndexOf(".");return-1===d?a+"."+b:a.substr(0,d+1)+b};S.ND=function(a){let b=a.lastIndexOf(".");return 1>b?a:a.substr(0,b)};S.R_=function(a){return a.replace(/\\/g,"/")};S.Raa=function(a,b){return b===(a?S.vZ(a).slice(1):"")};
S.I$=function(a,b){let d,c;S.UJ(a)&&(d=S.ND(a.name));S.Pi(a)&&(d=S.ND(a));S.UJ(b)&&(c=S.ND(b.name));S.Pi(b)&&(c=S.ND(b));return d===c};
S.fda=function(a){a=S.R_(a);let b=/^\w:\//.exec(a);b?(b=b[0],a=a.slice(3),"/"!==a[0]&&(a="/"+a)):b="";a=a.replace(/\/{2,}/g,"/");1<a.length&&"/"===a.slice(-1)&&(a=a.slice(0,-1));var d=a.lastIndexOf("/")+1;let c="",e=a,g="";0<d&&(c=a.slice(0,d),e=a.slice(d));a=e;d=e.lastIndexOf(".");0<d&&(g=e.slice(d),a=e.slice(0,-g.length));return{dir:c,vka:e,name:a,root:b,ext:g,ula:b+c+e}};S.RK=function(a,b){return new Promise(d=>{self.setTimeout(d,a,b)})};
S.Nna=function(a){try{a()}catch(b){S.VC&&console.warn("Swallowed exception: ",b)}};S.Ama=function(){};S.xj=function(a,b){return"string"!==typeof a||"string"!==typeof b?!1:a===b||a.normalize().toLowerCase()===b.normalize().toLowerCase()};S.fla=function(a,b){return"string"!==typeof a||"string"!==typeof b?!1:a===b?!0:a.normalize()===b.normalize()};
S.u7=function(a,b){var d=0;a[d++]=b[0];a[d++]=b[1];a[d++]=b[2];a[d++]=b[3];a[d++]=b[4];a[d++]=b[5];a[d++]=b[6];a[d++]=b[7];a[d++]=b[8];a[d++]=b[9];a[d++]=b[10];a[d++]=b[11];a[d++]=b[12];a[d++]=b[13];a[d++]=b[14];a[d]=b[15]};S.lg=function(a,b){a.length=b};S.D=function(a){a&&0!==a.length&&S.lg(a,0)};S.H5=function(a){if(a){for(let b=0;b<a.length;b++)S.lg(a[b],0);S.lg(a,0)}};S.zI=function(a,b,d){b|=0;var c=a.length;if(!(b<=c))for(;c<b;++c)a.push(d)};
S.CX=function(a){var b=4;const d=a.length;b<d?S.lg(a,b):b>d&&S.zI(a,b,"0")};S.Pd=function(a,b){S.D(a);S.Rl(a,b)};S.Rl=function(a,b){if(1E4>b.length)a.push(...b);else for(let d=0,c=b.length;d<c;++d)a.push(b[d])};S.E5=function(a,b){b=Math.floor(b);if(!(0>b||b>=a.length)){for(var d=a.length-1;b<d;++b)a[b]=a[b+1];S.lg(a,d)}};S.kn=function(a,b){b=a.indexOf(b);0<=b&&a.splice(b,1)};S.rka=function(a,b){let d=a.length;if(b.length!==d)return!1;for(let c=0;c<d;++c)if(a[c]!==b[c])return!1;return!0};
S.D5=function(a,b){let d=[],c=0;for(let e=0,g=a.length;e<g;++e){let k=a[e];b(k)?d.push(k):(a[c]=k,++c)}S.lg(a,c);return d};S.Di=function(a,b){const d=a.length;let c=0;for(let e=0,g=a.length;e<g;++e){let k=a[e];b.has(k)||(a[c++]=k)}S.lg(a,c);return d-c};S.s6=function(a,b){return a!==Math.floor(a)?!1:0<=a&&a<b.length};S.foa=function(a,b){if(!S.s6(a,b))throw new RangeError("array index out of bounds");};S.AP=function(a){return a.slice()};
S.S5=function(a,b){let d=[];for(let c of a)if(S.QR(c)){a=b(c);if(!a)throw Error("missing clone");if(a.constructor!==c.constructor)throw Error("object is not a clone");d.push(a)}else S.Xk(c)?d.push(S.S5(c,b)):d.push(c);return d};S.Fka=function(a){let b=[];for(let d of a)b.push(d.slice());return b};S.wma=function(a,b){return new Set([...a,...b])};S.xma=function(a,b){for(const d of b)a.add(d);return a};S.first=function(a){for(let b of a)return b;return null};S.xor=function(a,b){return!a!==!b};
S.compare=function(a,b,d){switch(b){case 0:return a===d;case 1:return a!==d;case 2:return a<d;case 3:return a<=d;case 4:return a>d;case 5:return a>=d;default:return!1}};S.Gla=function(a){for(let b in a)if(a.hasOwnProperty(b))return!0;return!1};S.c1=function(a,b){return a.length?new Promise((d,c)=>{const e=[];let g=0,k=!1;for(let l=0,n=a.length;l<n;++l)e.push(void 0),a[l].then(p=>{k||(e[l]=p,++g,g===a.length?d(e):b(g,a.length))}).catch(p=>{k=!0;c(p)})}):Promise.resolve([])};let Ib=[];S.c8=function(a){Ib.push(a)};
S.W$=function(){let a=0;for(let b of Ib){let d=b();a+=d}return Math.floor(a)};let Kb=1;const Lb=new Map,Mb=new MessageChannel;Mb.port2.onmessage=function(a){a=a.data;const b=Lb.get(a);Lb.delete(a);b&&b(performance.now())};S.nK=function(a){const b=Kb++;Lb.set(b,a);Mb.port1.postMessage(b);return b};S.HY=function(a){Lb.delete(a)};S.$0=S.nK;S.i2=function(){return new Promise(a=>S.$0(a))};const Nb=new Set;
S.iea=function(a){const b=self.requestAnimationFrame(async d=>{await S.i2();Nb.has(b)&&(Nb.delete(b),a(d))});Nb.add(b);return b};S.a9=function(a){Nb.has(a)&&(self.cancelAnimationFrame(a),Nb.delete(a))};"use strict";const Ob=self.B;Ob.$D=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};Ob.cE=function(a){return!Ob.$D(a)};Ob.R1=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};
Ob.FD=function(a){return fetch(a,void 0).then(b=>{Ob.R1(b);return b})};Ob.Dy=function(a){return Ob.FD(a).then(b=>b.text())};Ob.pR=function(a){return Ob.FD(a).then(b=>b.json())};Ob.xn=function(a){return Ob.FD(a).then(b=>b.blob())};Ob.Cy=function(a){return Ob.FD(a).then(b=>b.arrayBuffer())};Ob.hZ=function(a){return new Promise((b,d)=>{const c=new Image;c.onload=()=>b(c);c.onerror=e=>d(e);c.src=a})};
Ob.xY=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((b,d)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>d(c.error);c.readAsArrayBuffer(a)})};Ob.XQ=function(a){return"function"===typeof a.text?a.text():new Promise((b,d)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>d(c.error);c.readAsText(a)})};Ob.O8=function(a){return Ob.XQ(a).then(b=>JSON.parse(b))};
Ob.WQ=async function(a){a=URL.createObjectURL(a);try{const b=await Ob.hZ(a);URL.revokeObjectURL(a);a="";return b}finally{a&&URL.revokeObjectURL(a)}};Ob.Lh=function(a,b){if("undefined"!==typeof document&&"function"===typeof document.createElement){const d=document.createElement("canvas");d.width=a;d.height=b;return d}return new OffscreenCanvas(a,b)};
Ob.uD=function(a,b,d){"number"!==typeof d&&(d=1);b=b||"image/png";d=Ob.X(d,0,1);if(a.toBlob)return new Promise(c=>a.toBlob(c,b,d));if(a.convertToBlob)return a.convertToBlob({type:b,quality:d});throw Error("could not convert canvas to blob");};Ob.hR=function(a,b,d){const c=Ob.Lh(a.width,a.height);c.getContext("2d").drawImage(a,0,0);return Ob.uD(c,b,d)};
Ob.oaa=function(a,b,d){if(Ob.wb.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(e=>Ob.hR(e,b,d));if(Ob.wb.ImageBitmap)return createImageBitmap(a).then(e=>Ob.hR(e,b,d));const c=Ob.Lh(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return Ob.uD(c,b,d)};Ob.UY=function(a,b){a.clear();for(const d of b)a.add(d)};Ob.dca=function(a){const b=Object.create(null);for(const [d,c]of a.entries())b[d]=c;return b};
Ob.Hca=function(a,b){b.clear();for(const [d,c]of Object.entries(a))b.set(d,c)};Ob.MK=function Pb(a){if("object"===typeof a&&null!==a){if(a instanceof Set)return{_c3type_:"set",data:[...a].map(c=>Pb(c))};if(a instanceof Map)return{_c3type_:"map",data:[...a].map(c=>[c[0],Pb(c[1])])};const d=Object.create(null);for(const [c,e]of Object.entries(a))d[c]=Pb(e);return d}return a};
Ob.AJ=function Qb(a){if("object"===typeof a&null!==a){if("set"===a._c3type_)return new Set(a.data.map(c=>Qb(c)));if("map"===a._c3type_)return new Map(a.data.map(c=>[c[0],Qb(c[1])]));const d=Object.create(null);for(const [c,e]of Object.entries(a))d[c]=Qb(e);return d}return a};Ob.DY=function(a){if(a.startsWith("--"))return a;let b="",d=!1;for(const c of a)"-"===c?d=!0:d?(b+=c.toUpperCase(),d=!1):b+=c;return b};Ob.sp=function(a){return"object"===typeof a&&"function"===typeof a.next};
Ob.$J=function(a,b){const d=[];if("function"===typeof b)for(var c=0;c<a;++c)d.push(b());else for(c=0;c<a;++c)d.push(b);return d};"use strict";const Rb=self.B;function Sb(a,b,d,c,e){a.eb=+b;a.kb=+d;a.bb=+c;a.Oa=+e;a.X()}function Tb(a,b,d,c){a.eb=+b;a.kb=+d;a.bb=+c;a.X()}function Ub(a,b,d,c){a.eb+=+b;a.kb+=+d;a.bb+=+c;a.Oa+=0;a.X()}function Vb(a,b){a.eb=b.eb;a.kb=b.kb;a.bb=b.bb}function Wb(a,b){a.Oa=Rb.X(+b,0,1)}function Xb(a,b){return a.eb===b.eb&&a.kb===b.kb&&a.bb===b.bb}
function Yb(a,b,d,c,e){return a.eb===b&&a.kb===d&&a.bb===c&&a.Oa===e}function Zb(a){a.eb*=a.Oa;a.kb*=a.Oa;a.bb*=a.Oa}function $b(a,b){a.eb=Rb.UD(b);a.kb=Rb.QD(b);a.bb=Rb.HD(b);a.Oa=Rb.mZ(b)}
function ac(a){var b=bc;if("string"===typeof a){a=a.replace(/^rgb\(|\)|%/,"");var d=a.split(",");if(!(3>d.length)){a=parseInt(d[0].trim(),10)/255;var c=parseInt(d[1].trim(),10)/255;d=parseInt(d[2].trim(),10)/255;isFinite(a)&&(b.eb=Rb.X(+a,0,1));isFinite(c)&&(b.kb=Rb.X(+c,0,1));isFinite(d)&&(b.bb=Rb.X(+d,0,1));Wb(b,1)}}}function cc(a,b){!Array.isArray(b)||3>b.length||(a.eb=b[0],a.kb=b[1],a.bb=b[2],a.Oa=4<=b.length?b[3]:1)}function dc(a,b){return Rb.X(Math.max(a,b)-Math.min(a,b),0,1)}
Rb.mb=class{constructor(a,b,d,c){this.Oa=this.bb=this.kb=this.eb=0;a instanceof Rb.mb?this.set(a):Sb(this,a||0,b||0,d||0,c||0)}set(a){this.eb=a.eb;this.kb=a.kb;this.bb=a.bb;this.Oa=a.Oa;return this}Ca(a){return this.set(a)}add(a){this.eb+=a.eb;this.kb+=a.kb;this.bb+=a.bb;this.Oa+=a.Oa;this.X()}clone(){return Rb.A(Rb.mb,this.eb,this.kb,this.bb,this.Oa)}toArray(){return[this.eb,this.kb,this.bb,this.Oa]}Fd(a,b){a[b++]=this.eb;a[b++]=this.kb;a[b++]=this.bb;a[b]=this.Oa}Wd(a){return this.eb===a.eb&&this.kb===
a.kb&&this.bb===a.bb&&this.Oa===a.Oa}PC(a,b){return a[b]===Math.fround(this.eb)&&a[b+1]===Math.fround(this.kb)&&a[b+2]===Math.fround(this.bb)&&a[b+3]===Math.fround(this.Oa)}multiply(a){this.eb*=a.eb;this.kb*=a.kb;this.bb*=a.bb;this.Oa*=a.Oa}X(){this.eb=Rb.X(this.eb,0,1);this.kb=Rb.X(this.kb,0,1);this.bb=Rb.X(this.bb,0,1);this.Oa=Rb.X(this.Oa,0,1);return this}toJSON(){return[this.eb,this.kb,this.bb,this.Oa]}set r(a){this.eb=Rb.X(+a,0,1)}get r(){return this.eb}set b(a){this.bb=Rb.X(+a,0,1)}get b(){return this.bb}set a(a){Wb(this,
a)}get a(){return this.Oa}};Rb.mb.Eja=Object.freeze(Rb.A(Rb.mb,1,1,1,1));Rb.mb.N8=Object.freeze(Rb.A(Rb.mb,0,0,0,1));Rb.mb.Ria=Object.freeze(Rb.A(Rb.mb,0,0,0,0));"use strict";const ec=self.B;
ec.Cp=class{constructor(a,b){this.ba=this.fa=0;a instanceof ec.Cp?this.Ca(a):this.set(a||0,b||0)}set(a,b){this.fa=+a;this.ba=+b}Ca(a){this.fa=a.fa;this.ba=a.ba}Wd(a){return this.fa===a.fa&&this.ba===a.ba}PC(a,b){return a[b]===Math.fround(this.fa)&&a[b+1]===Math.fround(this.ba)}toArray(){return[this.fa,this.ba]}Fd(a,b){a[b++]=this.fa;a[b]=this.ba}offset(a,b){this.fa+=+a;this.ba+=+b}scale(a,b){this.fa*=a;this.ba*=b}Ik(a,b){this.fa/=a;this.ba/=b}round(){this.fa=Math.round(this.fa);this.ba=Math.round(this.ba)}floor(){this.fa=
Math.floor(this.fa);this.ba=Math.floor(this.ba)}ceil(){this.fa=Math.ceil(this.fa);this.ba=Math.ceil(this.ba)}angle(){return ec.jr(0,0,this.fa,this.ba)}length(){return Math.hypot(this.fa,this.ba)}rotate(a){if(0!==a){var b=Math.sin(a);a=Math.cos(a);const d=this.fa*a-this.ba*b;this.ba=this.ba*a+this.fa*b;this.fa=d}}move(a,b){0!==b&&(this.fa+=Math.cos(a)*b,this.ba+=Math.sin(a)*b)}normalize(){const a=this.length();0!==a&&1!==a&&(this.fa/=a,this.ba/=a)}X(a,b){this.fa=ec.X(this.fa,a,b);this.ba=ec.X(this.ba,
a,b)}};"use strict";const fc=self.B;function gc(a,b,d,c,e){b=+b;d=+d;a.ca=b;a.aa=d;a.la=b+ +c;a.ka=d+ +e}function hc(a,b,d,c,e){return a.ca===b&&a.aa===d&&a.width()===c&&a.height()===e}function ic(a,b,d){b[d++]=a.ca;b[d++]=a.aa;b[d++]=a.la;b[d++]=a.aa;b[d++]=a.la;b[d++]=a.ka;b[d++]=a.ca;b[d]=a.ka}function jc(a,b,d,c){b[d++]=a.ca;b[d++]=a.aa;b[d++]=c;b[d++]=a.la;b[d++]=a.aa;b[d++]=c;b[d++]=a.la;b[d++]=a.ka;b[d++]=c;b[d++]=a.ca;b[d++]=a.ka;b[d]=c}
function kc(a,b,d){b=+b;d=+d;a.ca-=b;a.aa-=d;a.la+=b;a.ka+=d}function lc(a){a.aa=1-a.aa;a.ka=1-a.ka}function mc(){var a=nc;a.ca=Math.floor(a.ca);a.aa=Math.floor(a.aa);a.la=Math.ceil(a.la);a.ka=Math.ceil(a.ka)}function oc(a,b){return!(b.la<a.ca||b.ka<a.aa||b.ca>a.la||b.aa>a.ka)}function pc(a,b,d,c){return!(b.la+d<a.ca||b.ka+c<a.aa||b.ca+d>a.la||b.aa+c>a.ka)}
fc.Rect=class{constructor(a,b,d,c){this.ka=this.la=this.aa=this.ca=0;a instanceof fc.Rect?this.Ca(a):this.set(a||0,b||0,d||0,c||0)}set(a,b,d,c){this.ca=+a;this.aa=+b;this.la=+d;this.ka=+c}Ca(a){this.ca=+a.ca;this.aa=+a.aa;this.la=+a.la;this.ka=+a.ka}clone(){return new fc.Rect(this.ca,this.aa,this.la,this.ka)}Wd(a){return this.ca===a.ca&&this.aa===a.aa&&this.la===a.la&&this.ka===a.ka}PC(a,b){return a[b]===Math.fround(this.ca)&&a[b+1]===Math.fround(this.aa)&&a[b+2]===Math.fround(this.la)&&a[b+3]===
Math.fround(this.ka)}toArray(){return[this.ca,this.aa,this.la,this.ka]}Fd(a,b){a[b++]=this.ca;a[b++]=this.aa;a[b++]=this.la;a[b]=this.ka}width(){return this.la-this.ca}height(){return this.ka-this.aa}cu(){return(this.ca+this.la)/2}du(){return(this.aa+this.ka)/2}offset(a,b){a=+a;b=+b;this.ca+=a;this.aa+=b;this.la+=a;this.ka+=b}offsetLeft(a){this.ca+=+a}offsetTop(a){this.aa+=+a}multiply(a,b){this.ca*=a;this.aa*=b;this.la*=a;this.ka*=b}Ik(a,b){this.ca/=a;this.aa/=b;this.la/=a;this.ka/=b}round(){this.ca=
Math.round(this.ca);this.aa=Math.round(this.aa);this.la=Math.round(this.la);this.ka=Math.round(this.ka)}floor(){this.ca=Math.floor(this.ca);this.aa=Math.floor(this.aa);this.la=Math.floor(this.la);this.ka=Math.floor(this.ka)}ceil(){this.ca=Math.ceil(this.ca);this.aa=Math.ceil(this.aa);this.la=Math.ceil(this.la);this.ka=Math.ceil(this.ka)}X(a,b,d,c){this.ca=Math.max(this.ca,+a);this.aa=Math.max(this.aa,+b);this.la=Math.min(this.la,+d);this.ka=Math.min(this.ka,+c)}normalize(){if(this.ca>this.la){var a=
this.ca;this.ca=this.la;this.la=a}this.aa>this.ka&&(a=this.aa,this.aa=this.ka,this.ka=a)}Fh(a,b){return a>=this.ca&&a<=this.la&&b>=this.aa&&b<=this.ka}};"use strict";const qc=self.B;function rc(a,b,d,c){b[d++]=a.Hb;b[d++]=a.Eb;b[d++]=c;b[d++]=a.kc;b[d++]=a.qc;b[d++]=c;b[d++]=a.uc;b[d++]=a.wc;b[d++]=c;b[d++]=a.sc;b[d++]=a.tc;b[d]=c}
function sc(a,b,d,c){const e=b.ca*d,g=b.aa*d,k=b.la*d;d*=b.ka;const l=b.ca*c,n=b.aa*c,p=b.la*c;b=b.ka*c;a.Hb=l-g;a.Eb=n+e;a.kc=p-g;a.qc=n+k;a.uc=p-d;a.wc=b+k;a.sc=l-d;a.tc=b+e}function tc(a,b,d){0===d?a.ef(b):sc(a,b,Math.sin(d),Math.cos(d))}function uc(a,b){var d=b.cu(),c=b.du();if(a.Fh(d,c))return!0;d=a.cu();c=a.du();if(b.Fh(d,c))return!0;d=a.Hb;c=a.Eb;const e=a.kc,g=a.qc,k=a.uc,l=a.wc,n=a.sc;a=a.tc;return qc.VI(d,c,e,g,b)||qc.VI(e,g,k,l,b)||qc.VI(k,l,n,a,b)||qc.VI(n,a,d,c,b)}
qc.ed=class{constructor(a,b,d,c,e,g,k,l){this.tc=this.sc=this.wc=this.uc=this.qc=this.kc=this.Eb=this.Hb=0;a instanceof qc.ed?this.Ca(a):this.set(a||0,b||0,d||0,c||0,e||0,g||0,k||0,l||0)}set(a,b,d,c,e,g,k,l){this.Hb=+a;this.Eb=+b;this.kc=+d;this.qc=+c;this.uc=+e;this.wc=+g;this.sc=+k;this.tc=+l}Ca(a){this.Hb=a.Hb;this.Eb=a.Eb;this.kc=a.kc;this.qc=a.qc;this.uc=a.uc;this.wc=a.wc;this.sc=a.sc;this.tc=a.tc}Wd(a){return this.Hb===a.Hb&&this.Eb===a.Eb&&this.kc===a.kc&&this.qc===a.qc&&this.uc===a.uc&&this.wc===
a.wc&&this.sc===a.sc&&this.tc===a.tc}toArray(){return[this.Hb,this.Eb,this.kc,this.qc,this.uc,this.wc,this.sc,this.tc]}Fd(a,b){a[b++]=this.Hb;a[b++]=this.Eb;a[b++]=this.kc;a[b++]=this.qc;a[b++]=this.uc;a[b++]=this.wc;a[b++]=this.sc;a[b]=this.tc}offset(a,b){a=+a;b=+b;this.Hb+=a;this.Eb+=b;this.kc+=a;this.qc+=b;this.uc+=a;this.wc+=b;this.sc+=a;this.tc+=b}round(){this.Hb=Math.round(this.Hb);this.Eb=Math.round(this.Eb);this.kc=Math.round(this.kc);this.qc=Math.round(this.qc);this.uc=Math.round(this.uc);
this.wc=Math.round(this.wc);this.sc=Math.round(this.sc);this.tc=Math.round(this.tc)}floor(){this.Hb=Math.floor(this.Hb);this.Eb=Math.floor(this.Eb);this.kc=Math.floor(this.kc);this.qc=Math.floor(this.qc);this.uc=Math.floor(this.uc);this.wc=Math.floor(this.wc);this.sc=Math.floor(this.sc);this.tc=Math.floor(this.tc)}ceil(){this.Hb=Math.ceil(this.Hb);this.Eb=Math.ceil(this.Eb);this.kc=Math.ceil(this.kc);this.qc=Math.ceil(this.qc);this.uc=Math.ceil(this.uc);this.wc=Math.ceil(this.wc);this.sc=Math.ceil(this.sc);
this.tc=Math.ceil(this.tc)}ef(a){this.Hb=a.ca;this.Eb=a.aa;this.kc=a.la;this.qc=a.aa;this.uc=a.la;this.wc=a.ka;this.sc=a.ca;this.tc=a.ka}NP(a){a.set(Math.min(this.Hb,this.kc,this.uc,this.sc),Math.min(this.Eb,this.qc,this.wc,this.tc),Math.max(this.Hb,this.kc,this.uc,this.sc),Math.max(this.Eb,this.qc,this.wc,this.tc))}Fh(a,b){var d=this.kc-this.Hb,c=this.qc-this.Eb;const e=this.uc-this.Hb,g=this.wc-this.Eb;a-=this.Hb;b-=this.Eb;var k=d*d+c*c;let l=d*e+c*g;c=d*a+c*b;const n=e*e+g*g,p=e*a+g*b;let r=1/
(k*n-l*l);d=(n*c-l*p)*r;k=(k*p-l*c)*r;if(0<=d&&0<k&&1>d+k)return!0;d=this.sc-this.Hb;c=this.tc-this.Eb;k=d*d+c*c;l=d*e+c*g;c=d*a+c*b;r=1/(k*n-l*l);d=(n*c-l*p)*r;k=(k*p-l*c)*r;return 0<=d&&0<k&&1>d+k}cu(){return(this.Hb+this.kc+this.uc+this.sc)/4}du(){return(this.Eb+this.qc+this.wc+this.tc)/4}};"use strict";const vc=self.B,Ac=[0,0,1,0,1,1,0,1],Bc=vc.A(vc.ed);function Cc(a,b){a.xe.length===b.length?a.xe.set(b):a.xe=Float64Array.from(b);a.mo=!0}
function Dc(a,b,d,c){Bc.Ca(b);Bc.offset(d,c);Cc(a,Bc.toArray());a.mo=!0}function Fc(a,b,d,c,e){const g=a.xe;for(let k=0,l=g.length;k<l;k+=2){const n=k+1,p=g[k]*b,r=g[n]*d;g[k]=p*e-r*c;g[n]=r*e+p*c}a.mo=!0}
function Gc(a,b,d,c){const e=b.xe,g=a.xe;if(a.Fh(e[0]+d,e[1]+c)||b.Fh(g[0]-d,g[1]-c))return!0;for(let l=0,n=g.length;l<n;l+=2){var k=(l+2)%n;a=g[l];b=g[l+1];const p=g[k];k=g[k+1];let r,u,x,y;a<p?(r=a,x=p):(r=p,x=a);b<k?(u=b,y=k):(u=k,y=b);for(let A=0,D=e.length;A<D;A+=2){const F=(A+2)%D;if(vc.gp(a,b,p,k,r,x,u,y,e[A]+d,e[A+1]+c,e[F]+d,e[F+1]+c))return!0}}return!1}
vc.Ir=class extends vc.xa{constructor(a,b=!0){super();a||(a=Ac);this.xe=Float64Array.from(a);this.aF=new vc.Rect;this.mo=!0;this.je=b}j(){}Ca(a){Cc(this,a.xe)}ef(a,b,d){let c=this.xe;8!==c.length&&(this.xe=c=new Float64Array(8));c[0]=a.ca-b;c[1]=a.aa-d;c[2]=a.la-b;c[3]=a.aa-d;c[4]=a.la-b;c[5]=a.ka-d;c[6]=a.ca-b;c[7]=a.ka-d;this.aF.Ca(a);0===b&&0===d||this.aF.offset(-b,-d);this.mo=!1}transform(a,b,d){let c=0,e=1;0!==d&&(c=Math.sin(d),e=Math.cos(d));Fc(this,a,b,c,e)}offset(a,b){const d=this.xe;for(let c=
0,e=d.length;c<e;c+=2)d[c]+=a,d[c+1]+=b}Fh(a,b){const d=this.xe;if(a===d[0]&&b===d[1])return!0;if(this.mo){var c=this.xe,e=c[0],g=c[1],k=e,l=g;for(let H=0,L=c.length;H<L;H+=2){var n=c[H],p=c[H+1];n<e&&(e=n);n>k&&(k=n);p<g&&(g=p);p>l&&(l=p)}this.aF.set(e,g,k,l);this.mo=!1}k=this.aF;c=k.ca-110;e=k.aa-101;g=k.la+131;k=k.ka+120;let r,u,x,y,A;c<a?(l=c,p=a):(l=a,p=c);e<b?(n=e,r=b):(n=b,r=e);g<a?(u=g,y=a):(u=a,y=g);k<b?(x=k,A=b):(x=b,A=k);let D=0,F=0;for(let H=0,L=d.length;H<L;H+=2){var J=(H+2)%L;const Y=
d[H],da=d[H+1],Fa=d[J];J=d[J+1];vc.gp(c,e,a,b,l,p,n,r,Y,da,Fa,J)&&++D;vc.gp(g,k,a,b,u,y,x,A,Y,da,Fa,J)&&++F}return 1===D%2||1===F%2}Bb(){return this.je}};"use strict";const Hc=self.B;function Ic(a,b){a=a.Hm;const d=a.get(b);d&&(d.clear(),a.delete(b));for(const [c,e]of a.entries())e.delete(b)&&0===e.size&&a.delete(c)}
Hc.jz=class extends Hc.xa{constructor(a){super();this.Hm=new Map;if(a)for(const [b,d,c]of a)this.Set(b,d,c)}j(){this.pe();this.Hm=null}pe(){const a=this.Hm;for(const b of a.values())b.clear();a.clear()}Set(a,b,d){const c=this.Hm;let e=c.get(a);e||(e=new Map,c.set(a,e));e.set(b,d)}ea(a,b){return(a=this.Hm.get(a))?a.get(b):a}Xy(a){return(a=this.Hm.get(a))?a.has(void 0):!1}Jr(a,b){const d=this.Hm,c=d.get(a);c&&c.delete(b)&&0===c.size&&d.delete(a)}Hj(){let a=0;for(const b of this.Hm.values())a+=b.size;
return a}*values(){for(const a of this.Hm.values())yield*a.values()}*entries(){for(const [a,b]of this.Hm.entries())for(const [d,c]of b.entries())yield[a,d,c]}};"use strict";const Jc=self.B;function Kc(a){if(a.zB){const b=a.XE;Jc.D(b);for(const d of a.Oq)b.push(d);a.zB=!1}return a.XE}
Jc.lJ=class extends Jc.xa{constructor(){super();this.Oq=new Set;this.XE=[];this.zB=!1}j(){this.pe()}pe(){this.Oq.clear();Jc.D(this.XE);this.zB=!1}Cc(a){this.Oq.has(a)||(this.Oq.add(a),this.zB||this.XE.push(a))}Xy(a){return this.Oq.has(a)}Jr(a){this.Oq.delete(a)&&(this.zB=!0)}Hj(){return this.Oq.size}Gn(){return 0===this.Oq.size}};"use strict";const Lc=self.B,Mc=new Map,Nc=new Map,Oc=new Map,Pc=new Map,Qc=new Map,Rc=new Map;Rc.set("linear","noease");Rc.set("default","noease");
self.vn=class a{constructor(){}static CR(){this.Bz();const b=[...Oc.keys()];b.sort();return[...Nc.keys()].concat(b)}static s_(b){this.Bz();return[...Nc.keys()].includes(b)}static f3(b){const d=Rc.get(b);if(d)return Mc.get(d);if(a.s_(b))return Mc.get(b);if(Pc.has(b))return Pc.get(b)}static Cn(b){this.Bz();const d=a.f3(b);return d?d:Oc.get(b)}static zn(b){this.Bz();return this.CR()[b]}static Bz(){0===Mc.size&&(this.fc("default",()=>{}),this.fc("noease",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},
{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}],!0),this.fc("easeinsine",[{x:0,y:0,sax:.485,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.038,eay:0,se:!1,ee:!0}]),this.fc("easeoutsine",[{x:0,y:0,sax:.038,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.485,eay:0,se:!1,ee:!0}]),this.fc("easeinoutsine",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}]),this.fc("easeinelastic",[{x:0,y:0,sax:.018,say:0,eax:0,eay:0,se:!0,ee:!1},
{x:.116,y:.002,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.266,y:-.005,sax:.024,say:0,eax:-.021,eay:0,se:!0,ee:!0},{x:.416,y:.016,sax:.024,say:0,eax:-.026,eay:0,se:!0,ee:!0},{x:.566,y:-.045,sax:.061,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.716,y:.132,sax:.072,say:-.004,eax:-.045,eay:0,se:!0,ee:!0},{x:.866,y:-.373,sax:.06,say:0,eax:-.049,eay:-.002,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.038,eay:-.263,se:!1,ee:!0}]),this.fc("easeoutelastic",[{x:0,y:0,sax:.038,say:.263,eax:0,eay:0,se:!0,ee:!1},{x:.136,
y:1.373,sax:.049,say:.002,eax:-.06,eay:0,se:!0,ee:!0},{x:.286,y:.868,sax:.045,say:0,eax:-.072,eay:.004,se:!0,ee:!0},{x:.436,y:1.045,sax:.025,say:0,eax:-.061,eay:0,se:!0,ee:!0},{x:.586,y:.984,sax:.026,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.736,y:1.005,sax:.021,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.886,y:.998,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.018,eay:0,se:!1,ee:!0}]),this.fc("easeinoutelastic",[{x:0,y:0,sax:.025,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.067,y:.001,sax:.025,
say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.18,y:-.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.292,y:.025,sax:.053,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.405,y:-.118,sax:.069,say:0,eax:-.027,eay:0,se:!0,ee:!0},{x:.597,y:1.118,sax:.027,say:0,eax:-.069,eay:0,se:!0,ee:!0},{x:.71,y:.975,sax:.025,say:0,eax:-.053,eay:0,se:!0,ee:!0},{x:.822,y:1.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.935,y:.999,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.025,eay:0,se:!1,ee:!0}]),
this.fc("easeinback",[{x:0,y:0,sax:.35,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.34,eay:-1.579,se:!1,ee:!0}]),this.fc("easeoutback",[{x:0,y:0,sax:.34,say:1.579,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.35,eay:0,se:!1,ee:!0}]),this.fc("easeinoutback",[{x:0,y:0,sax:.035,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.242,y:-.1,sax:.258,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.76,y:1.1,sax:.025,say:0,eax:-.26,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.035,eay:0,se:!1,ee:!0}]),this.fc("easeinbounce",
[{x:0,y:0,sax:.033,say:.025,eax:0,eay:0,se:!0,ee:!1},{x:.092,y:0,sax:.026,say:.078,eax:-.033,eay:.025,se:!0,ee:!0},{x:.274,y:0,sax:.097,say:.319,eax:-.026,eay:.078,se:!0,ee:!0},{x:.637,y:0,sax:.105,say:.625,eax:-.097,eay:.319,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:-.004,se:!1,ee:!0}]),this.fc("easeoutbounce",[{x:0,y:0,sax:.125,say:.004,eax:0,eay:0,se:!0,ee:!1},{x:.365,y:1,sax:.097,say:-.319,eax:-.105,eay:-.625,se:!0,ee:!0},{x:.728,y:1,sax:.026,say:-.078,eax:-.097,eay:-.319,se:!0,ee:!0},{x:.91,
y:1,sax:.033,say:-.025,eax:-.026,eay:-.078,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.033,eay:-.025,se:!1,ee:!0}]),this.fc("easeinoutbounce",[{x:0,y:0,sax:.01,say:.006,eax:0,eay:0,se:!0,ee:!1},{x:.046,y:0,sax:.021,say:.038,eax:-.01,eay:.006,se:!0,ee:!0},{x:.137,y:0,sax:.059,say:.158,eax:-.021,eay:.038,se:!0,ee:!0},{x:.319,y:0,sax:.117,say:.744,eax:-.059,eay:.158,se:!0,ee:!0},{x:.683,y:1,sax:.059,say:-.158,eax:-.117,eay:-.744,se:!0,ee:!0},{x:.865,y:1,sax:.021,say:-.038,eax:-.059,eay:-.158,se:!0,ee:!0},
{x:.956,y:1,sax:.01,say:-.006,eax:-.021,eay:-.038,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.01,eay:-.006,se:!1,ee:!0}]),this.fc("easeincubic",[{x:0,y:0,sax:.75,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.138,eay:-.321,se:!1,ee:!0}]),this.fc("easeoutcubic",[{x:0,y:0,sax:.138,say:.321,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.75,eay:0,se:!1,ee:!0}]),this.fc("easeinoutcubic",[{x:0,y:0,sax:.285,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.081,say:.272,eax:-.081,eay:-.272,se:!0,
ee:!0},{x:1,y:1,sax:0,say:0,eax:-.285,eay:0,se:!1,ee:!0}]),this.fc("easeinquad",[{x:0,y:0,sax:.4,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.178,eay:-.392,se:!1,ee:!0}]),this.fc("easeoutquad",[{x:0,y:0,sax:.178,say:.392,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.4,eay:0,se:!1,ee:!0}]),this.fc("easeinoutquad",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.03,say:.065,eax:-.03,eay:-.065,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.fc("easeinquart",
[{x:0,y:0,sax:.264,say:.079,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.329,eay:-1.287,se:!1,ee:!0}]),this.fc("easeoutquart",[{x:0,y:0,sax:.329,say:1.287,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.264,eay:-.079,se:!1,ee:!0}]),this.fc("easeinoutquart",[{x:0,y:0,sax:.765,say:.03,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.765,eay:-.03,se:!1,ee:!0}]),this.fc("easeinquint",[{x:0,y:0,sax:.6,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.2,eay:-1,se:!1,ee:!0}]),this.fc("easeoutquint",
[{x:0,y:0,sax:.2,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.6,eay:0,se:!1,ee:!0}]),this.fc("easeinoutquint",[{eax:0,eay:0,ee:!1,sax:.84,say:0,se:!0,x:0,y:0},{eax:-.84,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.fc("easeincirc",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.024,eay:-.808,se:!1,ee:!0}]),this.fc("easeoutcirc",[{x:0,y:0,sax:.024,say:.808,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.fc("easeinoutcirc",[{x:0,
y:0,sax:.125,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.02,say:.428,eax:-.02,eay:-.428,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:0,se:!1,ee:!0}]),this.fc("easeinexpo",[{x:0,y:0,sax:.66,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.14,eay:-1,se:!1,ee:!0}]),this.fc("easeoutexpo",[{x:0,y:0,sax:.14,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.66,eay:0,se:!1,ee:!0}]),this.fc("easeinoutexpo",[{eax:0,eay:0,ee:!1,sax:.345,say:0,se:!0,x:0,y:0},{eax:-.06,eay:-.5,ee:!0,sax:.06,
say:.5,se:!0,x:.5,y:.5},{eax:-.335,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.mT("cubicbezier",this.YY),this.mT("spline",this.ZY))}static fc(b,d,c=!1){if("function"===typeof d)a.zz(b,d,"predefined");else if(Lc.Xk(d))if(self.AY){const e=Lc.A(self.AY,b,c);e.pga(d);a.zz(b,(g,k,l,n)=>e.Pa(g,k,l,n),"predefined");Qc.set(b,e)}else{const e=Lc.A(Lc.NK,[b,d.map(g=>[g.x,g.y,g.sax,g.say,g.eax,g.eay,g.se,g.ee])],!1);e.dV=!!c;a.zz(b,(g,k,l,n)=>e.Pa(g,k,l,n),"predefined")}else throw Error("unexpected arguments");
}static mT(b,d){a.zz(b,d,"private")}static eY(b,d){this.Bz();a.zz(b,d,"custom")}static zz(b,d,c){switch(c){case "predefined":Mc.set(b,d);Nc.set(b,d);break;case "custom":Oc.set(b,d);break;case "private":Mc.set(b,d);Pc.set(b,d);break;default:throw Error("unexpected ease mode");}}static Q_(b,d,c,e){return c*b/e+d}static YY(b,d,c,e,g){return d+3*b*(c-d)+3*b**2*(d+e-2*c)+b**3*(g-d+3*c-3*e)}static ZY(b,d,c,e,g,k,l,n,p,r){if(e===g&&k===l)c=b;else{if(1==b)b=1;else{for(var u=0,x=1,y=r[x];10!=x&&y<=b;)x++,
y=r[x],u+=.1;x--;y=r[x];r=u+(b-y)/(r[x+1]-y)*.1;n=n-3*k+3*e-d;k=3*k-6*e+3*d;d=3*(e-d);e=3*n*r*r+2*k*r+d;if(0!==e)if(.01<=e)for(u=0;4>u;++u)r-=(((n*r+k)*r+d)*r-b)/(3*n*r*r+2*k*r+d);else{e=u;u+=.1;x=0;let A;do r=e+(u-e)/2,y=((n*r+k)*r+d)*r-b,0<y?u=r:e=r,y=1E-7<Math.abs(y),A=10>++x;while(y&&A)}b=r}c=(((p-3*l+3*g-c)*b+(3*l-6*g+3*c))*b+3*(g-c))*b}return c}static nZ(b,d,c,e){const g=[];e=e-3*c+3*d-b;c=3*c-6*d+3*b;b=3*(d-b);for(let k=0;11>k;++k)d=.1*k,g.push(((e*d+c)*d+b)*d);return g}};"use strict";
const Sc=self.B;Sc.Kda=class{constructor(a){this.SU=[];this.Ta=a||""}j(){this.pe();this.SU=null}oa(){return this.Ta}pe(){Sc.H5(this.SU)}};"use strict";let Tc=0;
self.B.n1=class{constructor(a,b){this.g=a;this.$c=b;this.le=Tc++;Uc(this.g,"runtime","screen-reader-text",{type:"create",id:this.le,text:this.$c})}j(){Uc(this.g,"runtime","screen-reader-text",{type:"release",id:this.le});this.g=null;this.$c="";this.le=-1}Yu(a){this.$c!==a&&(this.$c=a,Uc(this.g,"runtime","screen-reader-text",{type:"update",id:this.le,text:this.$c}))}};"use strict";
self.B.Event=class{constructor(a,b){this.type=a;this.cancelable=!!b;this.t6=this.wQ=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.t6)throw Error(`cannot stop async event '${this.type}' propagation`);this.wQ=!0}};"use strict";const Vc=self.B;
function Wc(a,b,d){0<a.ql?a.Zw.push({qQ:"add",Kk:b,capture:d}):d?a.Dv.has(b)||(a.oh.push(b),a.Dv.add(b)):a.Dw.has(b)||(a.vh.push(b),a.Dw.add(b))}function Xc(a){a.ql--;if(0===a.ql&&0<a.Zw.length){const b=new Set,d=new Set;for(const c of a.Zw)if("add"===c.qQ)Wc(a,c.Kk,c.capture),c.capture?d.delete(c.Kk):b.delete(c.Kk);else if("remove"===c.qQ)c.capture?(a.Dv.delete(c.Kk),d.add(c.Kk)):(a.Dw.delete(c.Kk),b.add(c.Kk));else throw Error("invalid op");Vc.Di(a.vh,b);Vc.Di(a.oh,d);Vc.D(a.Zw)}}
function Yc(a,b){const d=[];a.ql++;for(let e=0,g=a.oh.length;e<g;++e){var c=a.oh[e](b);c instanceof Promise&&d.push(c)}for(let e=0,g=a.vh.length;e<g;++e)c=a.vh[e](b),c instanceof Promise&&d.push(c);Xc(a);return d.length?Promise.all(d).then(()=>!b.defaultPrevented):!b.defaultPrevented}async function Zc(a,b){return await Yc(a,b)}
async function $c(a,b){a.ql++;for(let c=0,e=a.oh.length;c<e;++c){var d=a.oh[c](b);d instanceof Promise&&await d}for(let c=0,e=a.vh.length;c<e;++c)d=a.vh[c](b),d instanceof Promise&&await d;Xc(a);return!b.defaultPrevented}function*ad(a,b){a.ql++;for(let c=0,e=a.oh.length;c<e;++c){var d=a.oh[c](b);Vc.sp(d)&&(yield*d)}for(let c=0,e=a.vh.length;c<e;++c)d=a.vh[c](b),Vc.sp(d)&&(yield*d);Xc(a)}
Vc.Event.IZ=class extends Vc.xa{constructor(a){super();this.Fa=a;this.oh=[];this.Dv=new Set;this.vh=[];this.Dw=new Set;this.ql=0;this.Zw=[]}j(){0<this.ql||(Vc.D(this.oh),this.Dv.clear(),Vc.D(this.vh),this.Dw.clear(),Vc.D(this.Zw),Vc.j(this))}Uu(a){a?this.ql++:Xc(this)}};"use strict";const cd=self.B;function dd(a,b,d){let c=a.eo.get(b);return c?c:d?(c=cd.A(cd.Event.IZ,b),a.eo.set(b,c),c):null}async function ed(a,b){return(a=dd(a,b.type,!1))?await Zc(a,b):!0}
async function fd(a,b){(a=dd(a,b.type,!1))&&await $c(a,b)}function gd(a,b){a=dd(a,b.type,!1);if(!a)return null;if(b.cancelable)throw Error("not supported");return ad(a,b)}
cd.Event.ib=class extends cd.xa{constructor(){super();this.eo=new Map;this.pM=!1}j(){if(this.pM)throw Error("already released");for(let a of this.eo.values())a.j();this.eo.clear();this.pM=!0;cd.j(this)}Dp(){return this.pM}addEventListener(a,b,d){Wc(dd(this,a,!0),b,!!d)}removeEventListener(a,b,d){let c=dd(this,a,!1);c&&(d=!!d,0<c.ql?c.Zw.push({qQ:"remove",Kk:b,capture:d}):d?c.Dv.has(b)&&(c.Dv.delete(b),Vc.kn(c.oh,b)):c.Dw.has(b)&&(c.Dw.delete(b),Vc.kn(c.vh,b)),c.oh.length||c.vh.length||this.eo.delete(a))}dispatchEvent(a){const b=
dd(this,a.type,!1);if(b)if(a.cancelable){b.ql++;let d=!1;for(let c=0,e=b.oh.length;c<e;++c)if(b.oh[c](a),a.wQ){d=!0;break}if(!d)for(let c=0,e=b.vh.length;c<e&&(b.vh[c](a),!a.wQ);++c);Xc(b);a=!a.defaultPrevented}else{b.ql++;for(let d=0,c=b.oh.length;d<c;++d)b.oh[d](a);for(let d=0,c=b.vh.length;d<c;++d)b.vh[d](a);Xc(b);a=!0}else a=!0;return a}Uu(a){for(const b of this.eo.values())b.Uu(a)}};"use strict";const hd=self.B,id="undefined"!==typeof requestIdleCallback;let jd=[],kd=-1,ld=0;
function md(a){kd=id&&0===ld?requestIdleCallback(nd,{timeout:35}):setTimeout(nd,0<ld?1:a)}function nd(a){kd=-1;if(jd.length){var b=performance.now(),d=0;do{od(jd.shift());var c=performance.now();++d;var e=(c-b)/d*1.1}while(jd.length&&(id&&0===ld&&"undefined"!==typeof a?e<a.timeRemaining():12>c-b+e));-1===kd&&jd.length&&md(Math.max(16-(c-b),4))}}function od(a){let b;try{b=a.Kk()}catch(d){a.reject(d);return}a.resolve(b)}let pd=hd.iK.Xy("disable-asyncify");pd&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");
hd.uy=function(a){let b=null;hd.VC&&(b=hd.ID());return new Promise((d,c)=>{jd.push({Kk:a,resolve:d,reject:c,stack:b});pd?od(jd.pop()):-1===kd&&md(16)})};hd.uy.RS=function(a){if(a)++ld;else if(--ld,0>ld)throw Error("already turned off high throughput mode");};"use strict";const qd=self.B;let rd=-1;function sd(){rd=-1}qd.ED=function(){-1===rd&&(rd=Date.now(),self.setTimeout(sd,16));return rd};let td=-1,vd=-1,wd=new Set;
function xd(){vd=td=-1;let a=Date.now();for(let c of wd){var b=c;var d=a;d>=b.Ls?b.Av()?(b.Ls=d+b.TH,b=!0):b=b.Rb=!1:b=!0;if(b){if(b=c.Ls,-1===vd||b<vd)vd=b}else wd.delete(c)}-1!==vd&&(td=self.setTimeout(xd,Math.max(vd-a+100,1E3)))}
qd.e_=class{constructor(a,b){this.Av=a;this.TH=1E3*b;this.Ls=0;this.Rb=!1}fd(){let a=qd.ED();this.Ls=a+this.TH;this.Rb||(wd.add(this),this.Rb=!0);-1===td?(vd=this.Ls,td=self.setTimeout(xd,this.TH+100)):this.Ls<vd&&vd>a+1E3&&(self.clearTimeout(td),vd=this.Ls,td=self.setTimeout(xd,this.TH+100))}j(){this.Rb&&(wd.delete(this),this.Rb=!1,0===wd.size&&-1!==td&&(self.clearTimeout(td),vd=td=-1));this.Av=null}};"use strict";const yd=self.B;
yd.td=class a{constructor(b){this.Qv=!1;this.CF=b}CD(){this.Qv||(this.Qv=!0,this.CF&&(this.CF(),this.CF=null))}j(){this.CD()}static j(b){return new a(()=>b.j())}static qe(b,d,c){if("undefined"===typeof e||null===e)var e=!1;else if("boolean"!==typeof e&&"object"!==typeof e)throw new TypeError("invalid event listener options");if(d.includes(" ")){d=d.split(" ");const g=new yd.wu;for(let k of d)b.addEventListener(k,c,e),g.Cc(yd.A(yd.td,()=>b.removeEventListener(k,c,e)));return g}b.addEventListener(d,
c,e);return yd.A(yd.td,()=>b.removeEventListener(d,c,e))}};function zd(a,b){a.CF=b}yd.oia=class extends yd.td{};yd.wu=class extends yd.td{constructor(...a){super();this.yd=new Set;for(let b of a)this.Cc(b)}Cc(...a){if(this.Qv)throw Error("already disposed");for(let b of a)this.yd.add(b)}Rh(a){if(this.Qv)throw Error("already disposed");this.yd.delete(a)}CD(){if(this.Qv)throw Error("already disposed");this.Qv=!0;for(let a of this.yd)a.CD();this.yd.clear();this.yd=null}j(){this.CD()}};"use strict";
const Ad=self.B;Ad.gz=class extends Ad.xa{constructor(){super();this.Tq=this.Ot=this.ba=this.yv=0}Cc(a){this.ba=+a-this.yv;this.Ot=this.Tq+this.ba;this.yv=this.Ot-this.Tq-this.ba;this.Tq=this.Ot}ea(){return this.Tq}fd(){this.Tq=this.Ot=this.ba=this.yv=0}Set(a){this.Ot=this.ba=this.yv=0;this.Tq=+a}vJ(a){this.yv=a.yv;this.ba=a.ba;this.Ot=a.Ot;this.Tq=a.Tq}j(){}};"use strict";
const Bd=self.B,Cd={jK:function(a){this.QX=a;this.left=this.right=this.QX.Mb;this.parent=null;this.color=!1;this.key=null},bs:function(a){this.size=0;this.Mb=new Cd.jK(this);this.Mb.color=!1;this.root=this.Mb;this.root.parent=this.Mb;this.compare=a||this.T5}};aa=Cd.bs.prototype;aa.T5=function(a,b){return a<b?-1:b<a?1:0};
aa.clone=function(){var a=new Cd.bs(this.compare);if("array"==Cd.LQ(this))for(var b=0;b<this.length;b++)a.by(this[b]);else if("function"==Cd.LQ(this.forEach))this.forEach(a.by,a);else if("function"==Cd.LQ(this.OP)){var d=this.OP();for(b=0;b<d.length;b++)a.by(d[b])}else if("object"==Cd.LQ(this))for(b in this)a.by(this[b]);return a};aa.clear=function(){this.size=0;this.Mb=new Cd.jK(this);this.Mb.color=!1;this.root=this.Mb;this.root.parent=this.Mb};
function Dd(a,b){var d=b.right;b.right=d.left;d.left!=a.Mb&&(d.left.parent=b);d.parent=b.parent;b.parent==a.Mb?a.root=d:b==b.parent.left?b.parent.left=d:b.parent.right=d;d.left=b;b.parent=d}function Ed(a,b){var d=b.left;b.left=d.right;d.right!=a.Mb&&(d.right.parent=b);d.parent=b.parent;b.parent==a.Mb?a.root=d:b==b.parent.right?b.parent.right=d:b.parent.left=d;d.right=b;b.parent=d}
aa.by=function(a){if(this.contains(a))Fd(this,a).key=a;else{var b=new Cd.jK(this);b.key=a;a=this.Mb;for(var d=this.root;d!=this.Mb;)a=d,d=0>this.compare(b.key,d.key)?d.left:d.right;b.parent=a;a==this.Mb?this.root=b:0>this.compare(b.key,a.key)?a.left=b:a.right=b;b.left=this.Mb;b.right=this.Mb;for(b.color=!0;b!=this.Mb&&b!=this.root&&1==b.parent.color;)b.parent==b.parent.parent.left?(a=b.parent.parent.right,1==a.color?(b.parent.color=!1,a.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.right&&
(b=b.parent,Dd(this,b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.Mb&&Ed(this,b.parent.parent))):(a=b.parent.parent.left,1==a.color?(b.parent.color=!1,a.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.left&&(b=b.parent,Ed(this,b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.Mb&&Dd(this,b.parent.parent)));this.root.color=!1;this.size++}};
aa.remove=function(a){var b=Fd(this,a);if(b!=this.Mb){a=b.key;var d=b.left==this.Mb||b.right==this.Mb?b:Gd(this,b);var c=d.left!=this.Mb?d.left:d.right;c.parent=d.parent;d.parent==this.Mb?this.root=c:d==d.parent.left?d.parent.left=c:d.parent.right=c;d!=b&&(b.key=d.key);if(0==d.color){for(b=c;b!=this.root&&0==b.color;)b==b.parent.left?(d=b.parent.right,1==d.color&&(d.color=!1,b.parent.color=!0,Dd(this,b.parent),d=b.parent.right),0==d.left.color&&0==d.right.color?(d.color=!0,b=b.parent):(0==d.right.color&&
(d.left.color=!1,d.color=!0,Ed(this,d),d=b.parent.right),d.color=b.parent.color,b.parent.color=!1,d.right.color=!1,Dd(this,b.parent),b=this.root)):(d=b.parent.left,1==d.color&&(d.color=!1,b.parent.color=!0,Ed(this,b.parent),d=b.parent.left),0==d.right.color&&0==d.left.color?(d.color=!0,b=b.parent):(0==d.left.color&&(d.right.color=!1,d.color=!0,Dd(this,d),d=b.parent.left),d.color=b.parent.color,b.parent.color=!1,d.left.color=!1,Ed(this,b.parent),b=this.root));b.color=!1}this.size--;return a}return null};
aa.min=function(a){for(;a.left!=this.Mb;)a=a.left;return a};aa.max=function(a){for(;a.right!=this.Mb;)a=a.right;return a};function Gd(a,b){if(b.right!=a.Mb)return a.min(b.right);for(var d=b.parent;d!=a.Mb&&b==d.right;)b=d,d=d.parent;return d}function Fd(a,b){for(var d=a.root;d!=a.Mb&&0!=a.compare(d.key,b);)d=0>a.compare(b,d.key)?d.left:d.right;return d}aa.contains=function(a){return null!=Fd(this,a).key};aa.OP=function(){var a=[];this.forEach(function(b){a.push(b)});return a};
aa.range=function(a,b){var d=[];Hd(this,function(c){d.push(c)},a,b);return d};function Hd(a,b,d,c){if(0!=a.size)for(d=Fd(a,d),c=Fd(a,c);d!=c&&!b.call(void 0,d.key,a);)d=Gd(a,d)}aa.forEach=function(a,b){if(0!=this.size)for(var d=this.min(this.root);d!=this.Mb;d=Gd(this,d))a.call(b,d.key,d.key,this)};aa.some=function(a,b){if(0==this.size)return!1;for(var d=this.min(this.root);d!=this.Mb;d=Gd(this,d))if(a.call(b,d.key,d.key,this))return!0;return!1};
aa.every=function(a,b){if(0==this.size)return!1;for(var d=this.min(this.root);d!=this.Mb;d=Gd(this,d))if(!a.call(b,d.key,d.key,this))return!1;return!0};aa.map=function(a,b){var d=[];if(0==this.size)return d;for(var c=this.min(this.root);c!=this.Mb;c=Gd(this,c))d.push(a.call(b,c.key,c.key,this));return d};aa.filter=function(a,b){var d=[];if(0==this.size)return d;for(var c=this.min(this.root);c!=this.Mb;c=Gd(this,c))a.call(b,c.key,c.key,this)&&d.push(c.key);return d};
function Id(a,b){b=!!b;if(a.Tv!==b&&(a.Tv=b,!b)){for(const d of a.Gt)a.ij.remove(d);a.Gt.clear();for(const d of a.Ft)a.ij.by(d);a.Ft.clear()}}
Bd.bs=class extends Bd.xa{constructor(a){super();this.ij=new Cd.bs(a);this.Tv=!1;this.Ft=new Set;this.Gt=new Set}Cc(a){this.Tv?this.ij.contains(a)?this.Gt.delete(a):this.Ft.add(a):this.ij.by(a)}Rh(a){this.Tv?this.ij.contains(a)?this.Gt.add(a):this.Ft.delete(a):this.ij.remove(a)}Xy(a){return this.Tv?this.Ft.has(a)?!0:!this.Gt.has(a)&&this.ij.contains(a):this.ij.contains(a)}pe(){this.ij.clear();this.Ft.clear();this.Gt.clear()}toArray(){if(this.Tv)throw Error("cannot be used in queueing mode");return this.ij.OP()}Hj(){return this.ij.size+
this.Ft.size-this.Gt.size}Gn(){return 0===this.Hj()}tR(a){this.ij.forEach(a)}*values(){if(!this.Gn()){var a=this.ij;for(let b=a.min(a.root);b!=a.Mb;b=Gd(a,b))yield b.key}}[Symbol.iterator](){return this.values()}};"use strict";const Jd=self.B;async function Kd(a){if(a.tO.length&&!(a.zL>=a.R4)){a.zL++;var b=a.tO.shift();try{const d=await b.Kk();b.resolve(d)}catch(d){b.reject(d)}a.zL--;Kd(a)}}
Jd.mE=class{constructor(a=Jd.hardwareConcurrency){this.R4=a;this.tO=[];this.zL=0}Cc(a){return new Promise((b,d)=>{this.tO.push({Kk:a,resolve:b,reject:d});Kd(this)})}};"use strict";const Ld=self.B;function Md(a){a.VM=!0;const b=a.aA;a.aA=null;b?a.Av(...b):a.Av();a.VM=!1}function Nd(a){var b=[];if(-1===a.Dx){a.aA=b;b=Ld.ED();var d=b-a.IG;var c="undefined"!==typeof Ld.vY&&Ld.vY.cba()?a.E4:a.D4;d>=c&&a.Z3?(a.IG=b,Md(a)):a.Dx=self.setTimeout(a.lW,Math.max(c-d,4))}}
function Od(a){-1!==a.Dx&&(self.clearTimeout(a.Dx),a.Dx=-1)}Ld.d1=class{constructor(a,b,d){this.Av=a;this.D4=b;this.E4=d||2*b;this.Dx=-1;this.IG=-Infinity;this.lW=()=>{this.Dx=-1;this.IG=Ld.ED();Md(this)};this.Z3=this.VM=!1;this.aA=null}fd(){this.VM||(Od(this),this.aA=null,this.IG=Ld.ED())}j(){Od(this);this.lW=this.aA=this.Av=null}};"use strict";function Pd(a,b){if(!a.qU)throw Error("no get base size callback set");return a.qU(b)}
self.B.qfa=class{constructor(){this.B4=new Map;this.KV=this.NV=this.qU=null}qE(){if(!this.KV)throw Error("no redraw callback set");this.KV()}};"use strict";
self.B.pfa=class{constructor(a,b){this.Ve=a;this.j4=b;this.Nc=0;Pd(this.Ve,b).then(()=>{this.Ve&&this.Ve.qE()}).catch(d=>{console.error("[SVG] Error loading SVG: ",d);this.Ve&&this.Ve.qE()});this.uO=null}j(){if(0>=this.Nc)throw Error("already released");this.Nc--;0===this.Nc&&this.Gz()}Gz(){if(this.uO){var a=this.Ve;if(!a.NV)throw Error("no release result callback set");a.NV(this.uO);this.uO=null}this.Ve.B4.delete(this.j4);this.Ve=null}};"use strict";const Qd=self.B;Qd.Zia="\ufeff";const Rd=new Set([..."0123456789"]);
Qd.t_=function(a){return Rd.has(a)};const Sd=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);Qd.dE=function(a){return Sd.has(a)};Qd.J$=function(a){return[...a].filter(b=>!Qd.dE(b)).join("")};Qd.y_=function(a){for(const b of a)if(!Qd.dE(b))return!1;return!0};Qd.JR=function(a){for(const b of a)if(!Qd.dE(b))return!1;return!0};Qd.B_=function(a){return 1===a.length&&32>a.charCodeAt(0)};
Qd.iZ=function(a){return[...a].filter(b=>!Qd.B_(b)).join("")};const Td=new Set([..."0123456789.+-e"]);Qd.nba=function(a){a=a.trim();if(!a.length)return!1;let b=a.charAt(0);if("-"!==b&&!Rd.has(b))return!1;for(let d of a)if(!Td.has(d))return!1;return!0};Qd.f1=function(a){let b=a.length;for(;0<b&&Qd.t_(a.charAt(b-1));)--b;return a.substr(0,b)};Qd.yaa=function(a){let b=Qd.f1(a);a=(a=a.substr(b.length))?(parseInt(a,10)+1).toString():"2";return b+a};
const Ud=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function Vd(a){return Ud.get(a)}const Wd=/[&<>"']/g;Qd.lR=function(a){return a.replace(Wd,Vd)};Qd.v$=function(a){a=Qd.Si(a,"\\","\\\\");a=Qd.Si(a,'"','\\"');a=Qd.Si(a,"\t","\\t");a=Qd.Si(a,"\r","");return Qd.Si(a,"\n","\\n")};Qd.w$=function(a){a=Qd.Si(a,"&","&amp;");a=Qd.Si(a,"<","&lt;");a=Qd.Si(a,">","&gt;");return Qd.Si(a,'"',"&quot;")};const Xd=/[-[\]{}()*+?.,\\^$|#\s]/g;
Qd.Ay=function(a){return a.replace(Xd,"\\$&")};Qd.Q9=function(a,b){let d=0;for(const c of a)c===b&&++d;return d};Qd.K$=function(a,b,d=!1){if(!b)return[];d||(a=a.toLowerCase(),b=b.toLowerCase());d=b.length;var c=0;let e=[];for(;-1<(c=a.indexOf(b,c));)e.push(c),c+=d;return e};Qd.Si=function(a,b,d){return a.replaceAll(b,()=>d)};Qd.fea=function(a,b,d){return a.replace(new RegExp(Qd.Ay(b),"gi"),()=>d)};
Qd.gga=function(a,b){if("string"===typeof b)a.textContent=b;else if(b.NU)a.textContent=b.toString();else if(a.innerHTML=Yd(b),b instanceof Qd.Fr&&b.pB.length)for(let d=0,c=b.pB.length;d<c;++d){const e=b.pB[d];if("function"!==typeof e)continue;const g=a.querySelector(".bblink"+d);if(!g)throw Error("unable to attach BBString link handler");g.onclick=e}};Qd.kia=function(a,b){return a instanceof Qd.YD||a instanceof Qd.Fr?a.Wd(b):b instanceof Qd.YD||b instanceof Qd.Fr?b.Wd(a):a===b};
Qd.lia=function(a,...b){let d=a;for(let c=0,e=b.length;c<e;++c){const g=`{${c}}`;if(!a.includes(g))throw Error(`missing placeholder '${g}' in string substitution`);d=d.replace(g,b[c].toString())}return d};Qd.mia=function(a,...b){let d=a,c=-1,e=-1;for(let g=0,k=b.length;g<k;++g){const l=`{${g}}`;a.includes(l)?(e=g,d=d.replace(l,b[g].toString())):-1===c&&(c=g)}if(0<=c&&0<=e&&c<e)throw Error(`missing placeholder '${c}' in string substitution`);return d};
Qd.dT=function(a){var b={"%%SAMPLERFRONT_BINDING%%":"@binding(0) @group(1)","%%TEXTUREFRONT_BINDING%%":"@binding(1) @group(1)","%%SAMPLERBACK_BINDING%%":"@binding(0) @group(2)","%%TEXTUREBACK_BINDING%%":"@binding(1) @group(2)","%%SAMPLERDEPTH_BINDING%%":"@binding(0) @group(3)","%%TEXTUREDEPTH_BINDING%%":"@binding(1) @group(3)","%%SHADERPARAMS_BINDING%%":"@binding(5) @group(0)","%%FRAGMENTINPUT_STRUCT%%":"\nstruct FragmentInput {\n\t@location(0) fragUV : vec2<f32>,\n\t@location(1) fragColor : vec4<f32>,\n\t@builtin(position) fragPos : vec4<f32>\n};\n\nfn c3_getBackUV(fragPos : vec2<f32>, texBack : texture_2d<f32>) -> vec2<f32>\n{\n\treturn fragPos / vec2<f32>(textureDimensions(texBack));\n}\n\nfn c3_getDepthUV(fragPos : vec2<f32>, texDepth : texture_depth_2d) -> vec2<f32>\n{\n\treturn fragPos / vec2<f32>(textureDimensions(texDepth));\n}\n",
"%%FRAGMENTOUTPUT_STRUCT%%":"\nstruct FragmentOutput {\n\t@location(0) color : vec4<f32>\n};\n","%%C3PARAMS_STRUCT%%":"\nstruct C3Params {\n\tsrcStart\t\t\t: vec2<f32>,\n\tsrcEnd\t\t\t\t: vec2<f32>,\n\tsrcOriginStart\t\t: vec2<f32>,\n\tsrcOriginEnd\t\t: vec2<f32>,\n\tlayoutStart\t\t\t: vec2<f32>,\n\tlayoutEnd\t\t\t: vec2<f32>,\n\tdestStart\t\t\t: vec2<f32>,\n\tdestEnd\t\t\t\t: vec2<f32>,\n\tdevicePixelRatio\t: f32,\n\tlayerScale\t\t\t: f32,\n\tlayerAngle\t\t\t: f32,\n\tseconds\t\t\t\t: f32,\n\tzNear\t\t\t\t: f32,\n\tzFar\t\t\t\t: f32,\n\tisSrcTexRotated\t\t: u32\n};\n@binding(4) @group(0) var<uniform> c3Params : C3Params;\n\nfn c3_srcToNorm(p : vec2<f32>) -> vec2<f32>\n{\n\treturn (p - c3Params.srcStart) / (c3Params.srcEnd - c3Params.srcStart);\n}\n\nfn c3_normToSrc(p : vec2<f32>) -> vec2<f32>\n{\n\treturn fma(p, c3Params.srcEnd - c3Params.srcStart, c3Params.srcStart);\n}\n\nfn c3_clampToSrc(p : vec2<f32>) -> vec2<f32>\n{\n\treturn clamp(p, min(c3Params.srcStart, c3Params.srcEnd), max(c3Params.srcStart, c3Params.srcEnd));\n}\n\nfn c3_srcOriginToNorm(p : vec2<f32>) -> vec2<f32>\n{\n\treturn (p - c3Params.srcOriginStart) / (c3Params.srcOriginEnd - c3Params.srcOriginStart);\n}\n\nfn c3_normToSrcOrigin(p : vec2<f32>) -> vec2<f32>\n{\n\treturn fma(p, c3Params.srcOriginEnd - c3Params.srcOriginStart, c3Params.srcOriginStart);\n}\n\nfn c3_clampToSrcOrigin(p : vec2<f32>) -> vec2<f32>\n{\n\treturn clamp(p, min(c3Params.srcOriginStart, c3Params.srcOriginEnd), max(c3Params.srcOriginStart, c3Params.srcOriginEnd));\n}\n\nfn c3_getLayoutPos(p : vec2<f32>) -> vec2<f32>\n{\n\treturn fma(p - c3Params.srcOriginStart, (c3Params.layoutEnd - c3Params.layoutStart) / (c3Params.srcOriginEnd - c3Params.srcOriginStart), c3Params.layoutStart);\n}\n\nfn c3_srcToDest(p : vec2<f32>) -> vec2<f32>\n{\n\treturn fma(p - c3Params.srcStart, (c3Params.destEnd - c3Params.destStart) / (c3Params.srcEnd - c3Params.srcStart), c3Params.destStart);\n}\n\nfn c3_clampToDest(p : vec2<f32>) -> vec2<f32>\n{\n\treturn clamp(p, min(c3Params.destStart, c3Params.destEnd), max(c3Params.destStart, c3Params.destEnd));\n}\n\nfn c3_linearizeDepth(depthSample : f32) -> f32\n{\n\treturn c3Params.zNear * c3Params.zFar / (c3Params.zFar + depthSample * (c3Params.zNear - c3Params.zFar));\n}\n",
"%%C3_UTILITY_FUNCTIONS%%":"\nfn c3_premultiply(c : vec4<f32>) -> vec4<f32>\n{\n\treturn vec4<f32>(c.rgb * c.a, c.a);\n}\n\nfn c3_unpremultiply(c : vec4<f32>) -> vec4<f32>\n{\n\tif (c.a == 0.0)\n\t{\n\t\treturn vec4<f32>(0.0);\n\t}\n\t\n\treturn vec4<f32>(c.rgb / c.a, c.a);\n}\n\nfn c3_grayscale(rgb : vec3<f32>) -> f32\n{\n\treturn dot(rgb, vec3<f32>(0.299, 0.587, 0.114));\n}\n\nfn c3_getPixelSize(t : texture_2d<f32>) -> vec2<f32>\n{\n\treturn vec2<f32>(1.0) / vec2<f32>(textureDimensions(t));\n}\n\nfn c3_clamp2(v : vec2<f32>, l : f32, u : f32) -> vec2<f32>\n{\n\treturn clamp(v, vec2<f32>(l), vec2<f32>(u));\n}\n\nfn c3_mod(x : f32, y : f32) -> f32\n{\n\treturn x - y * floor(x / y);\n}\n\nfn c3_mod2(x : vec2<f32>, y : vec2<f32>) -> vec2<f32>\n{\n\treturn x - y * floor(x / y);\n}\n\nfn c3_RGBtoHSL(color : vec3<f32>) -> vec3<f32>\n{\n\tvar hsl : vec3<f32> = vec3<f32>(0.0);\n\t\n\tvar fmin : f32 = min(min(color.r, color.g), color.b);\n\tvar fmax : f32 = max(max(color.r, color.g), color.b);\n\tvar delta : f32 = fmax - fmin;\n\n\thsl.z = (fmax + fmin) / 2.0;\n\n\tif (delta == 0.0)\n\t{\n\t\thsl.x = 0.0;\n\t\thsl.y = 0.0;\n\t}\n\telse \n\t{\n\t\tif (hsl.z < 0.5)\n\t\t{\n\t\t\thsl.y = delta / (fmax + fmin);\n\t\t}\n\t\telse\n\t\t{\n\t\t\thsl.y = delta / (2.0 - fmax - fmin);\n\t\t}\n\t\t\n\t\tvar dR : f32 = (((fmax - color.r) / 6.0) + (delta / 2.0)) / delta;\n\t\tvar dG : f32 = (((fmax - color.g) / 6.0) + (delta / 2.0)) / delta;\n\t\tvar dB : f32 = (((fmax - color.b) / 6.0) + (delta / 2.0)) / delta;\n\n\t\tif (color.r == fmax)\n\t\t{\n\t\t\thsl.x = dB - dG;\n\t\t}\n\t\telse if (color.g == fmax)\n\t\t{\n\t\t\thsl.x = (1.0 / 3.0) + dR - dB;\n\t\t}\n\t\telse if (color.b == fmax)\n\t\t{\n\t\t\thsl.x = (2.0 / 3.0) + dG - dR;\n\t\t}\n\n\t\tif (hsl.x < 0.0)\n\t\t{\n\t\t\thsl.x = hsl.x + 1.0;\n\t\t}\n\t\telse if (hsl.x > 1.0)\n\t\t{\n\t\t\thsl.x = hsl.x - 1.0;\n\t\t}\n\t}\n\n\treturn hsl;\n}\n\nfn c3_hueToRGB(f1 : f32, f2 : f32, hue_ : f32) -> f32\n{\n\tvar hue : f32 = hue_;\n\tif (hue < 0.0)\n\t{\n\t\thue = hue + 1.0;\n\t}\n\telse if (hue > 1.0)\n\t{\n\t\thue = hue - 1.0;\n\t}\n\t\t\n\tvar ret : f32;\n\t\n\tif ((6.0 * hue) < 1.0)\n\t{\n\t\tret = f1 + (f2 - f1) * 6.0 * hue;\n\t}\n\telse if ((2.0 * hue) < 1.0)\n\t{\n\t\tret = f2;\n\t}\n\telse if ((3.0 * hue) < 2.0)\n\t{\n\t\tret = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\n\t}\n\telse\n\t{\n\t\tret = f1;\n\t}\n\t\n\treturn ret;\n}\n\nfn c3_HSLtoRGB(hsl : vec3<f32>) -> vec3<f32>\n{\n\tvar rgb : vec3<f32> = vec3<f32>(hsl.z);\n\t\n\tif (hsl.y != 0.0)\n\t{\n\t\tvar f2 : f32;\n\t\t\n\t\tif (hsl.z < 0.5)\n\t\t{\n\t\t\tf2 = hsl.z * (1.0 + hsl.y);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tf2 = (hsl.z + hsl.y) - (hsl.y * hsl.z);\n\t\t}\n\t\t\t\n\t\tvar f1 : f32 = 2.0 * hsl.z - f2;\n\t\t\n\t\trgb.r = c3_hueToRGB(f1, f2, hsl.x + (1.0 / 3.0));\n\t\trgb.g = c3_hueToRGB(f1, f2, hsl.x);\n\t\trgb.b = c3_hueToRGB(f1, f2, hsl.x - (1.0 / 3.0));\n\t}\n\t\n\treturn rgb;\n}\n"};
for(let [d,c]of Object.entries(b))a=a.replaceAll(d,c.toString());return a};Qd.Tha=function(a,b){return a>b?1:a<b?-1:0};Qd.Uha=function(a,b){a=a.toLowerCase();b=b.toLowerCase();return a>b?1:a<b?-1:0};let Zd=null,$d=null;self.Intl&&self.Intl.Segmenter?Zd=new self.Intl.Segmenter:$d=new self.EZ;Qd.bT=function(a){if(Zd){const b=[];for(const d of Zd.segment(a))b.push(d.segment);return b}return $d.k7(a)};Qd.yba=function*(a){if(Zd)for(const b of Zd.segment(a))yield b.segment;else yield*$d.A6(a)};
Qd.R9=function(a){if(Zd){let b=0;for(const d of Zd.segment(a))++b;return b}return $d.N5(a)};
Qd.N$=function(a,b){b="common."+(b?"dataRates":"dataSizes")+".";const d=self.Tla;if(1024>a)return d(b+"bytes",a);if(1048576>a)return a/=1024,a=10>a?Math.round(10*a)/10:Math.round(a),d(b+"kilobytes",a);if(1073741824>a)return a/=1048576,a=10>a?Math.round(10*a)/10:Math.round(a),d(b+"megabytes",a);if(1099511627776>a)return a/=1073741824,a=10>a?Math.round(10*a)/10:Math.round(a),d(b+"gigabytes",a);a/=1099511627776;a=10>a?Math.round(10*a)/10:Math.round(a);return d(b+"terabytes",a)};
const ae={C5:!1,Q5:!0,q6:!0,J6:!0,UI:!0};
Qd.O$=function(a,b){b=Object.assign({},ae,b);Qd.E_.Lda("common.time");const d=[],c=self.lang,e=self.Sla;if(b.Q5){var g=Math.floor(a/86400);0<g&&(a-=86400*g,d.push(e(".days",null,g)))}b.q6&&(g=Math.floor(a/3600),0<g||d.length)&&(a-=3600*g,d.push(e(".hours",null,g)));b.J6&&(g=Math.floor(a/60),0<g||d.length||!b.UI)&&(a-=60*g,d.push(e(".minutes",null,g)));b.UI&&d.push(e(".seconds",null,Math.floor(a%60)));a=(b.C5?c(".approx-prefix"):"")+d.join(c(".separator"));Qd.E_.Eda();return a};
Qd.gka=function(a,b){let d=0>a?"-":"";a=Math.abs(a);a=a.toString();b-=a.length;for(let c=0;c<b;++c)d+="0";return d+a};Qd.nia=function(a){return a.toLowerCase().replace(/\b\w/g,b=>b.toUpperCase())};Qd.F9=function(a,b){a=a.split(".").map(d=>d.trim());b=b.split(".").map(d=>d.trim());Qd.CX(a);Qd.CX(b);a=a.map(d=>parseInt(d,10));b=b.map(d=>parseInt(d,10));for(let d=0;4>d;++d){const c=a[d]-b[d];if(0!==c)return 0>c?-1:1}return 0};
Qd.S9=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const b=Math.floor(16*Math.random());return("x"===a?b:b&3|8).toString(16)})};Qd.iia=function(a,b){if(a.length!==b.length)throw Error("strings must be same length");let d=0;for(let c=0,e=a.length;c<e;++c)a.charAt(c)!==b.charAt(c)&&++d;return d};
Qd.jia=function(a,b){if(0===a.length)return b.length;if(0===b.length)return a.length;let d,c,e,g;if(a.length>b.length){var k=a;a=b;b=k}g=Array(a.length+1);for(k=0;k<=a.length;k++)g[k]=k;for(k=1;k<=b.length;k++){c=k;for(d=1;d<=a.length;d++)e=b[k-1]===a[d-1]?g[d-1]:Math.min(g[d-1]+1,Math.min(c+1,g[d]+1)),g[d-1]=c,c=e;g[a.length]=c}return g[a.length]};"use strict";
const be=self.B,ce=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["code","code"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["tip1","abbr"],["tip2","abbr"],["tip3","abbr"],["tip4","abbr"],["tip5","abbr"],["tip6","abbr"],["tip7","abbr"],["tip8","abbr"],["tip9","abbr"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],
["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),de=new Set(["icon"]),ee=/\[(\/?)([a-zA-Z0-9]+)\]/g,fe=/\[(\/?)([^\[\n]*?)\]/g;let ge=null,he=null,ie=0;
function je(a,b,d){var c=ce.get(d);if(c){if("string"===typeof c){if("a"===c&&0===ge.length||"abbr"===c&&0===he.length)return a;if("a"!==c||b){if("abbr"!==c||b)return"<"+b+c+">";b=parseInt(d.substring(3),10)-1;if(0>b||b>=he.length)throw Error("invalid bbcode tip substitution");b=he[b];c="";"string"===typeof b?c=b:"function"===typeof b&&(c=b());if("string"!==typeof c)throw new TypeError("invalid bbcode tip");return`<abbr title="${be.Si(c,'"',"&quot;")}">`}b=parseInt(d.substring(1),10)-1;if(0>b||b>=
ge.length)throw Error("invalid bbcode link substitution");c=ge[b];if("string"===typeof c)return`<a href="${ge[b]}">`;if("function"===typeof c)return`<a class="bblink${b}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(c))return a=c[0],c=c[1],b?"</"+a+">":`<${a} class="${c}">`}else return"class"===d?b?"</span>":`<span class="bbclass${ie++}">`:a}const ke=/\n/g;
function Yd(a){if(a.NU)return a.Xj;if(!a.SM&&a.Xj){let b=a.Xj;a.tU&&(ie=0,ge=a.pB,he=a.mW,b=b.replace(ee,je),he=ge=null);a.sV&&(b=b.replace(ke,"<br>"));a.SM=b}return a.SM}function le(a){a=be.Si(a,"\\[","[");return be.Si(a,"\\\\","\\")}
function me(a){if(a.wU)return a.$v;const b=[],d=a.Xj,c=[];let e=fe.lastIndex=0;for(var g=null;null!==(g=fe.exec(d));){var k=g.index;if(0<k&&"\\"===d.charAt(k-1))continue;var l=g[1],n=g[2];const p=d.substring(e,k);e=k+g[0].length;p&&b.push({text:p,Ih:c.slice(0)});if(n)if(l)for(n=n.toLowerCase(),g=c.length-1;0<=g;--g){if(c[g].tag===n){c.splice(g,1);break}}else if(g=n,k=null,l=n.indexOf("="),-1!==l?(g=n.substring(0,l).toLowerCase(),k=n.substring(l+1)):g=g.toLowerCase(),de.has(g))if("icon"===g)b.push({icon:k,
Ih:c.slice(0)});else throw Error(`unknown self-closing tag ${g}`);else c.push({tag:g,Tg:k})}e<d.length&&b.push({text:d.substring(e),Ih:c.slice(0)});for(const p of b)p.text&&(p.text=le(p.text));a.$v=b.map(p=>p.icon?be.A(be.GR,{icon:p.icon,Ih:p.Ih}):be.A(be.Jn,{$o:be.bT(p.text),Ih:p.Ih}));a.wU=!0;return a.$v}
be.Fr=class{constructor(a){var b={O6:!0};this.Xj=b&&b.O6?a:be.lR(a);this.SM="";this.ST=!1;this.pB=[];this.mW=[];if(b){this.ST=!!b.Gka;if(b.links){if(9<b.links.length)throw Error("too many links");this.pB=b.links}if(b.MX){if(9<b.MX.length)throw Error("too many tips");this.mW=b.MX}}this.tU=this.Xj.includes("[");this.sV=this.ST&&this.Xj.includes("\n");this.NU=!this.tU&&!this.sV&&!this.Xj.includes("&");this.wU=!1;this.$v=[]}toString(){return this.Xj}valueOf(){return this.Xj}Wd(a){return a instanceof be.YD?
Yd(this)===Yd(a):a instanceof be.Fr?this.Xj===a.Xj:this.Xj===a}};"use strict";const qe=self.B;function re(a){return"\u00a0"===a||"\u202f"===a?!1:qe.dE(a)}function se(a,b,d){let c=0,e=0,g=0,k=0,l=0;for(const n of b)-1===n.L()&&(b=d(n),n.Uh(b.height),n.Ts=b.Tl||0,n.Im=b.Ul||0,n.Xq=b.Wl||0,n.tg()?n.ih(b.width):n.rp()&&(b=te(n,a.Km),n.O=b?n.P*b.L()/b.K():0)),c+=n.L(),e=Math.max(e,n.K()),g=Math.max(g,n.Ts),k=Math.max(k,n.Im),l=Math.max(l,n.Xq);return{width:c,height:e,Tl:g,Ul:k,Wl:l}}
function ue(a,b,d,c,e,g,k){a.El.push(qe.A(qe.yz.VR,{Xx:b,width:d,height:c,Tl:e,Ul:g,Wl:k}))}
function ve(a){const b=[];var d=[],c=!1;for(const g of a)if(a=g.$m,g.rp())0<d.length&&b.push(d),b.push([g]),d=[];else for(const k of g.Eg)if("\n"===k||"\r\n"===k)0<d.length&&b.push(d),d=qe.A(qe.Jn,{$o:["\n"],Ih:a}),b.push([d]),d=[];else if(0===d.length)c=qe.A(qe.Jn,{$o:[k],Ih:a}),d.push(c),c=re(k);else{var e=re(k);e===c?(e=d.at(-1),e.$m===a?e.Eg.push(k):(e=qe.A(qe.Jn,{$o:[k],Ih:a}),d.push(e))):(b.push(d),d=[],c=qe.A(qe.Jn,{$o:[k],Ih:a}),d.push(c),c=e)}0<d.length&&b.push(d);return b}
function we(a,b,d,c,e){var g=[],k=0,l=0;let n=0,p=0;var r=0;for(const u of b){if(b=1===u.length&&u[0].tg()&&1===u[0].Py())b=u[0].Eg[0],b="\n"===b||"\r\n"===b;if(b){0===l&&(l=qe.A(qe.Jn,{$o:[" "],Ih:u[0].$m}),r=d(l),l=r.height,n=r.Tl||0,p=r.Ul||0,r=r.Wl||0);ue(a,g,k,l,n,p,r);g=[];r=p=n=l=k=0;continue}b=xe(g);ye(b,u);const x=se(a,b,d),y=x.width;y>=c?(0<g.length&&ue(a,g,k,l,n,p,r),g=[],u[0].tg()&&qe.JR(u[0].Eg)?r=p=n=l=k=0:(ye(g,u),r=se(a,g,d),k=r.width,l=r.height,n=r.Tl,p=r.Ul,r=r.Wl)):(g=b,k=y,l=x.height,
n=x.Tl,p=x.Ul,r=x.Wl)}0<g.length&&ue(a,g,k,l,n,p,r);for(const u of a.El)if(a=u.$v,a.length&&(c=a.at(-1),c.tg())){g=c.Eg;for(k=g.slice(0);0<k.length&&re(k.at(-1));)k.pop();0===k.length?(u.lm(-c.L()),a.pop()):k.length<g.length&&(c.Eg=k,g=d(c).width,k=c.L()-g,c.ih(g),u.lm(-k));0!==e&&0<a.length&&(c=a.at(-1),c.lm(e),u.lm(e))}}function xe(a){return a.map(b=>b.XK())}
function ye(a,b){var d=a.length?a.at(-1):null;let c=0;d&&d.tg()&&b[0].tg()&&b[0].$m===d.$m&&(ze.Rl(d.Eg,b[0].Eg),d.O=-1,d.P=-1,d.Ts=-1,d.Im=-1,d.Xq=-1,c=1);for(d=b.length;c<d;++c)a.push(b[c].XK())}function Ae(a){return a.El.reduce((b,d)=>Math.max(b,d.L()),0)}function Be(a){return a.El.reduce((b,d)=>b+d.K(),0)}
qe.yz=class{constructor(){this.El=[];this.Km=null}rz(a){this.Km=a}yz(a,b,d,c,e){"string"===typeof a&&(a=[qe.A(qe.Jn,{$o:qe.bT(a)})]);qe.D(this.El);if(!(!a.length||1===a.length&&a[0].tg()&&a[0].Gn()||2>d)){if(1===a.length){const g=a[0];if(g.tg()&&100>=g.Py()&&!g.Eg.includes("\n")){let {width:k,height:l,Tl:n,Ul:p,Wl:r}=b(g);k+=e;g.ih(k);g.Uh(l);g.Ts=n||0;g.Im=p||0;g.Xq=r||0;if(k<=d){ue(this,[g],k,l,n,p,r);return}}}if("word"===c)c=ve(a);else{c=[];for(const g of a)g.tg()?qe.Rl(c,g.Eg.map(k=>[qe.A(qe.Jn,
{$o:[k],Ih:g.$m})])):c.push([g])}we(this,c,b,d,e)}}pe(){qe.D(this.El)}};"use strict";self.B.yz.VR=class{constructor(a){this.$v=a.Xx||[];this.O=a.width||-1;this.P=a.height||-1;this.Ts=a.Tl||-1;this.Im=a.Ul||-1;this.Xq=a.Wl||-1;this.Ww=this.Vw=0}Xx(){return this.$v.values()}lm(a){this.O+=a}L(){return this.O}K(){return this.P}DK(a){this.Vw=a}EK(a){this.Ww=a}};"use strict";function Ce(a,b){a=a.$m;for(let d=a.length-1;0<=d;--d){const c=a[d];if(c.tag===b)return c}return null}
function De(a){const b=new Map;for(const d of a.$m)b.set(d.tag,d.Tg);return b}self.B.uR=class{constructor(a){this.$m=a.Ih||[];this.O=a.width||-1;this.P=a.height||-1;this.Ts=a.Tl||-1;this.Im=a.Ul||-1;this.Xq=a.Wl||-1;this.Ww=this.Vw=0}tg(){return!1}rp(){return!1}lm(a){this.O+=a}ih(a){this.O=a}L(){return this.O}Uh(a){this.P=a}K(){return this.P}DK(a){this.Vw=a}EK(a){this.Ww=a}};"use strict";const ze=self.B;
ze.Jn=class extends ze.uR{constructor(a){super(a);this.Eg=a.$o}tg(){return!0}XK(){return ze.A(ze.Jn,{$o:this.Eg.slice(0),Ih:this.$m,width:this.O,height:this.P,Tl:this.Ts,Ul:this.Im,Wl:this.Xq})}Py(){return this.Eg.length}Gn(){return 0===this.Eg.length}};"use strict";const Ee=self.B;function te(a,b){if(!b)return null;let d=Number(a.RA);return String(d)===a.RA?(d=Math.floor(d),a=Math.floor(d),0>a||a>=b.Ys.length?null:b.Ys[a]):b.UM.get(a.RA.toLowerCase())||null}
Ee.GR=class extends Ee.uR{constructor(a){super(a);this.RA=a.icon}rp(){return!0}XK(){return Ee.A(Ee.GR,{icon:this.RA,Ih:this.$m,width:this.O,height:this.P,Tl:this.Ts,Ul:this.Im,Wl:this.Xq})}BJ(a){return(a=te(this,a))?a.BJ():null}Py(){return 1}};"use strict";const Fe=self.B;function He(a,b){var d=a.fw.get(b);if(d)return d;d=a.w4(b);d=Fe.A(Fe.P1,a,{source:b,r6:d});a.fw.set(b,d);return d}function Ie(a,b){const d=a.fw.get(b);d&&d.j();a.fw.delete(b)}async function Je(a,b){return await a.v4(b)}
Fe.O1=class{constructor(a){this.fw=new Map;this.w4=a.k6;this.v4=a.j6}j(){for(const a of this.fw.values())a.j();this.fw.clear()}};"use strict";const Ke=self.B;async function Le(a){if(!a.QM){a.QM=!0;a.mi=!0;var b=await Je(a.Ko,a.cC);if(a.Ko){b=b.RP;for(let d=0,c=Math.min(b.length,a.Ys.length);d<c;++d)a.Ys[d].bU=b[d].X5;a.mi=!1}}}function Me(a){a.mk||(a.mk=Le(a));return a.mk}
Ke.P1=class{constructor(a,b){this.Ko=a;this.cC=b.source;this.Ys=[];this.UM=new Map;this.mi=this.QM=!1;this.mk=null;a=b.r6.RP;for(let d=0,c=a.length;d<c;++d){b=a[d];const e=Ke.A(Ke.N1,this,{index:d,tag:b.tag,source:b.source,width:b.width,height:b.height});this.Ys.push(e);b.tag&&this.UM.set(b.tag.toLowerCase(),e)}}j(){for(const a of this.Ys)a.j();Ke.D(this.Ys);this.UM.clear();this.cC=this.Ko=null}};"use strict";
self.B.N1=class{constructor(a,b){this.cC=b.source||null;this.ta=b.index;this.QH=b.tag;this.O=b.width;this.P=b.height;this.bU=null}j(){this.P=this.O=0}L(){return this.O}K(){return this.P}BJ(){return this.bU}};"use strict";const Ne=self.B,Oe=self.Gi,Pe=Oe.yr,Qe=Oe.kD,Re=Oe.Vl,Se=Pe.create(),Te=Pe.create(),Ve=Pe.create(),We=Qe.create(),Xe=Re.create(),Ye=Pe.create(),Ze=Pe.create(),$e=Pe.create(),af=Pe.create(),bf=Pe.create(),cf=Pe.create(),df=Pe.create(),ef=Pe.create(),ff=Qe.Ce(0,0,1,1);
function gf(a,b,d,c,e,g,k){Re.multiply(Xe,e,c);if(null===Re.gy(Xe,Xe))return!1;We[0]=(a-g[0])/g[2]*2-1;We[1]=(b-g[1])/g[3]*2-1;We[2]=2*d-1;We[3]=1;Qe.lu(We,We,Xe);if(0===We[3])return!1;We[3]=1/We[3];k[0]=We[0]*We[3];k[1]=We[1]*We[3];k[2]=We[2]*We[3];return!0}
Ne.T={lE(a,b,d,c,e,g,k){const l=c[0]*a+c[4]*b+c[8]*d+c[12],n=c[1]*a+c[5]*b+c[9]*d+c[13],p=c[2]*a+c[6]*b+c[10]*d+c[14];c=c[3]*a+c[7]*b+c[11]*d+c[15];a=e[0]*l+e[4]*n+e[8]*p+e[12]*c;b=e[1]*l+e[5]*n+e[9]*p+e[13]*c;d=e[2]*l+e[6]*n+e[10]*p+e[14]*c;e=e[3]*l+e[7]*n+e[11]*p+e[15]*c;if(0===e)return!1;e=1/e;k[0]=(a*e*.5+.5)*g[2]+g[0];k[1]=(b*e*.5+.5)*g[3]+g[1];k[2]=.5*(1+d*e);return!0}};
function hf(a,b,d,c){Pe.jp(Se,d,b);Pe.jp(Te,a,b);Pe.MC(Ve,Se,Te);Pe.normalize(Ve,Ve);c.set(Ve[0],Ve[1],Ve[2],Pe.mr(a,Ve))}function jf(a,b,d,c,e,g,k){const l=k.x,n=k.y,p=k.z,r=k.w,u=k.XX,x=k.YX;k=k.ZX;const y=1-u,A=1-x,D=1-k;return l*a*u+l*c*y+n*b*x+n*e*A+p*d*k+p*g*D>=r?!0:l*c*u+l*a*y+n*e*x+n*b*A+p*g*k+p*d*D>r}class kf{constructor(){this.ZX=this.YX=this.XX=this.w=this.z=this.y=this.x=NaN}set(a,b,d,c){this.x=a;this.y=b;this.z=d;this.w=c;this.XX=0<a?1:0;this.YX=0<b?1:0;this.ZX=0<d?1:0}}
Ne.T.g2=class{constructor(){this.aV=new kf;this.nW=new kf;this.PV=new kf;this.IT=new kf;this.XN=new kf;this.iU=new kf}};"use strict";const lf=self.B,mf=self.Gi,nf=mf.yr,of=mf.kD,pf=mf.Vl,qf=pf.create(),rf=nf.Ce(0,0,0),sf=nf.Ce(0,0,0),tf=nf.Ce(0,0,0),uf=nf.Ce(0,1,0);of.Ce(0,0,0,0);new lf.ed;new lf.Rect;const vf=new lf.ed(0,0,1,0,1,1,0,1),wf={kQ:1,HP:1E4},xf=pf.Ce(1,0,0,0,0,1,0,0,0,0,.5,0,0,0,.5,1);
function yf(a){let b=0,d=a.length,c=0;for(;b<d;)a[b++]=c,a[b++]=c+1,a[b++]=c+2,a[b++]=c,a[b++]=c+2,a[b++]=c+3,c+=4}function zf(a){a.Cg=0;a.ll=0;a.Lt=null;a.gC=null;a.hC=null;a.fC=null;lf.D(a.Lp);a.kx.clear()}function Af(a){for(const b of a.Lp)b.j();zf(a)}function Bf(a,b,d,c=.5,e=.5){const g=a.zq,k=a.fq;var l=a.Us;.5===c&&.5===e?a.Sd()?pf.W6(b,l,d,g,k):pf.perspective(b,l,d,g,k):(c=1-c,l=a.vx*g,d*=l,pf.i6(b,(2*c-2)*d,2*c*d,(2*e-2)*l,2*e*l,g,k),a.Sd()&&pf.fp(b,xf,b))}
function Cf(a,b,d,c,e,g){let k=1;!a.ir&&(k=200*a.vx/g);nf.set(tf,k,-k,1);nf.multiply(rf,d,tf);nf.multiply(sf,c,tf);pf.E6(b,rf,sf,e||uf);tf[2]=1;pf.scale(b,b,tf)}function Df(a,b,d,c,e,g,k){nf.set(rf,b,d,c);nf.set(sf,e,g,0);Cf(a,qf,rf,sf,uf,k);return qf}function Ef(a){a.$k(a.Lt)}function Ff(a,b){--b.Nc;0===b.Nc&&(a.Gg===b&&(a.Gg=null),a.Nt.delete(Gf(b.UB,b.lh,b.yb,b.Ed)),b.j())}
function Hf(a,b){lf.D(a.cF);a.rV.clear();let d=0;for(const c of b){b=c[0];const e=c[1],g=c[2];a.cF.push([e,g]);a.rV.set(b,{Cma:d,Ena:e,Tka:g});d++}}function If(a,b){a.ll=b;a.Gg=null}function Of(a,b,d,c,e,g,k){var l=a.IN;b=b+l-k;d=d+l-g;c=c+l+k;e=e+l+g;l=2*k;const n=2*g;a.$r(b+g,d-k,0,c+g,e-k,0,c-g-l,e+k-n,0,b-g+l,d+k+n,0,vf)}function Pf(a,b,d,c,e,g,k){const l=a.IN;b=b+l-k;d=d+l-g;c=c+l+k;e=e+l+g;a.$r(b+g,d-k,0,c+g,e-k,0,c-g,e+k,0,b-g,d+k,0,vf)}
function Qf(a,b,d,c,e,g,k){const l=a.IN;b+=l;d+=l;c+=l;e+=l;a.$r(b+g,d-k,0,c+g,e-k,0,c-g,e+k,0,b-g,d+k,0,vf)}function Rf(a){var b=Sf,d=b.ca,c=b.aa,e=b.la;b=b.ka;const g=.5*a.cV,k=a.bV;2===k?(Of(a,d,c,e,c,0,g),Of(a,e,c,e,b,g,0),Of(a,e,b,d,b,0,-g),Of(a,d,b,d,c,-g,0)):1===k?(Pf(a,d,c,e,c,0,g),Pf(a,e,c,e,b,g,0),Pf(a,e,b,d,b,0,-g),Pf(a,d,b,d,c,-g,0)):(Qf(a,d,c,e,c,0,g),Qf(a,e,c,e,b,g,0),Qf(a,e,b,d,b,0,-g),Qf(a,d,b,d,c,-g,0))}
lf.T.AS=class{constructor(a){a=Object.assign({},wf,a);this.P=this.O=0;this.Us=lf.La(45);this.vx=Math.tan(this.Us/2);this.ut=pf.create();this.Mw=pf.create();this.ir=!1;this.zq=a.kQ;this.fq=a.HP;this.Lp=[];this.kx=new Map;this.fC=this.hC=this.gC=this.Lt=null;this.Nt=new Map;this.Gg=null;this.cF=[];this.rV=new Map;this.ll=this.Cg=0;this.bV=this.cV=1;this.IN=.5;this.Df=0;this.Qs=!0;this.aG=!1}Sr(){zf(this);this.Gg=null}L(){return this.O}K(){return this.P}Ie(a){return this.ir?a/(2*this.vx):100}uK(a){this.Us=
a;this.vx=Math.tan(this.Us/2)}VR(a,b,d,c){var e=lf.jr(a,b,d,c),g=.5*this.cV;const k=Math.sin(e)*g;e=Math.cos(e)*g;g=this.bV;2===g?Of(this,a,b,d,c,k,e):1===g?Pf(this,a,b,d,c,k,e):Qf(this,a,b,d,c,k,e)}mp(){this.ff(!0);this.Df++}yK(a){this.Qs=!!a}Ij(){return!1}Sd(){return!1}CJ(){}};"use strict";self.B.T.ZS=class{constructor(a,b){this.Ta=b.name;this.U=a;this.s4=b.Y5||0;this.t4=b.Z5||0;this.hM=!!b.P5;this.T4=!!b.M6;this.Xw=!!b.Z6;this.L3=!!b.A5;this.$z=!!b.G5;this.dP=!!b.w7;this.BC=!1}j(){this.U=null}Ba(){return this.U}oa(){return this.Ta}hz(){return this.T4}hT(){return!1}};
"use strict";const Tf=self.B;function Gf(a,b,d,c){return("string"===typeof a?a:a.oa())+","+b+","+d.eb+","+d.kb+","+d.bb+","+d.Oa+","+c}
Tf.T.J1=class{constructor(a,b,d,c,e){this.U=a;this.Nc=0;this.Zc=null;this.UB="";this.lh=d;this.yb=Tf.A(Tf.mb);this.yb.set(c);this.Ed=e;"string"===typeof b?this.UB=b:(this.Zc=b,this.UB=this.Zc.oa())}j(){if(0<this.Nc)throw Error("releasing state group still in use");this.Zc=this.U=null;this.UB=""}ge(){this.Zc=null}gE(a){this.Zc=a.kx.get(this.UB)||null;if(!this.Zc)throw Error("failed to restore shader program");}};"use strict";const Uf=self.B,Vf=Uf.A(Uf.ed);
function Wf(a,b,d){const c=d.Hb,e=d.Eb;return[c+(d.kc-c)*a+(d.sc-c)*b,e+(d.qc-e)*a+(d.tc-e)*b]}
Uf.T.O_=class{constructor(a){this.RN=a;this.Eh=this.Ch=this.Ed=this.ba=this.fa=0}fl(a,b,d,c){this.fa=a;this.ba=b;this.Ch=d;this.Eh=c}Y(){return this.fa}Nj(a){this.fa!==a&&(this.fa=a,this.RN.JB=!0)}Z(){return this.ba}Oj(a){this.ba!==a&&(this.ba=a,this.RN.JB=!0)}Sa(){return this.Ed}wf(a){this.Ed!==a&&(this.Ed=Math.max(a,0),this.RN.JB=!0)}Gc(){return{x:this.Y(),y:this.Z(),z:this.Sa(),u:this.Ch,v:this.Eh}}cc(a){this.Nj(a.x);this.Oj(a.y);a.hasOwnProperty("z")&&this.wf(a.z);this.Ch=a.u;this.Eh=a.v}};
function Xf(a){if(a.JB){var b=Infinity,d=Infinity,c=-Infinity,e=-Infinity,g=0;for(const k of a.Kq)for(const l of k){const n=l.Y(),p=l.Z();b=Math.min(b,n);d=Math.min(d,p);c=Math.max(c,n);e=Math.max(e,p);g=Math.max(g,l.Sa())}a.nV=b;a.oV=d;a.iV=c;a.jV=e;a.kV=g;a.JB=!1}}function Yf(a,b,d){b=Math.floor(b);d=Math.floor(d);return 0>b||b>=a.Jm||0>d||d>=a.hn?null:a.Kq[d][b]}
function Zf(a,b,d,c){const e=c instanceof Uf.Rect;if(b.Jm!==a.Jm||b.hn!==a.hn)throw Error("source mesh wrong size");b=b.Kq;a=a.Kq;for(let k=0,l=a.length;k<l;++k){const n=b[k],p=a[k];for(let r=0,u=p.length;r<u;++r){const x=n[r],y=p[r];if(e){var g=c;[y.fa,y.ba]=Wf(x.fa,x.ba,d);y.Ed=x.Ed;y.Ch=Uf.Pc(g.ca,g.la,x.Ch);y.Eh=Uf.Pc(g.aa,g.ka,x.Eh)}else g=c,[y.fa,y.ba]=Wf(x.fa,x.ba,d),y.Ed=x.Ed,[y.Ch,y.Eh]=Wf(x.Ch,x.Eh,g)}}}
function $f(a){const b=ag.xe,d=[],c=a.Jm-1;a=a.hn-1;const e=1/c,g=1/a,k=c-1,l=a-1;let n=b[0],p=b[1],r=Uf.X(Math.floor(n*c),0,k),u=Uf.X(Math.floor(p*a),0,l),x=0,y=0,A=0;var D=-1;const F=()=>{n=Uf.X(Uf.Pc(n,x,A),0,1);p=Uf.X(Uf.Pc(p,y,A),0,1);d.push(n,p)};for(let J=0,H=b.length;J<H;J+=2)for(n=b[J],p=b[J+1],d.push(n,p),r=Uf.X(Math.floor(n*c),0,k),u=Uf.X(Math.floor(p*a),0,l),D=(J+2)%H,x=b[D],y=b[D+1],D=-1;;){if(1E6<d.length)throw Error("Too many mesh poly points");const L=r*e,Y=u*g,da=(r+1)*e,Fa=(u+1)*
g;if(0!==D&&(A=Uf.gD(n,p,x,y,L,Y,da,Fa,-.001),0<=A&&.99999999>=A)){F();D=0;continue}if(0<u&&2!==D&&(A=Uf.gD(n,p,x,y,L,Y,da,Y,.001),0<=A&&.99999999>=A)){F();u--;D=4;continue}if(r<k&&3!==D&&(A=Uf.gD(n,p,x,y,da,Y,da,Fa,.001),0<=A&&.99999999>=A)){F();r++;D=1;continue}if(0<r&&1!==D&&(A=Uf.gD(n,p,x,y,L,Y,L,Fa,.001),0<=A&&.99999999>=A)){F();r--;D=3;continue}if(u<l&&4!==D&&(A=Uf.gD(n,p,x,y,L,Fa,da,Fa,.001),0<=A&&.99999999>=A)){F();u++;D=2;continue}break}return Uf.A(Uf.Ir,d)}
function bg(a,b,d){var c=a.Jm-1,e=a.hn-1;const g=1/c,k=1/e;c=Uf.X(Math.floor(b*c),0,c-1);const l=Uf.X(Math.floor(d*e),0,e-1);e=c*g;const n=l*k,p=(c+1)*g,r=(l+1)*k,u=Yf(a,c,l),x=Yf(a,c+1,l+1),y=Uf.w6(b,d,e,n,p,n,p,r);a=Yf(a,c+(y?1:0),l+(y?0:1));const [A,D,F]=Uf.t7(b,d,e,n,y?e+g:e,y?n:n+k,p,r);return Uf.s7(A,D,F,u.Y(),u.Z(),u.Sa(),a.Y(),a.Z(),a.Sa(),x.Y(),x.Z(),x.Sa())}
Uf.T.XR=class{constructor(a,b,d){if(2>a||2>b)throw Error("invalid mesh size");this.Jm=a;this.hn=b;this.Cb=d||null;this.Kq=[];this.oV=this.nV=0;this.jV=this.iV=1;this.kV=0;this.JB=!1;d=a-1;const c=b-1;for(let e=0;e<b;++e){const g=[];for(let k=0;k<a;++k){const l=Uf.A(Uf.T.O_,this,k,e),n=k/d,p=e/c;l.fl(n,p,n,p);g.push(l)}this.Kq.push(g)}}j(){Uf.D(this.Kq)}ng(a){const b=this.Kq;let d=b[0];for(let c=1,e=b.length;c<e;++c){const g=b[c];let k=d[0],l=g[0];for(let n=1,p=g.length;n<p;++n){const r=d[n],u=g[n];
Vf.set(k.Ch,k.Eh,r.Ch,r.Eh,u.Ch,u.Eh,l.Ch,l.Eh);a.$r(k.Y(),k.Z(),k.Sa(),r.Y(),r.Z(),r.Sa(),u.Y(),u.Z(),u.Sa(),l.Y(),l.Z(),l.Sa(),Vf);k=r;l=u}d=g}}Gc(){return{cols:this.Jm,rows:this.hn,points:this.Kq.map(a=>a.map(b=>b.Gc()))}}cc(a){const b=this.Jm,d=this.hn;if(a.cols!==b||a.rows!==d)throw Error("mesh data wrong size");a=a.points;for(let c=0;c<d;++c){const e=a[c];for(let g=0;g<b;++g)Yf(this,g,c).cc(e[g])}}};"use strict";
const cg=self.B,dg=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),eg=new Set(["nearest","bilinear","trilinear"]),fg=new Set(["default","low","high"]),gg=new Set(["clamp-to-edge","repeat","mirror-repeat"]);
function hg(a,b){let d,c;switch(a){case "rgba8":a=b.RGBA8;c=d=b.RGBA;b=b.UNSIGNED_BYTE;break;case "rgb8":a=b.RGB8;c=d=b.RGB;b=b.UNSIGNED_BYTE;break;case "rgba4":a=b.RGBA4;c=d=b.RGBA;b=b.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":a=b.RGB5_A1;c=d=b.RGBA;b=b.UNSIGNED_SHORT_5_5_5_1;break;case "rgb565":a=b.RGB565;c=d=b.RGB;b=b.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{EQ:a,ey:d,format:c,type:b}}
const ig={Xl:"clamp-to-edge",Yl:"clamp-to-edge",Zb:"trilinear",Ux:0,tQ:"rgba8",ep:!0,cD:"default",premultiplyAlpha:!0,qX:!1,width:-1,height:-1},jg={premultiplyAlpha:!0,flipY:!1},kg=new Set;function lg(a){return"clamp-to-edge"!==a.tj||"clamp-to-edge"!==a.uj}
function mg(a,b){var d=cg.Lk(a.O)&&cg.Lk(a.P);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,ng(b,a.tj));b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,ng(b,a.uj));"nearest"===a.Ob?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST),a.ni=!1):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR),(d||a.U.Ap())&&a.ni?(b.hint(b.GENERATE_MIPMAP_HINT,og(a,b)),b.generateMipmap(b.TEXTURE_2D),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,
"trilinear"!==a.Ob||a.U.aG?b.LINEAR_MIPMAP_NEAREST:b.LINEAR_MIPMAP_LINEAR)):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR),a.ni=!1));(d=a.U.Qz)&&0<a.Cs&&"nearest"!==a.Ob&&b.texParameterf(b.TEXTURE_2D,d.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.Cs,a.U.ON))}function og(a,b){if("default"===a.vt)return a.Ue?b.NICEST:b.FASTEST;if("low"===a.vt)return b.FASTEST;if("high"===a.vt)return b.NICEST;throw Error("invalid mipmap quality");}
function ng(a,b){if("clamp-to-edge"===b)return a.CLAMP_TO_EDGE;if("repeat"===b)return a.REPEAT;if("mirror-repeat"===b)return a.MIRRORED_REPEAT;throw Error("invalid wrap mode");}function pg(a){if(0>=a.Nc)throw Error("no more references");a.Nc--}
cg.T.FE=class{constructor(a){this.U=a;this.Ua=null;this.P=this.O=0;this.Ue=!0;this.uj=this.tj="clamp-to-edge";this.Ob="trilinear";this.Cs=0;this.Fq="rgba8";this.ni=!1;this.vt="default";this.Nc=0}YK(a,b,d){d=Object.assign({},ig,d);if(this.Ua)throw Error("already created texture");this.tj=d.Xl;this.uj=d.Yl;this.Ob=d.Zb;this.Fq=d.tQ;this.ni=!!d.ep&&this.U.Qs;this.vt=d.cD;if(!gg.has(this.tj)||!gg.has(this.uj))throw Error("invalid wrap mode");if(!eg.has(this.Ob))throw Error("invalid sampling");if(!dg.has(this.Fq))throw Error("invalid pixel format");
if(!fg.has(this.vt))throw Error("invalid mipmap quality");this.Ue=!1;this.O=Math.floor(a);this.P=Math.floor(b);a=cg.Lk(this.O)&&cg.Lk(this.P);b=this.U.Nw;if(0>=this.O||0>=this.P)throw Error("invalid texture size");if(this.O>b||this.P>b)throw Error("texture exceeds maximum texture size");if(!this.U.Ap()&&lg(this)&&!a)throw Error("non-power-of-two tiled textures not supported");a=this.U.na;b=this.U.ad;this.Ua=a.createTexture();a.bindTexture(a.TEXTURE_2D,this.Ua);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
d.premultiplyAlpha);a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1);d=hg(this.Fq,a);a.texImage2D(a.TEXTURE_2D,0,2<=b?d.EQ:d.ey,this.O,this.P,0,d.format,d.type,null);mg(this,a);a.bindTexture(a.TEXTURE_2D,null);this.U.Cl=null;this.Nc=1;kg.add(this)}QE(a){if(!("undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&a instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&a instanceof
ImageBitmap||"undefined"!==typeof OffscreenCanvas&&a instanceof OffscreenCanvas||a instanceof ImageData))throw Error("invalid texture source");if(!this.Ua||0>=this.Nc)throw Error("texture not created");if(this.Ue)throw Error("cannot update static texture");var b=Object.assign({},jg,b);const d=a.width||a.videoWidth,c=a.height||a.videoHeight;var e=this.U.ad;const g=this.U.na;g.bindTexture(g.TEXTURE_2D,this.Ua);g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b.premultiplyAlpha);g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,
!!b.flipY);b=hg(this.Fq,g);e=2<=e?b.EQ:b.ey;try{if(this.O===d&&this.P===c){const k=cg.Lk(this.O)&&cg.Lk(this.P);g.texSubImage2D(g.TEXTURE_2D,0,0,0,b.format,b.type,a);(k||this.U.Ap())&&this.ni&&(g.hint(g.GENERATE_MIPMAP_HINT,og(this,g)),g.generateMipmap(g.TEXTURE_2D))}else{this.O=d;this.P=c;const k=cg.Lk(this.O)&&cg.Lk(this.P);if(!this.U.Ap()&&lg(this)&&!k)throw Error("non-power-of-two tiled textures not supported");g.texImage2D(g.TEXTURE_2D,0,e,b.format,b.type,a);(k||this.U.Ap())&&this.ni&&(g.hint(g.GENERATE_MIPMAP_HINT,
og(this,g)),g.generateMipmap(g.TEXTURE_2D))}}catch(k){console.error("Error updating WebGL texture: ",k)}g.bindTexture(g.TEXTURE_2D,null);this.U.Cl=null}ss(){if(0<this.Nc)throw Error("texture still has references");if(!this.Ua)throw Error("already deleted texture");kg.delete(this);this.U.na.deleteTexture(this.Ua);this.Ua=null}Ba(){return this.U}L(){return this.O}K(){return this.P}My(){let a=this.O*this.P;switch(this.Fq){case "rgba8":a*=4;break;case "rgb8":a*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":a*=
2}this.ni&&(a+=Math.floor(a/3));return a}static ge(){kg.clear()}static qP(){return kg.values()}};"use strict";const qg=self.Gi.Vl,rg=new Set(["nearest","bilinear","trilinear"]),sg={Zb:"trilinear",alpha:!0,depth:!1,Mk:!0,WC:!0,iy:0},tg=new Set;function ug(a){a.U.Us===a.KG&&a.U.zq===a.NG&&a.U.fq===a.JG||a.qs();return a.uk}
self.B.T.kT=class{constructor(a){this.U=a;this.Xm=this.Ua=this.Ws=this.aj=null;this.P=this.O=0;this.no=!0;this.Ob="trilinear";this.qv=!0;this.Wc=!1;this.cj=!0;this.Xe=0;this.uk=qg.create();this.JG=this.NG=this.KG=0}Az(a,b,d){d=Object.assign({},sg,d);const c=this.U.ad;if(this.Ua||this.Xm)throw Error("already created render target");this.Ob=d.Zb;this.qv=!!d.alpha;this.Wc=!!d.depth;this.cj=!!d.Mk;this.no=!!d.WC;this.Xe=d.iy;if(!rg.has(this.Ob))throw Error("invalid sampling");if(0<this.Xe&&(2>c||this.cj))throw Error("invalid use of multisampling");
2>c&&(this.cj=!0);this.O=a;this.P=b;if(0>=this.O||0>=this.P)throw Error("invalid render target size");this.qs();a=this.U.na;this.aj=a.createFramebuffer();this.Wc&&(this.Ws=a.createFramebuffer());this.cj?(this.Ua=this.U.lp(this.O,this.P,{Zb:this.Ob,tQ:this.qv?"rgba8":"rgb8",ep:!1}),b=this.Ua.Ua,a.bindFramebuffer(a.FRAMEBUFFER,this.aj),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,b,0),this.Wc&&(a.bindFramebuffer(a.FRAMEBUFFER,this.Ws),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,
a.TEXTURE_2D,b,0))):(this.Xm=a.createRenderbuffer(),a.bindRenderbuffer(a.RENDERBUFFER,this.Xm),b=this.qv?a.RGBA8:a.RGB8,0<this.Xe&&((d=a.getInternalformatParameter(a.RENDERBUFFER,b,a.SAMPLES))&&d[0]?(d=d[0],this.Xe>d&&(this.Xe=d)):this.Xe=0),0===this.Xe?a.renderbufferStorage(a.RENDERBUFFER,b,this.O,this.P):a.renderbufferStorageMultisample(a.RENDERBUFFER,this.Xe,b,this.O,this.P),a.bindFramebuffer(a.FRAMEBUFFER,this.aj),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,this.Xm),
this.Wc&&(a.bindFramebuffer(a.FRAMEBUFFER,this.Ws),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,this.Xm)),a.bindRenderbuffer(a.RENDERBUFFER,null));b=this.U.Pe;this.Wc&&b&&(a.bindFramebuffer(a.FRAMEBUFFER,this.aj),this.U.Bm?a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,b,0):a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,b));a.bindFramebuffer(a.FRAMEBUFFER,null);tg.add(this)}Hz(a,b){if(this.O!==a||this.P!==
b)this.O=a,this.P=b,this.qs(),a=this.U.na,a.bindFramebuffer(a.FRAMEBUFFER,this.aj),this.Ua?this.Ua.QE(new ImageData(this.O,this.P)):(a.bindRenderbuffer(a.RENDERBUFFER,this.Xm),a.renderbufferStorage(a.RENDERBUFFER,this.qv?a.RGBA8:a.RGB8,this.O,this.P),a.bindRenderbuffer(a.RENDERBUFFER,null)),b=this.U.Pe,this.Wc&&b&&(this.U.Bm?a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,b,0):a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,b)),a.bindFramebuffer(a.FRAMEBUFFER,
null)}ss(){if(!this.Ua&&!this.Xm)throw Error("already deleted render target");tg.delete(this);var a=this.U.na;this.Ua?(a.bindFramebuffer(a.FRAMEBUFFER,this.aj),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),this.Wc&&(a.bindFramebuffer(a.FRAMEBUFFER,this.Ws),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0)),this.U.Wg(this.Ua),this.Ua=null):this.Xm&&(a.bindFramebuffer(a.FRAMEBUFFER,this.aj),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,
a.RENDERBUFFER,null),this.Wc&&(a.bindFramebuffer(a.FRAMEBUFFER,this.Ws),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,null)),a.deleteRenderbuffer(this.Xm),this.Xm=null);a.bindFramebuffer(a.FRAMEBUFFER,null);2<=this.U.ad&&(a.bindFramebuffer(a.READ_FRAMEBUFFER,null),a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null));a.deleteFramebuffer(this.aj);this.Wc&&a.deleteFramebuffer(this.Ws);a=this.U.kd;a.bp=null;this.aj=a.Sl=null}qs(){Bf(this.U,this.uk,this.O/this.P);this.KG=this.U.Us;
this.NG=this.U.zq;this.JG=this.U.fq}Ba(){return this.U}Jb(){return this.Ua}Vr(){return"nearest"!==this.Ob}Nu(){return this.cj}L(){return this.O}K(){return this.P}KR(a){a=Object.assign({},sg,a);return"nearest"!==a.Zb!==this.Vr()||!!a.alpha!==this.qv||!!a.depth!==this.Wc||2<=this.U.ad&&!!a.Mk!==this.Nu()?!1:"number"===typeof a.width||"number"===typeof a.height?!this.no&&this.L()===a.width&&this.K()===a.height:this.no}My(){return this.Ua?this.Ua.My():this.O*this.P*(this.qv?4:3)}static ge(){tg.clear()}};
"use strict";const vg=self.B;
async function wg(a,b){const d=a.na,c=b.tu;var e=b.name;const g=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(g,b.src);d.compileShader(g);b=d.createShader(d.VERTEX_SHADER);d.shaderSource(b,c);d.compileShader(b);const k=d.createProgram();d.attachShader(k,g);d.attachShader(k,b);d.bindAttribLocation(k,0,"aPos");d.bindAttribLocation(k,1,"aTex");d.bindAttribLocation(k,2,"aPoints");d.linkProgram(k);const l=a.iO;l?await xg(()=>d.getProgramParameter(k,l.COMPLETION_STATUS_KHR)):await vg.RK(5);if(!d.getShaderParameter(g,
d.COMPILE_STATUS))throw e=d.getShaderInfoLog(g),d.deleteShader(g),d.deleteShader(b),d.deleteProgram(k),Error("Error compiling fragment shader: "+e);if(!d.getShaderParameter(b,d.COMPILE_STATUS))throw e=d.getShaderInfoLog(b),d.deleteShader(g),d.deleteShader(b),d.deleteProgram(k),Error("Error compiling vertex shader: "+e);if(!d.getProgramParameter(k,d.LINK_STATUS))throw e=d.getProgramInfoLog(k),d.deleteShader(g),d.deleteShader(b),d.deleteProgram(k),Error("Error linking shader program: "+e);(a=vg.iZ(d.getProgramInfoLog(k)||
"").trim())&&!vg.y_(a)&&console.info(`[WebGL] Shader program '${e}' compilation log: `,a);d.deleteShader(g);d.deleteShader(b);return k}function yg(a,b){if(!a.vG)throw Error("not device transform shader");zg(a.YO,b);b=a.U;const d=b.L()/2,c=b.K()/2;b=Df(b,d,c,b.Ie(b.K()),d,c,b.K());zg(a.XO,b)}function Ag(a,b,d){a.NM&&!d||a.vG||(a.YO.ma&&zg(a.YO,b),a.NM=!0)}function Bg(a,b,d){a.MM&&!d||a.vG||(a.XO.ma&&zg(a.XO,b),a.MM=!0)}
function Cg(a){a=a?"highp":"mediump";return["#version 300 es\nin highp vec3 aPos;",`in ${a} vec2 aTex;`,`out ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}
vg.T.GE=class extends vg.T.ZS{static async Ea(a,b){const d=await wg(a,b);return new vg.T.GE(a,d,b)}constructor(a,b,d){super(a,d);const c=a.na;var e=a.kd;a.ff();c.useProgram(b);this.na=c;this.Zc=b;this.vG="<default-device-transform>"===d.name;const g=c.getAttribLocation(b,"aPos"),k=c.getAttribLocation(b,"aTex");this.LN=c.getAttribLocation(b,"aPoints");-1!==g&&(c.bindBuffer(c.ARRAY_BUFFER,a.Uo),c.vertexAttribPointer(g,3,c.FLOAT,!1,0,0),c.enableVertexAttribArray(g));-1!==k&&(c.bindBuffer(c.ARRAY_BUFFER,
a.Io),c.vertexAttribPointer(k,2,c.FLOAT,!1,0,0),c.enableVertexAttribArray(k));-1!==this.LN&&(c.bindBuffer(c.ARRAY_BUFFER,a.Bo),c.vertexAttribPointer(this.LN,4,c.FLOAT,!1,0,0),c.enableVertexAttribArray(this.LN));c.bindBuffer(c.ARRAY_BUFFER,null);this.YO=new vg.T.Hc(this,"matP","mat4");this.XO=new vg.T.Hc(this,"matMV","mat4");this.St=new vg.T.Hc(this,"color","vec4");this.r5=new vg.T.Hc(this,"samplerFront","sampler");this.$O=new vg.T.Hc(this,"pointTexStart","vec2");this.ZO=new vg.T.Hc(this,"pointTexEnd",
"vec2");this.aP=new vg.T.Hc(this,"zElevation","float");this.wC=new vg.T.Hc(this,"tileSize","vec2");this.xC=new vg.T.Hc(this,"tileSpacing","vec2");this.WO=new vg.T.Hc(this,"color2_","vec4");this.vC=new vg.T.Hc(this,"outlineThickness","float");this.Jx=new vg.T.Hc(this,"samplerBack","sampler");this.q5=new vg.T.Hc(this,"samplerDepth","sampler");this.$q=new vg.T.Hc(this,"destStart","vec2");this.Zq=new vg.T.Hc(this,"destEnd","vec2");this.Ol=new vg.T.Hc(this,"srcStart","vec2");this.Po=new vg.T.Hc(this,"srcEnd",
"vec2");this.Ro=new vg.T.Hc(this,"srcOriginStart","vec2");this.Qo=new vg.T.Hc(this,"srcOriginEnd","vec2");this.Dh=new vg.T.Hc(this,"pixelSize","vec2");this.hr=new vg.T.Hc(this,"seconds","float");this.br=new vg.T.Hc(this,"devicePixelRatio","float");this.dr=new vg.T.Hc(this,"layerScale","float");this.cr=new vg.T.Hc(this,"layerAngle","float");this.gr=new vg.T.Hc(this,"layoutStart","vec2");this.er=new vg.T.Hc(this,"layoutEnd","vec2");this.t5=new vg.T.Hc(this,"zNear","float");this.s5=new vg.T.Hc(this,
"zFar","float");this.x4=!!(this.Dh.ma||this.hr.ma||this.Jx.ma||this.$q.ma||this.Zq.ma||this.Ol.ma||this.Po.ma||this.Ro.ma||this.Qo.ma||this.br.ma||this.dr.ma||this.cr.ma||this.gr.ma||this.er.ma);b=d.parameters||[];this.Tt=[];this.BC=this.Dh.ma||this.Ol.ma||this.Po.ma||this.Ro.ma||this.Qo.ma;this.MM=this.NM=!1;Fg(this.St);Fg(this.WO);Gg(this.r5,0);Gg(this.Jx,1);Gg(this.q5,2);Hg(this.$O,0,0);Hg(this.ZO,1,1);Ig(this.aP,0);Hg(this.wC,0,0);Hg(this.xC,0,0);Hg(this.$q,0,0);Hg(this.Zq,1,1);Hg(this.Ol,0,0);
Hg(this.Po,0,0);Hg(this.Ro,0,0);Hg(this.Qo,0,0);Hg(this.Dh,0,0);Ig(this.br,1);Ig(this.t5,a.zq);Ig(this.s5,a.fq);Ig(this.dr,1);Ig(this.cr,0);Ig(this.hr,0);Hg(this.gr,0,0);Hg(this.er,0,0);Ig(this.vC,1);for(const l of b)a=l[2],b=new vg.T.Hc(this,l[0],a),"color"===a?b.ma&&(b.ic[0]=0,b.ic[1]=0,b.ic[2]=0,b.ag.set(b.ic),b.na.uniform3f(b.nk,0,0,0)):Ig(b,0),this.Tt.push(b);this.vG?yg(this,e.NC):(Ag(this,e.NC,!0),Bg(this,e.wI,!0));e=e.Ei;c.useProgram(e?e.Zc:null)}j(){this.na.deleteProgram(this.Zc);this.Zc=
null;var a=this.U;const b=a.Lp.indexOf(this);-1!==b&&a.Lp.splice(b,1);a.kx.delete(this.oa());this.na=null;super.j()}gf(){return this.Zc}AR(){return this.Tt.length}Qy(a){return 0>a||a>=this.Tt.length?null:this.Tt[a].dd()}static Du(a){a=a?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",`attribute ${a} vec2 aTex;`,`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}static WD(a,
b,d){let c="";2<=a?c="#version 300 es\n":(b&&(c="#extension GL_EXT_frag_depth : enable\n"),d&&(c+="#extension GL_EXT_shader_texture_lod : enable\n#extension GL_OES_standard_derivatives : enable\n"));return c+`
#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
${2<=a?"in":"varying"} vec2 vTex;
${2<=a?"out lowp vec4 outColor;":""}
uniform lowp vec4 color;
uniform lowp sampler2D samplerFront;
uniform vec2 pixelSize;

uniform vec2 tileSize;
uniform vec2 tileSpacing;
uniform float outlineThickness;

const float PI = 3.1415926;

lowp vec4 cospVec4(lowp vec4 a, lowp vec4 b, float x)
{
	return (a + b + (a - b) * cos(x * PI)) / 2.0;
}

vec3 randVec3(vec2 seed)
{
	return vec3(fract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(12.9898,78.233))) * 43758.5453),
				fract(sin(dot(seed.yx + vec2(0.1, 0.1), vec2(12.9898,-78.233))) * 43758.5453),
				fract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(-12.9898,-78.233))) * 43758.5453));
}

lowp vec4 sampleTile(vec2 tile, vec2 uv, vec2 ddx, vec2 ddy)
{
	vec2 posRandom = tileSize;
	float angleRandom = outlineThickness;
	
	vec3 rand = (randVec3(floor(tile + 0.5)) - 0.5) * 2.0;
	
	float angle = angleRandom * rand.z * PI;
	float sin_a = sin(angle);
	float cos_a = cos(angle);
	float aspect = pixelSize.x / pixelSize.y;

	vec2 mid = tile + vec2(0.5, 0.5);
	vec2 dp = uv - mid;
	dp.x /= aspect;
	vec2 r = vec2(dp.x * cos_a - dp.y * sin_a,
				  dp.y * cos_a + dp.x * sin_a);
	r.x *= aspect;

	vec2 p = mid + r + (posRandom * rand.xy / 2.0);
	
	${2<=a?"return textureGrad(samplerFront, p, ddx, ddy);":""}
	${2>a&&d?"return texture2DGradEXT(samplerFront, p, ddx, ddy);":""}
	${2>a&&!d?"return texture2D(samplerFront, p);":""}
}

void main(void) {
	
	${2>a?"lowp vec4 outColor;":""}
	
	float blendMarginX = tileSpacing.x;
	float blendMarginY = tileSpacing.y;
	
	vec2 tile = floor(vTex);
	vec2 tex = fract(vTex);
	vec2 ddx = ${2<=a||d?"dFdx(vTex)":"vec2(0.0, 0.0)"};
	vec2 ddy = ${2<=a||d?"dFdy(vTex)":"vec2(0.0, 0.0)"};
	
	vec4 curTile = sampleTile(tile, vTex, ddx, ddy);
	
	bool inLeftMargin = (tex.x < blendMarginX);
	bool inRightMargin = (tex.x > 1.0 - blendMarginX);
	bool inTopMargin = (tex.y < blendMarginY);
	bool inBottomMargin = (tex.y > 1.0 - blendMarginY);
	
	if (inLeftMargin)
	{
		lowp vec4 leftTile = sampleTile(tile + vec2(-1.0, 0.0), vTex, ddx, ddy);
		float leftMix = (tex.x / (blendMarginX * 2.0)) + 0.5;
		lowp vec4 leftMixedTile = cospVec4(leftTile, curTile, leftMix);
		
		if (inTopMargin)
		{
			lowp vec4 topTile =     sampleTile(tile + vec2(0.0,  -1.0), vTex, ddx, ddy);
			lowp vec4 topLeftTile = sampleTile(tile + vec2(-1.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topLeftMixedTile = cospVec4(topLeftTile, topTile, leftMix);
			
			outColor = cospVec4(topLeftMixedTile, leftMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			lowp vec4 bottomTile =     sampleTile(tile + vec2(0.0,  1.0), vTex, ddx, ddy);
			lowp vec4 bottomLeftTile = sampleTile(tile + vec2(-1.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomLeftMixedTile = cospVec4(bottomLeftTile, bottomTile, leftMix);
			
			outColor = cospVec4(leftMixedTile, bottomLeftMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			outColor = leftMixedTile;
		}
	}
	else if (inRightMargin)
	{
		lowp vec4 rightTile = sampleTile(tile + vec2(1.0, 0.0), vTex, ddx, ddy);
		float rightMix = (tex.x - (1.0 - blendMarginX)) / (blendMarginX * 2.0);
		lowp vec4 rightMixedTile = cospVec4(curTile, rightTile, rightMix);
		
		if (inTopMargin)
		{
			lowp vec4 topTile =      sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topRightTile = sampleTile(tile + vec2(1.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topRightMixedTile = cospVec4(topTile, topRightTile, rightMix);
			
			outColor = cospVec4(topRightMixedTile, rightMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			lowp vec4 bottomTile =      sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomRightTile = sampleTile(tile + vec2(1.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomRightMixedTile = cospVec4(bottomTile, bottomRightTile, rightMix);
			
			outColor = cospVec4(rightMixedTile, bottomRightMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			outColor = rightMixedTile;
		}
	}
	else if (inTopMargin)
	{
		lowp vec4 topTile = sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);
		outColor = cospVec4(topTile, curTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
	}
	else if (inBottomMargin)
	{
		lowp vec4 bottomTile = sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);
		outColor = cospVec4(curTile, bottomTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
	}
	else
	{
		outColor = curTile;
	}
	
	outColor *= color;
	${2>a?"gl_FragColor = outColor;":""}
	${2<=a?"gl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}
	${2>a&&b?"gl_FragDepthEXT = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}
}
`}};"use strict";const Jg=self.B,Kg=self.Gi.Vl,Lg=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);function Fg(a){a.ma&&(a.ic[0]=1,a.ic[1]=1,a.ic[2]=1,a.ic[3]=1,a.ag.set(a.ic),a.na.uniform4f(a.nk,1,1,1,1))}function Gg(a,b){a.ma&&(a.ic[0]=b,a.ag.set(a.ic),a.na.uniform1i(a.nk,b))}function Hg(a,b,d){a.ma&&(a.ic[0]=b,a.ic[1]=d,a.ag.set(a.ic),a.na.uniform2f(a.nk,b,d))}function Ig(a,b){a.ma&&(a.ic[0]=b,a.ag.set(a.ic),a.na.uniform1f(a.nk,b))}
function Mg(a,b,d){a=a.ag;return a[0]===Math.fround(b)&&a[1]===Math.fround(d)}function Ng(a,b,d){a=a.ag;a[0]=b;a[1]=d}function zg(a,b){const d=a.ic;Kg.yj(d,b)||(Jg.u7(d,b),a.na.uniformMatrix4fv(a.nk,!1,b))}function Og(a,b,d,c,e){b=Math.fround(b);d=Math.fround(d);c=Math.fround(c);e=Math.fround(e);const g=a.ic;if(g[0]!==b||g[1]!==d||g[2]!==c||g[3]!==e)g[0]=b,g[1]=d,g[2]=c,g[3]=e,a.na.uniform4f(a.nk,b,d,c,e)}function Pg(a,b){b=Math.fround(b);const d=a.ic;d[0]!==b&&(d[0]=b,a.na.uniform1f(a.nk,b))}
function Qg(a,b,d){b=Math.fround(b);d=Math.fround(d);const c=a.ic;if(c[0]!==b||c[1]!==d)c[0]=b,c[1]=d,a.na.uniform2f(a.nk,b,d)}Jg.T.Hc=class{constructor(a,b,d){if(!Lg.has(d))throw Error("invalid uniform type");this.Cb=a;this.na=this.Cb.na;this.Ta=b;this.Fa=d;this.lN="color"===this.Fa;this.nk=this.na.getUniformLocation(this.Cb.gf(),b);this.ma=!!this.nk;a=Lg.get(d);this.ic=new Float32Array(a);this.ag=new Float32Array(a)}j(){this.nk=this.na=this.Cb=null}dd(){return this.Fa}};"use strict";
const Rg=self.B,Sg=self.Gi,Tg=Sg.kD,Ug=Sg.Vl;Rg.T.uY=class{constructor(a){this.Hh=a;this.wI=Ug.create();this.NC=Ug.create();this.Sl=this.bp=null;this.mX=!1;this.vI=Tg.Ce(1,1,1,1);this.Ei=null;this.uQ=new Rg.Rect;this.clearColor=Rg.A(Rg.mb,0,0,0,0)}};
Rg.T.v2=class{constructor(a){const b=new ArrayBuffer(96);this.Fa=0;this.kd=a;this.na=a.Hh.na;this.ko=this.Ye=0;this.Ng=null;this.We=new Float32Array(b,0,16);this.Zn=new Float32Array(b,64,4);this.dW=new Float32Array(b,80,4);this.EH=[]}Da(){switch(this.Fa){case 1:var a=this.na;a.drawElements(a.TRIANGLES,this.ko,a.UNSIGNED_SHORT,this.Ye);break;case 2:a=this.na;var b=this.Ng;a.bindTexture(a.TEXTURE_2D,b?b.Ua:null);break;case 3:a=this.Zn;b=this.kd;Tg.Ca(b.vI,a);b=b.Ei;b.St.ma&&Og(b.St,a[0],a[1],a[2],a[3]);
break;case 4:this.na.blendFunc(this.Ye,this.ko);break;case 5:a=this.Zn;this.na.viewport(a[0],a[1],a[2],a[3]);break;case 6:a=this.kd;b=a.Hh.Lp;var d=a.Ei,c=this.We;for(let p=0,r=b.length;p<r;++p){var e=b[p];e===d?Ag(e,c,!0):e.NM=!1}Ug.Ca(a.NC,c);break;case 7:a=this.kd;b=a.Hh.Lp;d=a.Ei;c=this.We;for(let p=0,r=b.length;p<r;++p)e=b[p],e===d?Bg(e,c,!0):e.MM=!1;Ug.Ca(a.wI,c);break;case 8:a=this.na;b=this.Ng;d=this.kd;b?(d.bp=b.aj,d.Sl=b.Ws,d.mX&&d.Sl?a.bindFramebuffer(a.FRAMEBUFFER,d.Sl):a.bindFramebuffer(a.FRAMEBUFFER,
d.bp)):(d.bp=null,d.Sl=null,a.bindFramebuffer(a.FRAMEBUFFER,null));break;case 9:a=this.na;var g=this.We;b=this.kd.clearColor;d=g[0];c=g[1];e=g[2];g=g[3];Yb(b,d,c,e,g)||(a.clearColor(d,c,e,g),Sb(b,d,c,e,g));a.clear(a.COLOR_BUFFER_BIT);break;case 10:a=this.na;b=this.kd;d=b.Hh.gC;a.useProgram(d.Zc);Ag(d,b.NC,!1);Bg(d,b.wI,!1);c=b.uQ;d.$O.ma&&Qg(d.$O,c.ca,c.aa);d.ZO.ma&&Qg(d.ZO,c.la,c.ka);c=this.We[0];d.aP.ma&&Pg(d.aP,c);d.St.ma&&(c=b.vI,Og(d.St,c[0],c[1],c[2],c[3]));a.drawArrays(a.POINTS,this.Ye/4,this.ko);
a.useProgram(b.Ei.Zc);break;case 11:b=this.na;d=this.kd;a=this.Ng;d.Ei=a;b.useProgram(a.Zc);Ag(a,d.NC,!1);Bg(a,d.wI,!1);a.St.ma&&(b=d.vI,Og(a.St,b[0],b[1],b[2],b[3]));break;case 12:a=this.kd.Ei;b=this.na;d=this.We;c=this.Zn;e=this.dW;if(a.Jx.ma){g=this.kd.Hh;var k=this.Ng;g.tq!==k&&(b.activeTexture(b.TEXTURE1),b.bindTexture(b.TEXTURE_2D,k?k.Ua:null),g.tq=k,b.activeTexture(b.TEXTURE0))}a.Dh.ma&&Qg(a.Dh,d[0],d[1]);a.$q.ma&&Qg(a.$q,d[2],d[3]);a.Zq.ma&&Qg(a.Zq,d[4],d[5]);a.br.ma&&Pg(a.br,this.ko);a.dr.ma&&
Pg(a.dr,d[6]);a.cr.ma&&Pg(a.cr,d[7]);a.Ol.ma&&Qg(a.Ol,d[12],d[13]);a.Po.ma&&Qg(a.Po,d[14],d[15]);a.Ro.ma&&Qg(a.Ro,e[0],e[1]);a.Qo.ma&&Qg(a.Qo,e[2],e[3]);a.gr.ma&&Qg(a.gr,c[0],c[1]);a.er.ma&&Qg(a.er,c[2],c[3]);a.hr.ma&&Pg(a.hr,this.Ye);break;case 13:d=this.kd.Ei.Tt;c=this.EH;for(let p=0,r=d.length;p<r;++p)if(e=d[p],g=c[p],e.lN){if(a=g.eb,b=g.kb,g=g.bb,a=Math.fround(a),b=Math.fround(b),g=Math.fround(g),k=e.ic,k[0]!==a||k[1]!==b||k[2]!==g)k[0]=a,k[1]=b,k[2]=g,e.na.uniform3f(e.nk,a,b,g)}else Pg(e,g);
break;case 14:a=this.na;b=this.Ng;d=this.kd.bp;b!==d&&a.bindFramebuffer(a.FRAMEBUFFER,b);a.invalidateFramebuffer(a.FRAMEBUFFER,[a.COLOR_ATTACHMENT0]);b!==d&&a.bindFramebuffer(a.FRAMEBUFFER,d);break;case 15:a=this.We;this.kd.uQ.set(a[0],a[1],a[2],a[3]);break;case 16:a=this.kd.Ei;b=this.We;a.Ol.ma&&Qg(a.Ol,b[0],b[1]);a.Dh.ma&&Qg(a.Dh,b[4],b[5]);a.wC.ma&&Qg(a.wC,b[6],b[7]);a.xC.ma&&Qg(a.xC,b[8],b[9]);break;case 17:var l=this.We;c=this.EH;a=this.na;e=l[0];b=l[1];g=l[2];d=l[3];k=0!==l[4];l=0!==l[5];const n=
c[1];a.bindFramebuffer(a.READ_FRAMEBUFFER,c[0]);a.bindFramebuffer(a.DRAW_FRAMEBUFFER,n);l?a.blitFramebuffer(0,0,e,b,0,0,g,d,a.COLOR_BUFFER_BIT,k?a.LINEAR:a.NEAREST):(c=Math.min(e,g),e=Math.min(b,d),g=Math.max(b-d,0),b=Math.max(d-b,0),a.blitFramebuffer(0,g,c,e+g,0,b,c,e+b,a.COLOR_BUFFER_BIT,a.NEAREST));break;case 18:this.Ng.nJ();this.Ng=null;break;case 19:this.Ng.DD();this.Ng=null;break;case 20:a=this.kd.Ei;b=this.We;a.Dh.ma&&Qg(a.Dh,b[0],b[1]);a.vC.ma&&Pg(a.vC,b[2]);break;case 21:a=this.Zn;b=this.kd.Ei;
b.WO.ma&&Og(b.WO,a[0],a[1],a[2],a[3]);break;case 22:a=this.na;(b=0!==this.Ye)||a.depthMask(!0);a.clear(a.DEPTH_BUFFER_BIT);b||a.depthMask(!1);break;case 23:a=this.na;0===this.Ye?(a.disable(a.DEPTH_TEST),a.depthMask(!1)):(a.enable(a.DEPTH_TEST),a.depthMask(!0));break;case 24:a=this.na;b=this.kd;d=b.Hh;c=0!==this.Ye;b.mX=c;a.activeTexture(a.TEXTURE2);c?(b.Sl&&a.bindFramebuffer(a.FRAMEBUFFER,b.Sl),a.bindTexture(a.TEXTURE_2D,d.Pe)):(a.bindTexture(a.TEXTURE_2D,null),b.Sl&&a.bindFramebuffer(a.FRAMEBUFFER,
b.bp));a.activeTexture(a.TEXTURE0);break;case 25:a=this.na;a.clear(a.STENCIL_BUFFER_BIT);a.enable(a.STENCIL_TEST);a.stencilFunc(a.ALWAYS,1,1);a.stencilOp(a.KEEP,a.KEEP,a.REPLACE);a.colorMask(!1,!1,!1,!1);break;case 26:a=this.na;a.colorMask(!0,!0,!0,!0);a.stencilFunc(a.EQUAL,1,1);a.stencilOp(a.KEEP,a.KEEP,a.KEEP);break;case 27:a=this.na;a.disable(a.STENCIL_TEST);break;case 28:a=this.na;b=this.We;1===this.Ye?(a.enable(a.SCISSOR_TEST),a.scissor(b[0],b[1],b[2],b[3])):a.disable(a.SCISSOR_TEST);break;case 29:a=
this.kd.Ei,b=this.We,a.Dh.ma&&Qg(a.Dh,b[0],b[1]),a.wC.ma&&Qg(a.wC,b[2],b[3]),a.vC.ma&&Pg(a.vC,b[4]),a.xC.ma&&Qg(a.xC,b[5],b[6])}}};"use strict";const Vg=self.B,Wg=new Set("serif sans-serif monospace cursive fantasy system-ui ui-serif ui-sans-serif ui-monospace ui-rounded math emoji fangsong".split(" ")),Xg={timeout:60},Yg=new Vg.mb(0,0,0,1),Zg=new Set(["left","center","right"]),$g=new Set(["top","center","bottom"]),ah=new Set(["word","character"]),bh=new Set;
Vg.kZ&&Vg.kZ.addEventListener("fontload",a=>{a=a.font.oa();for(const b of bh)(b.ji||Vg.xj(b.NF,a))&&ch(b)});function dh(a,b,d,c,e,g){b?"Gecko"===Vg.W.Jh?a.strokeText(d,c,e,g):a.strokeText(d,c,e):"Gecko"===Vg.W.Jh?a.fillText(d,c,e,g):a.fillText(d,c,e)}function eh(a,b){a=a.trim();const d=parseFloat(a);return isFinite(d)?a.endsWith("%")?b*d/100:d:0}let fh=!1,gh=!1;function ch(a){a.jl=!0;a.Fk.pe();a.RH=!0}
function hh(a,b){const d=b.tg()?b.Eg.join(""):" ";var c=ih(a,!0,b);a.XU!==c&&(a.XU=c,a.wo.font=c,a.vB.font=c);b=Ce(b,"size");b=(b?parseFloat(b.Tg):a.OF)*a.PF;c=a.wo.measureText(d);let e=0;a.ji&&jh(a)&&(e=c.fontBoundingBoxAscent-a.vB.measureText(d).fontBoundingBoxAscent);return{width:c.width,height:4/3*b,Tl:c.fontBoundingBoxAscent||0,Ul:c.fontBoundingBoxDescent||0,Wl:e}}
function kh(a,b,d){a.Jo||(a.Jo=Vg.Lh(16,16));let c=!1;if(a.WU!==b||a.VU!==d)a.WU=b,a.VU=d,a.Jo.width=b,a.Jo.height=d,c=!0;a.$e||(a.$e=a.Jo.getContext("2d"),c=!0);c?(a.$e.textBaseline=a.ji?"alphabetic":"top",a.$e.font=a.CN,a.$e.fillStyle=a.PG,a.$e.strokeStyle=a.PG,a.$e.globalAlpha=a.DN,a.$e.lineWidth=a.mB):a.$e.clearRect(0,0,b,d)}function lh(a,b){b||(b="serif");a.NF!==b&&(a.NF=b,ch(a))}function mh(a,b){b=!!b;a.ki!==b&&(a.ki=b,ch(a))}function nh(a,b){b=!!b;a.li!==b&&(a.li=b,ch(a))}
function oh(a,b){b=Math.floor(b);a.Os!==b&&(a.Os=b,a.jl=!0)}function ph(a){return a.SV*a.Qx*self.devicePixelRatio}function ih(a,b,d){let c=[];(a.ki||Ce(d,"b"))&&c.push("bold");(a.li||Ce(d,"i"))&&c.push("italic");var e=Ce(d,"size");e=(e?parseFloat(e.Tg):a.OF)*a.PF;b?c.push(e+"pt"):c.push(e*ph(a)+"pt");b=a.NF;(d=Ce(d,"font"))&&d.Tg&&(b=d.Tg,a.pQ&&!a.GL.has(b)&&(a.pQ(b),a.GL.add(b)));b&&(Wg.has(b)?c.push(b):c.push('"'+b+'"'));return c.join(" ")}
function qh(a,b){if(!Zg.has(b))throw Error("invalid horizontal alignment");a.bj!==b&&(a.bj=b,a.jl=!0)}function rh(a,b){if(!$g.has(b))throw Error("invalid vertical alignment");a.Bi!==b&&(a.Bi=b,a.jl=!0)}function sh(a){a.RH&&(th(a),!a.ji||a.Yz&&a.Yz.toString()===a.$c||(a.Yz=new Vg.Fr(a.$c)),a.Fk.yz(a.ji?me(a.Yz):a.$c,a.lV,a.Iv,a.mP,0),a.RH=!1)}
function uh(a){a.Ua&&!a.jl&&!a.RH||a.Px||0>=a.O||0>=a.P||(a.jl=!1,a.Px||(kh(a,Math.max(Vg.eu(Math.ceil(a.O)),128),Math.max(Vg.eu(Math.ceil(a.P)),64)),sh(a),vh(a),a.U.Fn()||(a.Ua||(a.Ua=a.U.lp(a.Jo.width,a.Jo.height,{ep:!0,cD:"high"})),a.U.vz(a.Jo,a.Ua),a.jj.set(0,0,a.O/a.Ua.L(),a.P/a.Ua.K()),a.LI&&a.LI()),a.QO.fd()))}function*wh(a,b){uh(a);a=a.Fk.El;for(const d of a)for(const c of d.Xx())(a=Ce(c,"tag"))&&Vg.xj(a.Tg,b)&&(yield c)}
function vh(a){a.$e.imageSmoothingEnabled=a.TM;a.Rv=0;const b=ph(a),d=(4+a.qt)*b;var c=0;const e=a.Fk.El;if(0!==e.length){var g=a.ji&&jh(a),k=e[0].K()*b;"center"===a.Bi?(c=e.reduce((l,n)=>l+n.K()*b+d,0)-d,c=Math.max(a.P/2-c/2,0),g&&(k=e[0].Xq*b)):"bottom"===a.Bi&&(c=e.reduce((l,n)=>l+n.K()*b+d,0)-a.qt*b,g=g?e.at(-1).Im*b:0,c=a.P-c-g-2);for(let l=0,n=e.length;l<n;++l){g=e[l];const p=g.K()*b,r=c;if(a.ji){if(c+=0===l?k:p,0<l&&c>a.P-4*b)break}else if(0<l&&c>=a.P-p)break;0<=r&&xh(a,g,c,b);a.ji||(c+=p);
c+=d}}}function th(a){a.wo||(a.wo=Vg.Lh(16,16).getContext("2d"),a.vB=Vg.Lh(16,16).getContext("2d"),a.wo.textBaseline=a.ji?"alphabetic":"top",a.vB.textBaseline="top")}function jh(a){fh||(fh=!0,th(a),a=a.wo.measureText("test"),gh="number"===typeof a.fontBoundingBoxAscent&&"number"===typeof a.fontBoundingBoxDescent);return gh}function yh(a,b){a.PG!==b&&(a.PG=b,a.$e.fillStyle=b,a.$e.strokeStyle=b)}
function xh(a,b,d,c){let e=0;"center"===a.bj?e=(a.O-b.L()*c)/2:"right"===a.bj&&(e=a.O-b.L()*c);b.DK(e);b.EK(d);for(const L of b.Xx()){a:{var g=a,k=e,l=d,n=c,p=b.K(),r=Ce(L,"offsetx");k+=r?eh(r.Tg,L.K())*n:0;r=Ce(L,"offsety");l+=r?eh(r.Tg,L.K())*n:0;L.rp()&&(r=Ce(L,"iconoffsety"),l+=r?eh(r.Tg,L.K())*n:.2*L.K()*n);L.DK(k);L.EK(l);r=g.$e;var u=p/16;p=L.L()*n;const Y=L.K()*n,da=L.K()/16;var x=(4+g.qt)*n,y=L.tg()?L.Eg:null;if(-1!==g.Os){if(g.Rv>=g.Os)break a;L.tg()&&g.Rv+y.length>g.Os&&(y=y.slice(0,g.Os-
g.Rv),p=hh(g,L).width*n);g.Rv+=L.Py()}var A=Ce(L,"background"),D=!!Ce(L,"u");const Fa=!!Ce(L,"s");if((!L.tg()||!Vg.JR(y)||A||D||Fa)&&!Ce(L,"hide")){A&&(yh(g,A.Tg),r.fillRect(k,l-Y,p,Y+x));var F=Ce(L,"color");yh(g,F?F.Tg:g.mF);A=Ce(L,"opacity");x=g;A=A?parseFloat(A.Tg)/100:1;x.DN!==A&&(x.DN=A,x.$e.globalAlpha=A);x=(x=Ce(L,"linethickness"))?parseFloat(x.Tg):1;if(A=!!Ce(L,"stroke")){var J=g,H=.5*da*x*ph(g);J.mB!==H&&(J.mB=H,J.$e.lineWidth=H)}if(L.tg()){if(y=y.join(""),J=g,H=ih(g,!1,L),J.CN!==H&&(J.CN=
H,J.$e.font=H),dh(r,A,y,k,l,p),!A&&(J=g,H=.5*da*x*ph(g),J.mB!==H&&(J.mB=H,J.$e.lineWidth=H),J=Ce(L,"outline")))yh(g,J.Tg),dh(r,!0,y,k,l,p)}else L.rp()&&0<L.L()&&(y=L.BJ(g.Km))&&r.drawImage(y,k,l-Y,p,Y);yh(g,F?F.Tg:g.mF);D&&(g=r,D=k,F=l+n*u,y=p,u=n*u*x,A?g.strokeRect(D,F,y,u):g.fillRect(D,F,y,u));Fa&&(n*=da,r.fillRect(k,l-Y/4+n/2-n*x/2,p,n*x))}}e+=L.L()*c}}
Vg.T.rE=class{constructor(a,b){b=Object.assign({},Xg,b);this.U=a;this.NF="Arial";this.OF=16;this.PF=1;this.qt=0;this.li=this.ki=!1;this.mF="black";this.ji=!1;this.Km=null;this.TM=!0;this.pQ=null;this.GL=new Set;this.bj="left";this.Bi="top";this.$c="";this.Yz=null;this.Fk=Vg.A(Vg.yz);this.mP="word";this.RH=!1;this.Os=-1;this.P=this.O=this.iM=this.Iv=this.Rv=0;this.Qx=1;this.jl=!1;this.vB=this.wo=this.$e=this.Jo=null;this.VU=this.WU=-1;this.PG=this.XU=this.CN="";this.mB=this.DN=1;this.lV=d=>hh(this,
d);this.Ua=null;this.jj=new Vg.Rect;this.SV=1;this.QO=new Vg.e_(()=>{this.Jj();kh(this,8,8)},b.timeout);this.LI=null;this.Px=!1;bh.add(this)}j(){this.pQ=null;this.GL.clear();this.lV=this.vB=this.wo=this.$e=this.Jo=this.Yz=this.Km=null;this.QO.j();this.LI=null;this.Jj();this.Fk.pe();this.U=this.Fk=null;this.Px=!0;bh.delete(this)}rz(a){this.Km!==a&&(this.Km=a,this.Fk.rz(a),this.Km&&this.Km.mi&&Me(this.Km).then(()=>{this.jl=!0}),ch(this))}tK(a){.1>a&&(a=.1);this.OF!==a&&(this.OF=a,ch(this))}SS(a){this.qt!==
a&&(this.qt=a,this.jl=!0)}rm(a){a instanceof Vg.mb&&(a=`rgb(${100*(Rb.Rc()?NaN:a.eb)}%, ${100*(Rb.Rc()?NaN:a.kb)}%, ${100*(Rb.Rc()?NaN:a.bb)}%)`);this.mF!==a&&(this.mF=a,this.jl=!0)}Yu(a){this.$c!==a&&(this.$c=a,ch(this))}vd(a,b,d){"undefined"===typeof d&&(d=1);if(!(0>=a||0>=a||this.Iv===a&&this.iM===b&&this.Qx===d)){var c=this.Iv;this.Iv=a;this.iM=b;this.Qx=d;a=self.devicePixelRatio;this.O=this.Iv*this.Qx*a;this.P=this.iM*this.Qx*a;a=Math.max(this.O,this.P);b=Math.min(this.U.Nw,4096);d=1;a>b&&(d=
b/a,this.O=Math.min(this.O*d,b),this.P=Math.min(this.P*d,b));this.SV=d;this.Iv!==c?ch(this):this.jl=!0}}L(){return this.O}K(){return this.P}Jb(){this.QO.fd();uh(this);return this.Ua}Vk(){return this.jj}Jj(){this.Ua&&(this.U.Fn()||this.U.Wg(this.Ua),this.Ua=null)}static ge(){for(const a of bh)a.Jj()}};"use strict";const zh=self.B;function Ah(a){a.vk&&(1===a.ad?a.bf.deleteQueryEXT(a.vk):a.na.deleteQuery(a.vk),a.vk=null)}
class Bh{constructor(a){this.na=a.na;this.ad=a.ad;this.bf=a.bf;this.vk=null;this.NA=this.Rb=!1;this.Eo=0;this.vk=1===this.ad?this.bf.createQueryEXT():this.na.createQuery()}j(){Ah(this);this.bf=this.na=null;this.NA=!1}nJ(){if(this.Rb)throw Error("query already active");1===this.ad?this.bf.beginQueryEXT(this.bf.TIME_ELAPSED_EXT,this.vk):this.na.beginQuery(this.bf.TIME_ELAPSED_EXT,this.vk);this.Rb=!0}DD(){if(!this.Rb)throw Error("query not active");1===this.ad?this.bf.endQueryEXT(this.bf.TIME_ELAPSED_EXT):
this.na.endQuery(this.bf.TIME_ELAPSED_EXT);this.Rb=!1}rJ(){if(this.vk&&!this.NA&&!this.Rb){var a=1===this.ad?this.bf.getQueryObjectEXT(this.vk,this.bf.QUERY_RESULT_AVAILABLE_EXT):this.na.getQueryParameter(this.vk,this.na.QUERY_RESULT_AVAILABLE);var b=this.na.getParameter(this.bf.GPU_DISJOINT_EXT);a&&!b&&(this.Eo=1===this.ad?this.bf.getQueryObjectEXT(this.vk,this.bf.QUERY_RESULT_EXT):this.na.getQueryParameter(this.vk,this.na.QUERY_RESULT),this.Eo/=1E9,this.NA=!0);(a||b)&&Ah(this)}}Zy(){return this.NA}Ry(){if(!this.NA)throw Error("no result available");
return this.Eo}}function Ch(a){a.Mq=zh.A(Bh,a.U);a.Et.push(a.Mq);a.Mq.nJ()}
zh.T.z2=class{constructor(a){this.U=a;this.Df=a.Df;this.Rb=!1;this.Cq=null;this.oq=!1;this.Mq=null;this.Et=[]}j(){for(const a of this.Et)a instanceof Bh&&a.j();zh.D(this.Et);this.U=this.Mq=this.Cq=null}nJ(){if(this.Rb)throw Error("query already active");const a=this.U.jW;if(0<a.length){this.oq=!0;var b=this.Cq=a.at(-1);b.Mq.DD();b.Mq=null;this.Cq.Et.push(this)}else this.oq=!1,this.Cq=null;this.Rb=!0;a.push(this);Ch(this)}DD(){if(!this.Rb)throw Error("query not active");if(this.U.jW.pop()!==this)throw Error("can only end most nested query");
this.Rb=!1;this.Mq.DD();this.Mq=null;this.Cq&&(Ch(this.Cq),this.Cq=null)}rJ(){for(const a of this.Et)a.rJ()}Zy(){return this.Et.every(a=>a.Zy())}Ry(){return this.Et.reduce((a,b)=>a+b.Ry(),0)}};"use strict";const Dh=self.B;function Eh(a){const b=new Dh.T.z2(a.U);a.Ne.push(b);a.Ne.length>a.S4&&a.Ne.shift().j();return b}function Fh(a,b,d){if(d<=b)return NaN;let c=0;for(const e of a.Ne){if(e.Df>=d)break;if(!(e.Df<b))if(e.Zy())c+=e.Ry();else return NaN}return c}
function Gh(a,b){for(let d=0,c=a.Ne.length;d<c;++d){const e=a.Ne[d];if(e.Df<b)e.j();else{0<d&&a.Ne.splice(0,d);break}}}Dh.T.jT=class{constructor(a,b=1E3){this.U=a;this.S4=b;this.Ne=[];this.U.TE.add(this)}j(){this.pe();this.U.TE.delete(this);this.U=null}pe(){for(const a of this.Ne)a.j();Dh.D(this.Ne)}};"use strict";
const Hh=self.B,Ih=self.Gi,Jh=Ih.kD,Kh=Ih.Vl,Lh={powerPreference:"default",ZW:!0,alpha:!1,cQ:!1,depth:!1,KC:!1,dQ:2,failIfMajorPerformanceCaveat:!1},Mh=new Set(["default","low-power","high-performance"]),Nh=new Hh.ed(0,0,1,0,1,1,0,1),Oh=Kh.create(),Ph=Kh.create(),Qh=new Hh.ed,Rh=new Hh.Rect;let Sh=null;Hh.VC&&(self.Oka=function(){Sh?Sh.loseContext():console.warn("WEBGL_lose_context not supported")},self.Pka=function(){Sh?Sh.restoreContext():console.warn("WEBGL_lose_context not supported")});
const Th=new Set;let Uh=-1;function Vh(){Uh=-1;for(const a of Th)a.Xt()&&(a.resolve(),Th.delete(a));0<Th.size&&(Uh=self.requestAnimationFrame(Vh))}function xg(a){const b=new Promise(d=>Th.add({resolve:d,Xt:a}));-1===Uh&&(Uh=self.requestAnimationFrame(Vh));return b}function Wh(a,b,d){const c=a.EC;if(0!==c[0]||0!==c[1]||c[2]!==b||c[3]!==d){var e=Xh(a);e.Fa=5;e=e.Zn;e[0]=0;e[1]=0;e[2]=b;e[3]=d;Jh.set(c,0,0,b,d);a.pc=0}}
function Xh(a){const b=a.Xz;a.Op===b.length&&b.push(new Hh.T.v2(a.kd));return b[a.Op++]}function Yh(a){a.wg(1,1,1,1)}function Zh(a,b,d){if(b!==a.BN||d!==a.zN){var c=Xh(a);c.Fa=4;c.Ye=b;c.ko=d;a.BN=b;a.zN=d;a.pc=0;a.Gg=null}}function $h(a){let b=a.Ai;b>=a.YU&&(a.ff(),b=0);if(1===a.pc)a.Xz[a.Op-1].ko+=6;else{var d=Xh(a);d.Fa=1;d.Ye=b;d.ko=6;a.pc=1}}function ai(a,b){rc(b,a.yi,a.Ai,a.Cg+a.ll);a.Ai+=12}function bi(a,b){if(a.Qj()){var d=Xh(a);d.Fa=18;d.Ng=b;a.pc=0}}
function ci(a,b){if(a.Qj()){var d=Xh(a);d.Fa=19;d.Ng=b;a.pc=0}}
Hh.T.w2=class extends Hh.T.AS{constructor(a,b){super(b);b=Object.assign({},Lh,b);if(!Mh.has(b.powerPreference))throw Error("invalid power preference");const d={alpha:!!b.alpha,depth:!1,antialias:!1,powerPreference:b.powerPreference,failIfMajorPerformanceCaveat:!!b.failIfMajorPerformanceCaveat};b.cQ&&(d.desynchronized=!0,d.preserveDrawingBuffer=!0);let c=null,e=0;2<=b.dQ&&(c=a.getContext("webgl2",d),e=2);c||(c=a.getContext("webgl",d),e=1);if(!c)throw Error("renderer-unavailable (could not get WebGL context)");
this.na=c;this.ET=c.getContextAttributes();b.cQ&&!this.ET.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");c.getParameter(c.VERSION);this.ad=e;this.EC=Jh.create();this.Zp=!1;this.$E=Kh.create();this.gn=!!b.depth;this.Bm=!(!b.depth||!b.KC);this.ZA=this.gn;this.mN=!1;this.Pe=null;this.kN=!0;this.oA=this.qA=0;this.Bo=this.kq=this.Io=this.Uo=null;this.yi=new Float32Array(24E3);this.hw=new Uint16Array(12E3);this.Og=new Float32Array(16E3);this.Uw=new Float32Array(32E3);
this.YU=this.Hq=this.Ze=this.Ai=0;this.Kt=this.to=null;this.Xz=[];this.pc=this.Op=0;this.xb=null;this.kd=Hh.A(Hh.T.uY,this);this.lB=Hh.A(Hh.mb,1,1,1,1);this.tq=this.Cl=null;this.zN=this.BN=0;this.N4=new Hh.Rect;this.OG=Hh.A(Hh.Rect,0,0,-1,-1);this.oF=0;this.Nw=-1;this.QN=0;this.Kx="(unavailable)";this.pN=!1;this.PO=this.MO=this.CM=this.sA=this.Qz=this.iO=null;this.ON=0;this.J4=!!b.ZW;this.bf=null;this.TE=new Set;this.jW=[];yf(this.hw)}Ij(){return!0}async Sr(){super.Sr();var a=this.na;Sb(this.lB,1,
1,1,1);this.tq=this.Cl=null;this.Hq=this.Ai=0;this.YU=23988;Hh.D(this.Xz);this.pc=this.Op=0;this.xb=this.to=null;this.N4.set(0,0,1,1);var b=this.kd;b.Ei=null;b.bp=null;b.Sl=null;Jh.set(b.vI,1,1,1,1);Sb(b.clearColor,0,0,0,0);b.uQ.set(0,0,1,1);a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);this.BN=a.ONE;this.zN=a.ONE_MINUS_SRC_ALPHA;this.eL(a);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.gn?(a.enable(a.DEPTH_TEST),
a.depthMask(!0),a.depthFunc(a.LEQUAL)):(a.disable(a.DEPTH_TEST),a.depthMask(!1));this.ZA=this.gn;this.mN=!1;this.Bo=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Bo);a.bufferData(a.ARRAY_BUFFER,this.Uw.byteLength,a.DYNAMIC_DRAW);this.Uo=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Uo);a.bufferData(a.ARRAY_BUFFER,this.yi.byteLength,a.DYNAMIC_DRAW);this.Io=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Io);a.bufferData(a.ARRAY_BUFFER,this.Og.byteLength,a.DYNAMIC_DRAW);this.kq=a.createBuffer();
a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.kq);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.hw,a.STATIC_DRAW);a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Nw=a.getParameter(a.MAX_TEXTURE_SIZE);this.QN=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.QN&&(this.QN=2048);if(b=a.getExtension("WEBGL_debug_renderer_info"))a.getParameter(b.UNMASKED_VENDOR_WEBGL),this.Kx=a.getParameter(b.UNMASKED_RENDERER_WEBGL);this.iO=a.getExtension("KHR_parallel_shader_compile");Hh.VC&&(Sh=a.getExtension("WEBGL_lose_context"));
if(this.J4)if(1===this.ad){if("Chromium"!==Hh.W.Jh||81<=Hh.W.wy||"undefined"!==typeof document)this.bf=a.getExtension("EXT_disjoint_timer_query")}else this.bf=a.getExtension("EXT_disjoint_timer_query_webgl2")||a.getExtension("EXT_disjoint_timer_query");this.ON=(this.Qz=a.getExtension("EXT_texture_filter_anisotropic"))?a.getParameter(this.Qz.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;if(2>this.ad&&this.gn&&this.Bm&&(this.sA=a.getExtension("WEBGL_depth_texture"),!this.sA))throw Error("no depth texture support");
2>this.ad&&(this.CM=a.getExtension("EXT_frag_depth"),this.MO=a.getExtension("OES_standard_derivatives"),this.PO=a.getExtension("EXT_shader_texture_lod"));a=Hh.T.GE;b=a.Du(!1);let d="varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",c=b,e="uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);\n\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);\n\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;\n}",
g="attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}",k="#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
l=a.Du(!0),n=!1;this.gn&&("Safari"!==Hh.W.Fe||15.5<=Hh.W.wy)&&(2>this.ad?this.CM&&(d="#extension GL_EXT_frag_depth : enable\nvarying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",e="#extension GL_EXT_frag_depth : enable\nuniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);\n\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);\n\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;\n\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",
k="#extension GL_EXT_frag_depth : enable\n#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",
n=!0):(c=Cg(),d="#version 300 es\nin mediump vec2 vTex;\nout lowp vec4 outColor;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\toutColor = texture(samplerFront, vTex) * color;\n\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",e="#version 300 es\nuniform lowp sampler2D samplerFront;\nin lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nout lowp vec4 outColor;\nvoid main(void) {\n\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);\n\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);\n\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));\n\toutColor = texture(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;\n\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",
g="#version 300 es\nin vec4 aPoints;\nout float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}",k="#version 300 es\nin highp vec2 vTex;\nout lowp vec4 outColor;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highp vec2 srcStart;\nuniform highp vec2 pixelSize;\nuniform highp vec2 tileSize;\nuniform highp vec2 tileSpacing;\nvoid main(void) {\n\thighp vec2 tile = floor(vTex);\n\thighp vec2 tex = fract(vTex);\n\thighp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\toutColor = texture(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",
l=Cg(!0)));a=await Promise.all([[d,c,"<default>"],[d,c,"<default-device-transform>"],[e,g,"<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",b,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
b,"<lineargradient>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nprecision lowp float;\nvarying highmedp vec2 vTex;\nuniform vec4 color;\nvoid main(void) {\n\thighmedp float grad = vTex.x / (1.0 - vTex.y);\n\tgl_FragColor = color * (1.0 - (cos(grad * 3.141592653589793) + 1.0) / 2.0);\n}",b,"<penumbra>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",
b,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
b,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
b,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
b,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",b,"<smoothline>"],[k,l,"<tilemap>"],[a.WD(this.ad,n,this.MO&&this.PO),2<=this.ad?Cg():b,"<tilerandomization>"]].map(p=>this.zD({src:p[0],tu:p[1],name:p[2]})));this.Lt=a[0];this.Kt=a[1];this.gC=a[2];this.fC=a[3];this.hC=a[12];Ef(this)}async zD(a){a=await Hh.T.GE.Ea(this,a);this.Lp.push(a);this.kx.set(a.oa(),a);return a}vd(a,
b,d){if(this.O!==a||this.P!==b||d){this.ff();d=this.na;var c=this.kd;this.O=a;this.P=b;Wh(this,a,b);Bf(this,this.$E,a/b);this.tm(this.$E);this.Kt&&(d.useProgram(this.Kt.gf()),yg(this.Kt,this.ut),this.to=this.Kt,this.kd.Ei=this.Kt);d.bindTexture(d.TEXTURE_2D,null);d.activeTexture(d.TEXTURE1);d.bindTexture(d.TEXTURE_2D,null);d.activeTexture(d.TEXTURE0);this.tq=this.Cl=null;this.gn&&this.kN&&this.ws(this.O,this.P);this.xb&&this.xb.Hz(this.O,this.P);d.bindFramebuffer(d.FRAMEBUFFER,null);this.xb=null;
c.bp=null;c.Sl=null}}ws(a,b){const d=this.na;this.Pe&&this.qA===a&&this.oA===b||(this.Bm?(this.Pe&&d.deleteTexture(this.Pe),this.Pe=d.createTexture(),d.bindTexture(d.TEXTURE_2D,this.Pe),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),2<=this.ad?d.texImage2D(d.TEXTURE_2D,0,d.DEPTH24_STENCIL8,a,b,0,d.DEPTH_STENCIL,
d.UNSIGNED_INT_24_8,null):this.sA&&d.texImage2D(d.TEXTURE_2D,0,d.DEPTH_STENCIL,a,b,0,d.DEPTH_STENCIL,this.sA.UNSIGNED_INT_24_8_WEBGL,null),d.bindTexture(d.TEXTURE_2D,null)):(this.Pe&&d.deleteRenderbuffer(this.Pe),this.Pe=d.createRenderbuffer(),d.bindRenderbuffer(d.RENDERBUFFER,this.Pe),d.renderbufferStorage(d.RENDERBUFFER,2<=this.ad?d.DEPTH24_STENCIL8:d.DEPTH_STENCIL,a,b),d.bindRenderbuffer(d.RENDERBUFFER,null)),this.qA=a,this.oA=b)}QS(a,b){this.gn&&(this.kN=!1,this.ws(a,b))}NS(){this.gn&&(this.kN=
!0,this.ws(this.O,this.P))}uK(a){super.uK(a);Bf(this,this.$E,this.O/this.P)}tm(a){if(!Kh.yj(this.ut,a)){var b=Xh(this);b.Fa=6;Ug.Ca(b.We,a);Kh.Ca(this.ut,a);this.pc=0;this.Zp=!0}}tE(){let a,b;var d=this.xb;null===d?(a=this.$E,b=this.L(),d=this.K()):(a=ug(d),b=d.L(),d=d.K());this.tm(a);Wh(this,b,d)}ls(a){if(!Kh.yj(this.Mw,a)){var b=Xh(this);b.Fa=7;Ug.Ca(b.We,a);Kh.Ca(this.Mw,a);this.pc=0;this.Zp=!0}}JS(){this.Zp=!1}BD(){return this.Zp}ff(){if(0!==this.Op&&!this.Fn()){this.sL();const a=this.Xz;for(let b=
0,d=this.Op;b<d;++b)a[b].Da();this.pc=this.Hq=this.Ze=this.Ai=this.Op=0}}sL(){const a=this.na;0<this.Hq&&(a.bindBuffer(a.ARRAY_BUFFER,this.Bo),a.bufferSubData(a.ARRAY_BUFFER,0,this.Uw.subarray(0,this.Hq)));0<this.Ai&&(a.bindBuffer(a.ARRAY_BUFFER,this.Uo),a.bufferSubData(a.ARRAY_BUFFER,0,this.yi.subarray(0,this.Ai)),a.bindBuffer(a.ARRAY_BUFFER,this.Io),a.bufferSubData(a.ARRAY_BUFFER,0,this.Og.subarray(0,this.Ze)))}bd(){return this.lB.Oa}wg(a,b,d,c){const e=this.lB;Yb(e,a,b,d,c)||(Sb(e,a,b,d,c),a=Xh(this),
a.Fa=3,e.Fd(a.Zn,0),this.pc=0,this.Gg=null)}Vh(a){const b=this.lB;b.Oa!==a&&(Wb(b,a),a=Xh(this),a.Fa=3,b.Fd(a.Zn,0),this.pc=0,this.Gg=null)}rm(a){const b=this.lB;b.Wd(a)||(b.set(a),a=Xh(this),a.Fa=3,b.Fd(a.Zn,0),this.pc=0,this.Gg=null)}Ud(a){if(a!==this.Cl){var b=Xh(this);b.Fa=2;this.Cl=b.Ng=a;this.pc=0}}te(a){a=this.cF[a];Zh(this,a[0],a[1])}nz(){Zh(this,this.na.ONE,this.na.ONE_MINUS_SRC_ALPHA)}ks(){Zh(this,this.na.ONE,this.na.ZERO)}Rect(a){this.pE(a.ca,a.aa,a.la,a.ka)}pE(a,b,d,c){this.hK(a,b,d,b,
d,c,a,c)}ed(a){$h(this);ai(this,a);Nh.Fd(this.Og,this.Ze);this.Ze+=8}hK(a,b,d,c,e,g,k,l){$h(this);const n=this.yi;let p=this.Ai;const r=this.Cg+this.ll;n[p++]=a;n[p++]=b;n[p++]=r;n[p++]=d;n[p++]=c;n[p++]=r;n[p++]=e;n[p++]=g;n[p++]=r;n[p++]=k;n[p++]=l;n[p++]=r;this.Ai=p;Nh.Fd(this.Og,this.Ze);this.Ze+=8}Yk(a,b){$h(this);ai(this,a);ic(b,this.Og,this.Ze);this.Ze+=8}nE(a,b){$h(this);ai(this,a);b.Fd(this.Og,this.Ze);this.Ze+=8}xS(a,b,d,c,e,g,k,l,n,p,r,u,x){$h(this);const y=this.yi;let A=this.Ai;const D=
this.Cg+this.ll;y[A++]=a;y[A++]=b;y[A++]=D+d;y[A++]=c;y[A++]=e;y[A++]=D+g;y[A++]=k;y[A++]=l;y[A++]=D+n;y[A++]=p;y[A++]=r;y[A++]=D+u;this.Ai=A;ic(x,this.Og,this.Ze);this.Ze+=8}$r(a,b,d,c,e,g,k,l,n,p,r,u,x){$h(this);const y=this.yi;let A=this.Ai;const D=this.Cg+this.ll;y[A++]=a;y[A++]=b;y[A++]=D+d;y[A++]=c;y[A++]=e;y[A++]=D+g;y[A++]=k;y[A++]=l;y[A++]=D+n;y[A++]=p;y[A++]=r;y[A++]=D+u;this.Ai=A;x.Fd(this.Og,this.Ze);this.Ze+=8}Ey(a,b){If(this,0);Kh.Ca(Oh,this.ut);Kh.Ca(Ph,this.Mw);this.tE();const [d,
c]=this.Hu(this.xb);var e=Df(this,0,0,this.Ie(c),0,0,c);this.ls(e);if("crop"===a&&this.xb&&b){a=this.O/2;e=this.P/2;const l=b.L();b=b.K();var g=this.xb.L(),k=this.xb.K();g=Math.min(g,l);const n=Math.min(k,b),p=Math.max(b-k,0);k=Math.max(k-b,0);Rh.set(-a,e-k,-a+g,e-n-k);Qh.ef(Rh);Rh.set(0,p,g,n+p);Rh.Ik(l,b);this.Yk(Qh,Rh)}else a=d/2,e=c/2,this.pE(-a,e,a,-e);this.tm(Oh);this.ls(Ph)}$k(a){if(this.to!==a){var b=Xh(this);b.Fa=11;this.to=b.Ng=a;this.pc=0;this.Gg=null}}YS(a,b,d,c,e,g,k){if(this.to!==this.hC)throw Error("must set tile randomization mode first");
var l=Xh(this);l.Fa=29;l=l.We;l[0]=1/a;l[1]=1/b;l[2]=d;l[3]=c;l[4]=e;l[5]=g;l[6]=k;this.pc=0}AE(a,b,d,c,e,g,k,l,n,p,r){const u=this.to;r%=10800;if(u.x4&&(u.Jx.ma||u.Dh.ma&&!Mg(u.Dh,g,k)||u.$q.ma&&!Mg(u.$q,b.ca,b.aa)||u.Zq.ma&&!Mg(u.Zq,b.la,b.ka)||u.br.ma&&u.br.ag[0]!==Math.fround(l)||u.dr.ma&&u.dr.ag[0]!==Math.fround(n)||u.cr.ma&&u.cr.ag[0]!==Math.fround(p)||u.Ol.ma&&!Mg(u.Ol,d.ca,d.aa)||u.Po.ma&&!Mg(u.Po,d.la,d.ka)||u.Ro.ma&&!Mg(u.Ro,c.ca,c.aa)||u.Qo.ma&&!Mg(u.Qo,c.la,c.ka)||u.gr.ma&&!Mg(u.gr,e.ca,
e.aa)||u.er.ma&&!Mg(u.er,e.aa,e.ka)||u.hr.ma&&u.hr.ag[0]!==Math.fround(r))){var x=Xh(this);x.Fa=12;var y=r;u.Jx.ma||(u.Dh.ma&&Ng(u.Dh,g,k),u.$q.ma&&Ng(u.$q,b.ca,b.aa),u.Zq.ma&&Ng(u.Zq,b.la,b.ka),u.br.ma&&(u.br.ag[0]=l),u.dr.ma&&(u.dr.ag[0]=n),u.cr.ma&&(u.cr.ag[0]=p),u.Ol.ma&&Ng(u.Ol,d.ca,d.aa),u.Po.ma&&Ng(u.Po,d.la,d.ka),u.Ro.ma&&Ng(u.Ro,c.ca,c.aa),u.Qo.ma&&Ng(u.Qo,c.la,c.ka),u.gr.ma&&Ng(u.gr,e.ca,e.aa),u.er.ma&&Ng(u.er,e.aa,e.ka),u.hr.ma&&(u.hr.ag[0]=y));y=x.We;y[0]=g;y[1]=k;b.Fd(y,2);y[6]=n;y[7]=
p;d.Fd(y,12);b=x.Zn;e.Fd(b,0);e=b[1];b[1]=b[3];b[3]=e;c.Fd(x.dW,0);x.Ye=r;x.ko=l;x.Ng=u.Jx.ma?a?a.Jb():null:null;this.pc=0}}zE(a){const b=this.to;var d;if(d=0!==a.length){a:{for(let g=0,k=a.length;g<k;++g){d=b.Tt[g];var c=a[g],e=d.ag;if(d.lN?e[0]!==Math.fround(c.eb)||e[1]!==Math.fround(c.kb)||e[2]!==Math.fround(c.bb):e[0]!==Math.fround(c)){d=!1;break a}}d=!0}d=!d}if(d){d=Xh(this);d.Fa=13;for(let g=0,k=a.length;g<k;++g){c=b.Tt[g];e=a[g];const l=c.ag;c.lN?(l[0]=e.eb,l[1]=e.kb,l[2]=e.bb):l[0]=e}Hh.Pd(d.EH,
a);this.pc=0}}Bj(a,b,d,c){var e=Xh(this);e.Fa=9;e=e.We;e[0]=a;e[1]=b;e[2]=d;e[3]=c;this.pc=0}pe(a){var b=Xh(this);b.Fa=9;a.Fd(b.We,0);this.pc=0}$u(){}mp(){super.mp();this.na.flush()}$Q(){if(this.gn&&this.xb&&this.xb.Wc){var a=Xh(this),b=this.ZA;a.Fa=22;a.Ye=b?1:0;this.pc=0}}Sf(a){a=!!a;if(this.ZA!==a&&this.gn){this.ZA=a;var b=Xh(this);b.Fa=23;b.Ye=a?1:0;this.pc=0}}bz(){return this.ZA}Vu(a){a=!!a;if(this.Bm&&this.mN!==a){if(a&&this.bz())throw Error("depth still enabled");this.mN=a;var b=Xh(this);b.Fa=
24;b.Ye=a?1:0;this.pc=0}}XS(a,b,d,c,e=0){a=Math.floor(a);b=Math.floor(b);d=Math.floor(d);c=Math.floor(c);hc(this.OG,a,b,d,c)||(gc(this.OG,a,b,d,c),b=(e||this.Hu(this.Ej())[1])-b-c,e=Xh(this),e.Fa=28,e.Ye=1,e=e.We,e[0]=a,e[1]=b,e[2]=d,e[3]=c,this.pc=0)}mK(){if(-1!==this.OG.la){this.OG.set(0,0,-1,-1);var a=Xh(this);a.Fa=28;a.Ye=0;a=a.We;a[0]=0;a[1]=0;a[2]=0;this.pc=a[3]=0}}Fn(){return!this.na||this.na.isContextLost()||this.pN}ge(){Af(this);Hh.T.FE.ge();Hh.T.kT.ge();Hh.T.rE.ge();for(const a of this.TE)a.pe();
this.PO=this.MO=this.CM=this.sA=this.Qz=this.iO=this.bf=null;this.ON=0;this.Kx="(unavailable)";this.Pe=this.Kt=this.to=null;for(const a of this.Nt.values())a.ge()}async gE(){this.pN=!0;await this.Sr();this.pN=!1;for(const a of this.Nt.values())a.gE(this);this.vd(this.O,this.P,!0)}xu(a,b){if(this.Fn())throw Error("context lost");this.ff();const d=Hh.A(Hh.T.FE,this);if(!("undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||
"undefined"!==typeof ImageBitmap&&a instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&a instanceof OffscreenCanvas||a instanceof ImageData||a instanceof ArrayBuffer)&&null!==a)throw Error("invalid texture source");var c=Object.assign({},ig,b);if(d.Ua)throw Error("already created texture");d.tj=c.Xl;d.uj=c.Yl;d.Ob=c.Zb;d.Cs=c.Ux;d.Fq=c.tQ;d.ni=!!c.ep&&d.U.Qs;d.vt=c.cD;if(!gg.has(d.tj)||!gg.has(d.uj))throw Error("invalid wrap mode");if(!eg.has(d.Ob))throw Error("invalid sampling");if(!dg.has(d.Fq))throw Error("invalid pixel format");
if(!fg.has(d.vt))throw Error("invalid mipmap quality");d.Ue=!0;if(a instanceof ArrayBuffer||null===a||c.qX){if(d.O=c.width,d.P=c.height,a instanceof ArrayBuffer&&a.byteLength!==d.O*d.P*4)throw Error("ArrayBuffer wrong size");}else d.O=a.width,d.P=a.height;if(0>=d.O||0>=d.P)throw Error("invalid texture data size");c.qX&&(b=cg.Lh(d.O,d.P),b.getContext("2d").drawImage(a,0,0,d.O,d.P),a=b);var e=cg.Lk(d.O)&&cg.Lk(d.P);b=d.U.Nw;if(d.O>b||d.P>b)throw Error("texture data exceeds maximum texture size");b=
d.U.na;var g=d.U.ad;d.Ua=b.createTexture();b.bindTexture(b.TEXTURE_2D,d.Ua);b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c.premultiplyAlpha);b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1);c=hg(d.Fq,b);if(d.U.Ap()||e||!lg(d))2<=g?(b.texStorage2D(b.TEXTURE_2D,d.ni?Math.floor(Math.log2(Math.max(d.O,d.P))+1):1,c.EQ,d.O,d.P),a instanceof ArrayBuffer?b.texSubImage2D(b.TEXTURE_2D,0,0,0,d.O,d.P,c.format,c.type,new Uint8Array(a)):null!==a&&b.texSubImage2D(b.TEXTURE_2D,0,0,0,c.format,c.type,a)):a instanceof ArrayBuffer?
b.texImage2D(b.TEXTURE_2D,0,c.ey,d.O,d.P,0,c.format,c.type,new Uint8Array(a)):null===a?b.texImage2D(b.TEXTURE_2D,0,c.ey,d.O,d.P,0,c.format,c.type,null):b.texImage2D(b.TEXTURE_2D,0,c.ey,c.format,c.type,a);else{if(null===a)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");a instanceof ArrayBuffer&&(a=new ImageData(new Uint8ClampedArray(a),d.O,d.P));a instanceof ImageData&&(e=cg.Lh(d.O,d.P),e.getContext("2d").putImageData(a,0,0),a=e);e=cg.Lh(cg.eu(d.O),cg.eu(d.P));
g=e.getContext("2d");g.imageSmoothingEnabled="nearest"!==d.Ob;g.drawImage(a,0,0,d.O,d.P,0,0,e.width,e.height);b.texImage2D(b.TEXTURE_2D,0,c.ey,c.format,c.type,e)}null!==a&&mg(d,b);b.bindTexture(b.TEXTURE_2D,null);d.U.Cl=null;d.Nc=1;kg.add(d);return d}async xy(a,b){if(this.Fn())throw Error("context lost");b=Object.assign({},b);if(Hh.wb.ImageBitmapOptions){let d=await createImageBitmap(a,{premultiplyAlpha:"premultiply"});const c=b.Xl&&"clamp-to-edge"!==b.Xl||b.Yl&&"clamp-to-edge"!==b.Yl,e=Hh.Lk(d.width)&&
Hh.Lk(d.height);this.Ap()||e||!c?b.premultiplyAlpha=!1:Hh.wb.ZD?(d=await createImageBitmap(a,{premultiplyAlpha:"premultiply",resizeWidth:Hh.eu(d.width),resizeHeight:Hh.eu(d.height)}),b.premultiplyAlpha=!1):d=await createImageBitmap(a,{premultiplyAlpha:"none"});return await Hh.uy(()=>this.xu(d,b))}if(a instanceof Blob){if("undefined"===typeof Image)throw Error("texture upload variant not supported in worker");a=await Hh.WQ(a)}return await Hh.uy(()=>this.xu(a,b))}lp(a,b,d){this.ff();const c=Hh.A(Hh.T.FE,
this);c.YK(a,b,d);return c}vz(a,b){this.ff();b.QE(a)}Wg(a){a&&(pg(a),0<a.Nc||(this.ff(),a===this.Cl&&(this.na.bindTexture(this.na.TEXTURE_2D,null),this.Cl=null),a===this.tq&&(this.na.activeTexture(this.na.TEXTURE1),this.na.bindTexture(this.na.TEXTURE_2D,null),this.na.activeTexture(this.na.TEXTURE0),this.tq=null),a.ss()))}dR(a){let b=this.O,d=this.P,c=!0;a&&("number"===typeof a.width&&(b=Math.floor(a.width),c=!1),"number"===typeof a.height&&(d=Math.floor(a.height),c=!1));if(0>=b||0>=d)throw Error("invalid size");
this.ff();const e=Hh.A(Hh.T.kT,this);e.Az(b,d,Object.assign({WC:c},a));this.xb=null;this.kd.bp=null;this.kd.Sl=null;return e}hf(a,b=!0){if(a!==this.xb){a&&a.no&&a.Hz(this.O,this.P);var d=Xh(this);d.Fa=8;this.xb=d.Ng=a;this.pc=0;b&&this.tE()}}Ej(){return this.xb}Hu(a){return a?[a.L(),a.K()]:[this.O,this.P]}wJ(a){if(2>this.ad||this.xb&&0<this.xb.Xe)this.ks(),Yh(this),this.zu(a,"stretch");else{var b=Xh(this),d=this.xb;b.Fa=17;const c=b.We,e=b.kd.Hh;c[0]=a.L();c[1]=a.K();c[2]=d?d.L():e.L();c[3]=d?d.K():
e.K();c[4]=a.Vr()?1:0;c[5]=!0;b=b.EH;Rg.D(b);b.push(a.aj);b.push(d?d.aj:null);this.pc=0}}zu(a,b="stretch"){a=a.Jb();if(!a)throw Error("not a texture-backed render target");this.Ud(a);this.Ey(b,a)}Tr(a){if(!(2>this.ad)){var b=Xh(this);a=a.aj;b.Fa=14;b.Ng=a;this.pc=0}}fR(a){this.hf(null);this.ff();const b=a.Jb();b===this.Cl&&(this.na.bindTexture(this.na.TEXTURE_2D,null),this.Cl=null);b===this.tq&&(this.na.activeTexture(this.na.TEXTURE1),this.na.bindTexture(this.na.TEXTURE_2D,null),this.na.activeTexture(this.na.TEXTURE0),
this.tq=null);a.ss()}uJ(){this.Sf(!0);Xh(this).Fa=25;this.pc=0;this.oF=1}yD(){this.Sf(!1);Xh(this).Fa=26;this.pc=0;this.oF=2}LR(){return 2===this.oF}xD(){this.Sf(!0);Xh(this).Fa=27;this.oF=this.pc=0}CJ(){let a=0;for(const b of Hh.T.FE.qP())a+=b.My();return a}Ap(){return 2<=this.ad}Qj(){return!!this.bf}eL(a){Hf(this,[["normal",a.ONE,a.ONE_MINUS_SRC_ALPHA],["additive",a.ONE,a.ONE],["xor",a.ONE,a.ONE_MINUS_SRC_ALPHA],["copy",a.ONE,a.ZERO],["destination-over",a.ONE_MINUS_DST_ALPHA,a.ONE],["source-in",
a.DST_ALPHA,a.ZERO],["destination-in",a.ZERO,a.SRC_ALPHA],["source-out",a.ONE_MINUS_DST_ALPHA,a.ZERO],["destination-out",a.ZERO,a.ONE_MINUS_SRC_ALPHA],["source-atop",a.DST_ALPHA,a.ONE_MINUS_SRC_ALPHA],["destination-atop",a.ONE_MINUS_DST_ALPHA,a.SRC_ALPHA]])}};"use strict";
const di=self.B,ei=self.Gi.Vl,fi=self.GPUBufferUsage,gi=self.GPUShaderStage,hi=self.GPUTextureUsage,ii={powerPreference:"default",depth:!1,failIfMajorPerformanceCaveat:!1,NW:!1,UX:!1,KC:!1},ji=new di.ed(0,0,1,0,1,1,0,1),ki=di.A(di.Cp),mi=di.A(di.Rect);di.A(di.Rect);const ni=di.A(di.ed);let oi=!1;function pi(a){console.log("[WebGPU] "+a)}function qi(a,b){return 0!==(a.F&b)}async function ri(a,b){a.lf=null;for(await si(a,b);!a.lf;)a.Kp=null,await si(a,b);await a.Sr()}
async function si(a,b){if(!a.Kp){a.Kp=await navigator.gpu.requestAdapter(a.AL);if(!a.Kp)throw Error("renderer-unavailable (no WebGPU adapter available)");if(b&&a.Kp.isFallbackAdapter)throw Error("renderer-unavailable (WebGPU provided fallback adapter)");}a.lf=await a.Kp.requestDevice({requiredFeatures:[]});if(!a.lf)return null;a.Nw=a.lf.limits.maxTextureDimension2D;a.Gb(33554432,a.lf.features.has("timestamp-query"));a.lf.lost.then(d=>ti(a,d));a.Gb(32768,!1)}
async function ti(a,b){console.log("[WebGPU] Device lost: ",b);Af(a);a.Zj.ge();di.T.xz.ge();di.T.TK.ge();di.T.rE.ge();a.an="";a.ux=null;a.tx=null;a.Pe=null;a.pA=null;a.$N=null;a.aO=null;a.lM=null;a.fH=null;a.Uo=null;a.Io=null;a.lF=null;a.kq=null;a.Bo=null;a.eI=null;a.WF=null;a.UF=null;a.FM=null;a.uF=null;a.fF=null;a.Lv=null;a.nC=null;a.Vz=null;a.rA=null;a.lO=null;a.Mv=null;a.zo=null;a.Cf=null;a.Yp=null;a.Kv=null;a.qF=null;a.kA=null;a.xF=null;a.xt=null;a.Wj=null;a.xb=null;a.SN=null;a.sl=null;a.YE.clear();
a.eH.clear();a.AO.clear();for(const d of a.Nt.values())d.ge();a.lf=null;a.Kp=null;a.Oz=null;a.F|=32768;a.nQ&&a.nQ();await ri(a);for(const d of a.Nt.values())d.gE(a);a.vd(a.O,a.P,!0);a.oQ&&a.oQ()}function vi(a){a.F|=134218240;wi(a,a.fI.transform)}function xi(a){const b=a.fI.Y6;a.f4.Fd(a.hI,b.offset/4);wi(a,b)}function yi(a){const b=a.fI.Zl;a.hI[b.offset/4]=a.g4;wi(a,b)}
function zi(a,b){return a.lf.createBindGroup({layout:a.fF,entries:[{binding:0,resource:{buffer:a.eI}},{binding:1,resource:{buffer:a.WF}},{binding:2,resource:{buffer:a.lF}},{binding:3,resource:{buffer:a.Bo}},{binding:4,resource:{buffer:a.UF}},{binding:5,resource:{buffer:b}}]})}function Ai(){return"depth24plus-stencil8"}function Bi(a){a.ak=a.lf.createCommandEncoder();a.F&=-16385}function Ci(a,b){b!==a.Kv&&(a.Kv=b,null===b&&(b=a.zo),Di(a),a.qF=b.sv,a.F|=128)}
function Ei(a){var b=a.F;if(0!==(b&7680)){var d=a.F;0!==(d&512)&&(oi&&pi("Updating transform"),ei.multiply(a.gV,a.ut,a.Mw),a.hI.set(a.gV,a.fI.transform.offset/4));0!==(d&1024)&&(oi&&pi("Updating vertex uniform buffer"),Fi(a.Zj,a.ak,a.eI,a.fP,a.Ox,a.DC-a.Ox));0!==(d&2048)&&(oi&&pi("Updating fragment uniform buffer"),Fi(a.Zj,a.ak,a.WF,a.DM,a.Yv,a.HA-a.Yv));0!==(d&4096)&&(oi&&pi("Updating fragment C3Params buffer"),Fi(a.Zj,a.ak,a.UF,a.RF,a.FA,a.SF-a.FA));a.F=d&-7681|16384}if(0!==(b&2097152))b=a.F,b=
{colorAttachments:[],depthStencilAttachment:{view:a.pA,depthLoadOp:0!==(b&1048576)?"clear":"load",depthClearValue:1,depthStoreOp:"store",stencilLoadOp:0!==(b&8388608)?"clear":"load",stencilClearValue:0,stencilStoreOp:"store"}},a.F&=-9437185,oi&&pi(`Starting coplanar stencil renderpass${"load"===b.depthStencilAttachment.depthLoadOp?"":", clear depth"}${"load"===b.depthStencilAttachment.stencilLoadOp?"":", clear stencil"}`);else if(0!==(b&4194304))b=a.xb,d={colorAttachments:[{view:b.Gp(),loadOp:b.wl?
"clear":"load",clearValue:b.Hs.toJSON(),storeOp:"store"}],depthStencilAttachment:{view:a.pA,depthReadOnly:!0,stencilReadOnly:!0}},b.wl=!1,oi&&pi(`Starting coplanar color renderpass to ${b.nq?"backbuffer":"texture"}, ${"load"===d.colorAttachments[0].loadOp?"continue":"clear"} color`),b=d;else{b=a.F;d=a.xb;const c={colorAttachments:[{view:d.Gp(),loadOp:d.wl?"clear":"load",clearValue:d.Hs.toJSON(),storeOp:"store"}]};d.wl=!1;786432===(b&786432)&&(c.depthStencilAttachment={view:a.pA,depthLoadOp:0!==(b&
1048576)?"clear":"load",depthClearValue:1,depthStoreOp:"store",stencilLoadOp:"clear",stencilClearValue:0,stencilStoreOp:"discard"},a.F&=-1048577);oi&&pi(`Starting render pass to ${d.nq?"backbuffer":"texture"}, depth ${c.depthStencilAttachment?"enabled":"disabled"}, ${"load"===c.colorAttachments[0].loadOp?"continue":"clear"} color${c.depthStencilAttachment&&"load"!==c.depthStencilAttachment.depthLoadOp?", clear depth":""}`);b=c}a.Ks=a.ak.beginRenderPass(b);a.F|=25072}
function Hi(a){null!==a.Ks&&(Di(a),oi&&pi(`Ending render pass (to ${a.xb.nq?"backbuffer":"texture"})`),a.Ks.end(),a.Ks=null)}function Ii(a,b){if(!a.sl)throw Error("not started frame timing");Hi(a);oi&&pi(`Writing timestamp index ${b} for frame ${a.Df}`);a.ak.writeTimestamp(a.sl.sH,b);a.F|=16384}function Ji(a){let b=a.Vm;if(10499<b)a.ff(),b=0;else if(0!==(a.F&1)){a.Sv+=6;return}null===a.Ks&&Ei(a);a.F|=1;a.aU=6*b;a.Sv=6}
function Ki(a,b,d){var c=d.L();const e=d.K();d=di.X(b.ca,0,c);const g=di.X(b.aa,0,e);c=di.X(b.la,d,c);b=di.X(b.ka,g,e);a.setScissorRect(d,g,c-d,b-g)}
function Di(a){const b=a.F;if(0!==(b&1)){if(oi){var d=[];b&16&&d.push("draw state");b&32&&d.push("pipeline");b&64&&d.push("texture");b&128&&d.push("background texture");b&256&&d.push("depth texture");b&8192&&d.push("buffer");b&8&&d.push("scissor");var c="";0<d.length&&(c+=`(Updated ${d.join(", ")}) `);c=0!==(b&2)?c+`Drawing ${a.Sv/6} points`:c+`Drawing ${a.Sv/6} quads`;pi(c)}d=a.Ks;0!==(b&16)&&(c=a.xb,d.setViewport(0,0,c.L(),c.K(),0,1),d.setIndexBuffer(a.kq,"uint16"),d.setVertexBuffer(0,a.Uo),d.setVertexBuffer(1,
a.Io),0!==(b&6291456)&&d.setStencilReference(1),0!==(b&4)&&Ki(d,a.CH,c));if(0!==(b&32)){var e=0;0!==(b&67108864)?e=4:0!==(b&2097152)?e=2:0!==(b&4194304)?e=3:786432===(b&786432)&&(e=1);c=d.setPipeline;{var g=a.Mv;var k=a.rF,l=a.UT;const r=5*k+e;if(2>l){var n=g.hx[r];null===n&&(n=g.zg().createRenderPipeline(Li(g,k,e,l)),g.hx[r]=n);g=n}else{n=g.VN.get(l);Array.isArray(n)||(n=Mi(),g.VN.set(l,n));var p=n[r];null===p&&(p=g.zg().createRenderPipeline(Li(g,k,e,l)),n[r]=p);g=p}}c.call(d,g)}0!==(b&8192)&&d.setBindGroup(0,
a.Lv);0!==(b&64)&&d.setBindGroup(1,a.Yp);0!==(b&128)&&d.setBindGroup(2,a.qF);0!==(b&256)&&d.setBindGroup(3,a.kA);0!==(b&8)&&(c=a.xb,0!==(b&4)?Ki(d,a.CH,c):d.setScissorRect(0,0,c.L(),c.K()));d.drawIndexed(a.Sv,1,a.aU,0,0);a.F&=-8698}}function Oi(a,b){b.wl&&(Hi(a),a.ak.beginRenderPass({colorAttachments:[{view:b.Gp(),loadOp:"clear",clearValue:b.Hs.toJSON(),storeOp:"store"}]}).end(),a.F|=16384,b.wl=!1)}
function wi(a,b){const d=b.offset;b=b.end;0!==(a.F&1024)?(a.Ox=Math.min(a.Ox,d),a.DC=Math.max(a.DC,b)):(a.F|=1024,a.Ox=d,a.DC=b,Hi(a))}function Pi(a,b,d){b.Fd(a.IA,d.offset/4);Qi(a,d)}function Qi(a,b){const d=b.offset;b=b.end;0!==(a.F&2048)?(a.Yv=Math.min(a.Yv,d),a.HA=Math.max(a.HA,b)):(a.F|=2048,a.Yv=d,a.HA=b,Hi(a))}function Ri(a,b){const d=b.offset;b=b.end;0!==(a.F&4096)?(a.FA=Math.min(a.FA,d),a.SF=Math.max(a.SF,b)):(a.F|=4096,a.FA=d,a.SF=b,Hi(a))}
function Si(a,b,d){a.GA[d.offset/4]!==Math.fround(b)&&(a.GA[d.offset/4]=b,Ri(a,d))}function Ti(a,b,d){a.BM[d.offset/4]!==b&&(a.BM[d.offset/4]=b,Ri(a,d))}function Ui(a,b,d){b.PC(a.GA,d.offset/4)||(b.Fd(a.GA,d.offset/4),Ri(a,d))}
function Vi(a,b){if(0!==(a.F&65536)){if(null!==b.xo)var d=b.xo.Ow;else if(b.Ue&&b.cH&&!b.qo){d=b.U;const c=[b];for(const e of d.eH)e.j();for(const e of d.YE){if(14<=c.length)break;e!==b&&c.push(e)}2>c.length||di.A(di.T.B2,d,c);d=null!==b.xo?b.xo.Ow:b.Bq}else d=b.Bq;Wi(a,d);a.ao=b.UN}else Wi(a,b.Bq),a.ao=0}function Xi(a,b){b=!!b;0!==(a.F&67108864)!==b&&(Di(a),a.Gb(67108864,b),a.F|=32)}function Wi(a,b){b!==a.Yp&&(Di(a),a.Yp=b,a.F|=64)}function Yi(a,b){b!==a.Lv&&(Di(a),a.Lv=b,a.F|=8192)}
function Zi(a){return a.Oz?(a.Oz.vendor||"unknown")+"/"+(a.Oz.architecture||"unknown"):"unknown/unknown"}
di.T.D2=class extends di.T.AS{constructor(a){super(a);this.pH=this.ci=this.lf=this.Oz=this.Kp=this.AL=null;this.an="";this.tx=this.ux=null;this.cf=this.jg=0;this.gV=ei.create();this.fH=this.lM=this.aO=this.pA=this.$N=this.Pe=null;this.oA=this.qA=0;this.Bo=this.kq=this.lF=this.Io=this.Uo=this.FM=this.UF=this.WF=this.eI=null;this.fI=$i;this.gI=16*Math.ceil(aj/16);this.hI=this.fP=null;this.EM=bj;this.TF=16*Math.ceil(cj/16);this.IA=this.DM=null;this.zM=dj;this.AM=16*Math.ceil(ej/16);this.BM=this.GA=this.RF=
null;this.yi=new Float32Array(126E3);this.Og=new Float32Array(126E3);this.Up=new Float32Array(42E3);this.hw=new Uint16Array(63E3);this.Uw=new Float32Array(42E3);this.ao=this.Vm=0;this.Dm=di.A(di.mb,1,1,1,1);this.Hq=0;this.Zj=di.A(di.T.A2,this);this.F=32768;this.SF=this.FA=this.HA=this.Yv=this.DC=this.Ox=this.Sv=this.aU=0;this.CH=di.A(di.Rect,0,0,0,0);this.TT=di.A(di.mb,1,1,1,1);this.VT=di.A(di.mb,1,1,1,1);this.f4=di.A(di.Rect,0,0,0,0);this.g4=0;this.OO="";this.SN=this.Lv=this.kA=this.qF=this.Kv=this.Yp=
this.Cf=this.zo=this.rA=this.Vz=this.nC=this.uF=this.fF=null;this.YE=new Set;this.eH=new Set;this.Nw=8192;this.Mv=this.xt=this.xF=this.lO=null;this.UT=this.rF=0;this.qV=null;this.AO=new Map;this.Ks=this.ak=null;this.eA=[];this.xb=this.Wj=null;this.Bm=this.vW=this.WL=!1;this.oQ=this.nQ=this.sl=null;this.eL()}Sd(){return!0}Gb(a,b){this.F=b?this.F|a:this.F&~a}async Ea(a,b){b=Object.assign({},ii,b);if(!navigator.gpu)throw Error("renderer-unavailable (WebGPU not supported)");b.depth&&(this.F|=131072);
this.WL=!!b.NW;this.vW=!!b.UX;this.AL={};this.Bm=!(!b.depth||!b.KC);"default"!==b.powerPreference&&(this.AL.powerPreference=b.powerPreference);this.ci=a;yf(this.hw);await ri(this,b.failIfMajorPerformanceCaveat)}async Sr(){super.Sr();const a=this.lf;this.an=navigator.gpu.getPreferredCanvasFormat();this.tx=this.ux=null;let b=hi.RENDER_ATTACHMENT;this.WL&&(b|=hi.TEXTURE_BINDING);this.vW&&(b|=hi.COPY_SRC);this.OO=this.an.startsWith("rgba8")||this.an.startsWith("bgra8")?this.an:"rgba8unorm";this.F&=33685504;
this.F|=7680;qi(this,131072)&&(this.F|=17563648);this.UT=this.rF=this.Vm=0;Sb(this.Dm,1,1,1,1);Sb(this.TT,1,1,1,1);Sb(this.VT,1,1,1,1);this.fP=new ArrayBuffer(this.gI);this.hI=new Float32Array(this.fP);this.DM=new ArrayBuffer(this.TF);this.IA=new Float32Array(this.DM);this.RF=new ArrayBuffer(this.AM);this.GA=new Float32Array(this.RF);this.BM=new Uint32Array(this.RF);this.Uo=a.createBuffer({label:"vertexbuffer",size:this.yi.byteLength,usage:fi.VERTEX|fi.COPY_DST});this.Io=a.createBuffer({label:"texcoordbuffer",
size:this.Og.byteLength,usage:fi.VERTEX|fi.COPY_DST});this.lF=a.createBuffer({label:"colorbuffer",size:this.Up.byteLength,usage:fi.VERTEX|fi.STORAGE|fi.COPY_DST});this.kq=a.createBuffer({label:"indexbuffer",mappedAtCreation:!0,size:this.hw.byteLength,usage:fi.INDEX});var d=this.kq.getMappedRange();(new Uint16Array(d)).set(this.hw);this.kq.unmap();this.Bo=a.createBuffer({label:"pointbuffer",size:this.Uw.byteLength,usage:fi.VERTEX|fi.STORAGE|fi.COPY_DST});this.fF=a.createBindGroupLayout({label:"bufferbindgrouplayout",
entries:[{binding:0,visibility:gi.VERTEX,buffer:{type:"uniform",minBindingSize:this.gI}},{binding:1,visibility:gi.FRAGMENT,buffer:{type:"uniform",minBindingSize:this.TF}},{binding:2,visibility:gi.VERTEX,buffer:{type:"read-only-storage",minBindingSize:this.Up.byteLength}},{binding:3,visibility:gi.VERTEX,buffer:{type:"read-only-storage",minBindingSize:this.Uw.byteLength}},{binding:4,visibility:gi.FRAGMENT,buffer:{type:"uniform",minBindingSize:this.AM}},{binding:5,visibility:gi.FRAGMENT,buffer:{type:"uniform"}}]});
d=[];for(let c=0;14>c;++c)d.push({binding:2*c,visibility:gi.FRAGMENT,sampler:{type:"filtering"}},{binding:2*c+1,visibility:gi.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d"}});this.nC=a.createBindGroupLayout({label:"texturebindgrouplayout",entries:d});this.Vz=a.createBindGroupLayout({label:"backtexturebindgrouplayout",entries:[{binding:0,visibility:gi.FRAGMENT,sampler:{type:"non-filtering"}},{binding:1,visibility:gi.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d"}}]});this.rA=a.createBindGroupLayout({label:"depthtexturebindgrouplayout",
entries:[{binding:0,visibility:gi.FRAGMENT,sampler:{type:"non-filtering"}},{binding:1,visibility:gi.FRAGMENT,texture:{sampleType:"depth",viewDimension:"2d"}}]});this.lO=a.createPipelineLayout({bindGroupLayouts:[this.fF,this.nC,this.Vz,this.rA]});d=di.T.HE;this.xF=a.createShaderModule({label:"<default vertex module>",code:d.Du()});this.xF.getCompilationInfo().then(c=>fj("<default>","vertex",c));this.xt=a.createShaderModule({label:"<normalized vertex module>",code:"\n\t\tstruct ColorData {\n\t\t\tdata : array<vec4<f32>>\n\t\t};\n\t\t@binding(2) @group(0) var<storage> colorBuffer : ColorData;\n\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32,\n\t\t\t@location(0) position : vec3<f32>,\n\t\t\t@location(1) uv : vec3<f32>\n\t\t};\n\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec2<f32>,\n\t\t\t@location(1) fragColor : vec4<f32>\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\t\t\tvar output : VertexOutput;\n\t\t\tvar p = input.position;\n\t\t\tp.y = 1.0 - p.y;\n\t\t\toutput.Position = vec4<f32>(p.xy * 2.0 - 1.0, p.z, 1.0);\n\t\t\toutput.fragUV = input.uv.xy;\n\t\t\toutput.fragColor = colorBuffer.data[input.VertexIndex / u32(4)];\n\t\t\treturn output;\n\t\t}"});
this.xt.getCompilationInfo().then(c=>fj("<normalized>","vertex",c));d=await Promise.all([d.Ea(this,{name:"<default>",src:gj(!1),hD:gj(!0),tu:"\n\t\t\nstruct Uniforms {\n\ttransform\t\t: mat4x4<f32>,\n\tpointTexStart\t: vec2<f32>,\n\tpointTexEnd\t\t: vec2<f32>,\n\tzElevation\t\t: f32\n};\n@binding(0) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\tstruct ColorData {\n\t\t\tdata : array<vec4<f32>>\n\t\t};\n\t\t@binding(2) @group(0) var<storage> colorBuffer : ColorData;\n\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32,\n\t\t\t@location(0) position : vec3<f32>,\n\t\t\t@location(1) uv : vec3<f32>\n\t\t};\n\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec3<f32>,\n\t\t\t@location(1) fragColor : vec4<f32>\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\t\t\tvar output : VertexOutput;\n\t\t\toutput.Position = uniforms.transform * vec4<f32>(input.position, 1.0);\n\t\t\toutput.fragUV = input.uv;\n\t\t\toutput.fragColor = colorBuffer.data[input.VertexIndex / u32(4)];\n\t\t\treturn output;\n\t\t}",
Q6:"\n\t\tstruct ColorData {\n\t\t\tdata : array<vec4<f32>>\n\t\t};\n\t\t@binding(2) @group(0) var<storage> colorBuffer : ColorData;\n\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32,\n\t\t\t@location(0) position : vec3<f32>,\n\t\t\t@location(1) uv : vec3<f32>\n\t\t};\n\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec3<f32>,\n\t\t\t@location(1) fragColor : vec4<f32>\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\t\t\tvar output : VertexOutput;\n\t\t\tvar p = input.position;\n\t\t\tp.y = 1.0 - p.y;\n\t\t\toutput.Position = vec4<f32>(p.xy * 2.0 - 1.0, p.z, 1.0);\n\t\t\toutput.fragUV = input.uv;\n\t\t\toutput.fragColor = colorBuffer.data[input.VertexIndex / u32(4)];\n\t\t\treturn output;\n\t\t}"}),
d.Ea(this,{name:"<generate-mipmap>",src:"\n\t\t@binding(0) @group(0) var sampler0 : sampler;\n\t\t@binding(1) @group(0) var texture0 : texture_2d<f32>;\n\n\t\tstruct FragmentInput {\n\t\t\t@location(0) fragUV : vec2<f32>\n\t\t};\n\n\t\tstruct FragmentOutput {\n\t\t\t@location(0) color : vec4<f32>\n\t\t};\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\toutput.color = textureSample(texture0, sampler0, vec2<f32>(input.fragUV.x, 1.0 - input.fragUV.y));\n\t\t\treturn output;\n\t\t}",
tu:"\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32\n\t\t};\n\t\t\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec2<f32>\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\n\t\t\tvar pos : array<vec2<f32>, 4> = array<vec2<f32>, 4>(\n\t\t\t\tvec2<f32>(-1.0, 1.0),\n\t\t\t\tvec2<f32>(1.0, 1.0),\n\t\t\t\tvec2<f32>(-1.0, -1.0),\n\t\t\t\tvec2<f32>(1.0, -1.0));\n\t\t\t\n\t\t\tvar output : VertexOutput;\n\t\t\tvar p : vec2<f32> = pos[input.VertexIndex];\n\t\t\toutput.Position = vec4<f32>(p, 0.0, 1.0);\n\t\t\toutput.fragUV = p / 2.0 + 0.5;\n\t\t\treturn output;\n\t\t}"}),
d.Ea(this,{name:"<point>",src:hj(!1),hD:hj(!0),tu:"\n\t\t\nstruct Uniforms {\n\ttransform\t\t: mat4x4<f32>,\n\tpointTexStart\t: vec2<f32>,\n\tpointTexEnd\t\t: vec2<f32>,\n\tzElevation\t\t: f32\n};\n@binding(0) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\tstruct PointData {\n\t\t\tdata : array<vec4<f32>>\n\t\t};\n\t\t@binding(3) @group(0) var<storage> pointBuffer : PointData;\n\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32\n\t\t};\n\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec2<f32>,\n\t\t\t@location(1) pointOpacity : f32\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\n\t\t\tvar normPos : array<vec2<f32>, 4> = array<vec2<f32>, 4>(\n\t\t\t\tvec2<f32>(-0.5, -0.5),\n\t\t\t\tvec2<f32>(0.5, -0.5),\n\t\t\t\tvec2<f32>(0.5, 0.5),\n\t\t\t\tvec2<f32>(-0.5, 0.5));\n\t\t\t\n\t\t\tvar output : VertexOutput;\n\t\t\tvar p : vec2<f32> = normPos[input.VertexIndex % u32(4)];\n\t\t\tvar pointData : vec4<f32> = pointBuffer.data[input.VertexIndex / u32(4)];\n\n\t\t\tvar size : f32 = pointData.z;\n\t\t\toutput.Position = uniforms.transform * vec4<f32>(p * size + pointData.xy, uniforms.zElevation, 1.0);\n\t\t\toutput.pointOpacity = pointData.w;\n\n\t\t\tvar pointTexMin : vec2<f32> = min(uniforms.pointTexStart, uniforms.pointTexEnd);\n\t\t\tvar pointTexMax : vec2<f32> = max(uniforms.pointTexStart, uniforms.pointTexEnd);\n\t\t\tvar pn : vec2<f32> = p + vec2<f32>(0.5, 0.5);\n\t\t\tvar pointCoord : vec2<f32> = select(vec2<f32>(1.0 - pn.y, pn.x), pn, uniforms.pointTexEnd.x > uniforms.pointTexStart.x);\n\n\t\t\toutput.fragUV = mix(pointTexMin, pointTexMax, pointCoord);\n\t\t\treturn output;\n\t\t}"}),
d.Ea(this,{name:"<tilemap>",src:ij(!1),hD:ij(!0)}),d.Ea(this,{name:"<fill>",src:"\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\toutput.color = input.fragColor;\n\t\t\treturn output;\n\t\t}"}),d.Ea(this,{name:"<lineargradient>",src:"\n\t\t\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\tfn fromLinear(linearRGB : vec3<f32>) -> vec3<f32>\n\t\t{\n\t\t\tvar cutoff : vec3<bool> = (linearRGB < vec3<f32>(0.0031308));\n\t\t\tvar higher : vec3<f32> = vec3<f32>(1.055) * pow(abs(linearRGB), vec3<f32>(1.0/2.4)) - 0.055;\n\t\t\tvar lower : vec3<f32> = linearRGB * 12.92;\n\t\t\treturn select(higher, lower, cutoff);\n\t\t}\n\n\t\tfn toLinear(sRGB : vec3<f32>) -> vec3<f32>\n\t\t{\n\t\t\tvar cutoff : vec3<bool> = (sRGB < vec3<f32>(0.04045));\n\t\t\tvar higher : vec3<f32> = pow(abs((sRGB + 0.055) / 1.055), vec3<f32>(2.4));\n\t\t\tvar lower : vec3<f32> = sRGB / 12.92;\n\t\t\treturn select(higher, lower, cutoff);\n\t\t}\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar linearGrad : vec3<f32> = mix(toLinear(input.fragColor.rgb), toLinear(uniforms.color2.rgb), vec3<f32>(input.fragUV.x));\n\n\t\t\tvar a : f32 = mix(input.fragColor.a, uniforms.color2.a, input.fragUV.x);\n\t\t\toutput.color = vec4<f32>(fromLinear(linearGrad) * a, a);\n\t\t\treturn output;\n\t\t}\n\t\t"}),
d.Ea(this,{name:"<penumbra>",src:"\n\t\t\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar grad : f32 = input.fragUV.x / (1.0 - input.fragUV.y);\n\t\t\toutput.color = input.fragColor * (1.0 - (cos(grad * 3.141592653589793) + 1.0) / 2.0);\n\t\t\treturn output;\n\t\t}\n\t\t"}),
d.Ea(this,{name:"<hardellipse>",src:"\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar diff : vec2<f32> = input.fragUV - 0.5;\n\t\t\tvar diffSq : vec2<f32> = diff * diff;\n\n\t\t\tvar f : f32 = step(diffSq.x + diffSq.y, 0.25);\n\n\t\t\toutput.color = input.fragColor * f;\n\t\t\treturn output;\n\t\t}"}),d.Ea(this,{name:"<hardellipseoutline>",src:"\n\t\t\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar diff : vec2<f32> = input.fragUV - 0.5;\n\t\t\tvar diffSq : vec2<f32> = diff * diff;\n\t\t\tvar distSq : f32 = diffSq.x + diffSq.y;\n\t\t\tvar norm : vec2<f32> = normalize(diff);\n\t\t\tvar halfNorm : vec2<f32> = norm * 0.5;\n\n\t\t\tvar innerF : f32 = step(distSq, 0.25);\n\n\t\t\tvar innerEdge : vec2<f32> = halfNorm - uniforms.pixelSize * norm * uniforms.outlineThickness;\n\t\t\tvar innerEdgeSq : vec2<f32> = innerEdge * innerEdge;\n\t\t\tvar outerF : f32 = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\t\t\t\n\t\t\toutput.color = input.fragColor * innerF * outerF;\n\t\t\treturn output;\n\t\t}"}),
d.Ea(this,{name:"<smoothellipse>",src:"\n\t\t\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar diff : vec2<f32> = input.fragUV - 0.5;\n\t\t\tvar diffSq : vec2<f32> = diff * diff;\n\t\t\tvar norm : vec2<f32> = normalize(diff);\n\t\t\tvar halfNorm : vec2<f32> = norm * 0.5;\n\t\t\tvar halfNormSq : vec2<f32> = halfNorm * halfNorm;\n\n\t\t\tvar innerEdge : vec2<f32> = halfNorm - uniforms.pixelSize * norm;\n\t\t\tvar innerEdgeSq : vec2<f32> = innerEdge * innerEdge;\n\n\t\t\tvar f : f32 = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\n\t\t\toutput.color = input.fragColor * f;\n\t\t\treturn output;\n\t\t}"}),
d.Ea(this,{name:"<smoothellipseoutline>",src:"\n\t\t\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar diff : vec2<f32> = input.fragUV - 0.5;\n\t\t\tvar diffSq : vec2<f32> = diff * diff;\n\t\t\tvar distSq : f32 = diffSq.x + diffSq.y;\n\t\t\tvar norm : vec2<f32> = normalize(diff);\n\t\t\tvar halfNorm : vec2<f32> = norm * 0.5;\n\t\t\tvar halfNormSq : vec2<f32> = halfNorm * halfNorm;\n\n\t\t\tvar pxNorm : vec2<f32> = uniforms.pixelSize * norm;\n\t\t\tvar innerEdge1 : vec2<f32> = halfNorm - pxNorm;\n\t\t\tvar innerEdge1Sq : vec2<f32> = innerEdge1 * innerEdge1;\n\n\t\t\tvar innerF : f32 = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\n\t\t\tvar innerEdge2 : vec2<f32> = halfNorm - pxNorm * uniforms.outlineThickness;\n\t\t\tvar innerEdge2Sq : vec2<f32> = innerEdge2 * innerEdge2;\n\t\t\tvar innerEdge3 : vec2<f32> = halfNorm - pxNorm * (uniforms.outlineThickness + 1.0);\n\t\t\tvar innerEdge3Sq : vec2<f32> = innerEdge3 * innerEdge3;\n\n\t\t\tvar outerF : f32 = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\t\t\t\n\t\t\toutput.color = input.fragColor * innerF * outerF;\n\t\t\treturn output;\n\t\t}"}),
d.Ea(this,{name:"<tilerandomization>",src:d.WD(!1),hD:d.WD(!0)}),d.Ea(this,{name:"<smoothline>",src:"\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar f : f32 = 1.0 - abs(input.fragUV.y - 0.5) * 2.0;\n\t\t\toutput.color = input.fragColor * f;\n\t\t\treturn output;\n\t\t}"})]);this.Lt=d[0];this.qV=d[1];this.gC=d[2];this.fC=d[4];this.hC=d[11];this.Mv=this.Lt;this.F|=65536;
this.SN=this.qV.aL();this.eI=a.createBuffer({label:"vertexuniformbuffer",size:this.gI,usage:fi.UNIFORM|fi.COPY_DST});this.WF=a.createBuffer({label:"fragmentuniformbuffer",size:this.TF,usage:fi.UNIFORM|fi.COPY_DST});this.UF=a.createBuffer({label:"fragmentc3paramsuniformbuffer",size:this.AM,usage:fi.UNIFORM|fi.COPY_DST});this.FM=a.createBuffer({label:"fragmentdefaultcustomparamsbuffer",size:16,usage:fi.UNIFORM|fi.COPY_DST});this.Ox=0;this.DC=this.gI;vi(this);xi(this);yi(this);this.Yv=0;this.HA=this.TF;
Pi(this,this.TT,this.EM.I5);Pi(this,this.VT,this.EM.X6);this.Lv=this.uF=zi(this,this.FM);d=di.Lh(32,32);d.getContext("2d");this.zo=await this.xy(d);this.Cf=null;this.Yp=this.zo.Bq;this.ao=0;this.Kv=null;this.qF=this.zo.sv;jj(this.zo);this.$N=this.lf.createTexture({label:"nulldepthbuffer",size:[8,8,1],format:Ai(),usage:hi.TEXTURE_BINDING});this.aO=this.$N.createView({label:"nulldepthbufferview",aspect:"depth-only"});this.kA=this.fH=this.lf.createBindGroup({label:"nulldepthbufferbindgroup",layout:this.rA,
entries:[{binding:0,resource:this.Ep({Zb:"nearest"})},{binding:1,resource:this.aO}]});this.Wj=di.A(di.T.TK,this,!0);kj(this.Wj.Jb(),b,this.an);this.xb=this.Wj;Bi(this);this.pH||(this.pH=this.ci.getContext("webgpu"));this.pH.configure({device:a,format:this.an,usage:b,alphaMode:"premultiplied"});this.Oz=await this.Kp.requestAdapterInfo();oi&&pi("Initialised state")}zg(){return this.lf}async zD(a){oi&&pi(`Creating shader program '${a.name}'`);a=await di.T.HE.Ea(this,a);this.Lp.push(a);this.kx.set(a.oa(),
a);return a}cL(){return this.lO}Fn(){return qi(this,32768)}Qj(){return qi(this,33554432)}CJ(){let a=0;for(const b of di.T.xz.qP())b.qo||(a+=b.My());return a}Ap(){return!0}vd(a,b,d){if(this.O!==a||this.P!==b||d)oi&&pi(`Setting size to ${a} x ${b}`),this.ff(),this.O=a,this.P=b,this.jg=a,this.cf=b,this.Wj.qs(),this.tm(ug(this.Wj)),this.xb&&this.xb.Hz(this.O,this.P),qi(this,131072)&&qi(this,16777216)&&this.ws(a,b)}ws(a,b){if(this.Pe){if(this.qA===a&&this.oA===b)return;this.Pe.destroy()}let d=hi.RENDER_ATTACHMENT;
this.Bm&&(d|=hi.TEXTURE_BINDING);this.Pe=this.lf.createTexture({label:"depthbuffer",size:[a,b,1],format:Ai(),usage:d});this.pA=this.Pe.createView({label:"depthbufferview"});this.Bm&&(this.lM=this.lf.createBindGroup({label:"depthbufferbindgroup",layout:this.rA,entries:[{binding:0,resource:this.Ep({Zb:"nearest"})},{binding:1,resource:this.Pe.createView({label:"depthbufferview",aspect:"depth-only"})}]}));this.qA=a;this.oA=b}QS(a,b){qi(this,131072)&&(this.Gb(16777216,!1),this.ws(a,b))}NS(){qi(this,131072)&&
(this.Gb(16777216,!0),this.ws(this.O,this.P))}tm(a){ei.yj(this.ut,a)||(ei.Ca(this.ut,a),vi(this))}tE(){this.tm(ug(this.xb))}ls(a){ei.yj(this.Mw,a)||(ei.Ca(this.Mw,a),vi(this))}JS(){this.Gb(134217728,!1)}BD(){return qi(this,134217728)}xu(a,b){if(a&&!lj(a)){var d=a.width||a.videoWidth;const c=a.height||a.videoHeight,e=di.Lh(d,c);e.getContext("2d").drawImage(a,0,0,d,c);a=e}this.ff();oi&&pi(`Creating texture ${a?a.width:b.width} x ${a?a.height:b.height}`);d=di.A(di.T.xz,this);d.Az(a,b);return d}async xy(a,
b){if(lj(a))return this.xu(a,b);if(!di.wb.ImageBitmapOptions)throw Error("no support for ImageBitmapOptions");a=await createImageBitmap(a,{premultiplyAlpha:"premultiply"});return this.xu(a,b)}Ep(a){var b=a.Xl||"clamp-to-edge";const d=a.Yl||"clamp-to-edge",c=a.Zb;a=a.Ux||0;"trilinear"!==c&&(a=0);const e=`${b},${d},${c},${a}`;let g=this.AO.get(e);if(g)return g;b={addressModeU:b,addressModeV:d,magFilter:"nearest",minFilter:"nearest",mipmapFilter:"nearest"};if("bilinear"===c||"trilinear"===c)b.magFilter=
"linear",b.minFilter="linear";"trilinear"===c&&(b.mipmapFilter="linear",1<a&&(b.maxAnisotropy=a));g=this.lf.createSampler(b);this.AO.set(e,g);return g}aL(){return this.SN}lp(a,b,d){this.ff();const c=di.A(di.T.xz,this);c.YK(a,b,d);return c}vz(a,b){return b.QE(a)}Wg(a){a&&(pg(a),0<a.Nc||(this.ff(),this.Cf===a&&this.Ud(null),this.Kv===a&&Ci(this,null),a.ss()))}xs(a,b){b?this.YE.add(a):this.YE.delete(a)}$u(){oi&&pi("================== START FRAME ===================");this.ux=this.pH.getCurrentTexture();
this.tx=this.ux.createView({label:"swapchaintextureview"});var a=this.Wj.Jb();const b=a.U,d=b.zg();a.Ua=b.ux;a.Uq=b.tx;b.WL&&(a.sv=d.createBindGroup({layout:b.Vz,entries:[{binding:0,resource:a.QB},{binding:1,resource:a.Uq}]}))}mp(){null===this.Ks&&this.Wj.wl&&Ei(this);super.mp();var a=this.Df;if(0===a%30){var b=this.Zj;for(const [d,c]of b.Fs.entries()){let e=0;for(let g=0,k=c.length;g<k;++g){const l=c[g];l.JV<=a-25?(l.Hj(),l.j()):(c[e]=l,++e)}0===e?b.Fs.delete(d):mj.lg(c,e)}}a=this.Wj.Jb();a.Ua=null;
a.Uq=null;this.tx=this.ux=a.sv=null;oi&&pi("End of frame");10<=this.Df&&(oi=!1)}ff(a=!1){Hi(this);if(this.sl&&a){var b=this.sl,d=this.ak;d.resolveQuerySet(b.sH,0,b.Yw,b.AH,0);d.copyBufferToBuffer(b.AH,0,b.MB,0,8*b.Yw);this.F|=16384}0!==(this.F&16384)&&(this.eA.push(this.ak.finish()),Bi(this));if(0!==this.eA.length){oi&&pi("Ending batch");this.sL();oi&&pi(`Submitting ${this.eA.length} commands`);this.lf.queue.submit(this.eA);di.D(this.eA);b=this.Zj;for(const c of b.wH)nj(c);mj.D(b.wH);for(const c of b.vO)c.Hj(),
c.j();mj.D(b.vO);for(const c of b.BF)c.destroy();mj.D(b.BF);this.sl&&a&&(oj(this.sl),this.sl=null)}}sL(){const a=this.lf.queue;if(0<this.Vm){const b=this.Vm;oi&&pi("Writing vertex buffers");a.writeBuffer(this.Uo,0,this.yi.buffer,0,48*b);a.writeBuffer(this.Io,0,this.Og.buffer,0,48*b);a.writeBuffer(this.lF,0,this.Up.buffer,0,16*b);this.Vm=0}0<this.Hq&&(oi&&pi("Writing point buffer"),a.writeBuffer(this.Bo,0,this.Uw.buffer,0,4*this.Hq),this.Hq=0)}dR(a){let b=this.O,d=this.P,c=!0;a&&("number"===typeof a.width&&
(b=Math.floor(a.width),c=!1),"number"===typeof a.height&&(d=Math.floor(a.height),c=!1));if(0>=b||0>=d)throw Error("invalid size");this.ff();const e=di.A(di.T.TK,this);e.Az(b,d,Object.assign({WC:c},a));return e}hf(a,b=!0){null===a&&(a=this.Wj);this.xb!==a&&(Hi(this),this.xb=a,this.Gb(524288,a.Wc),a.no&&!a.nq&&a.Hz(this.O,this.P),b&&this.tE())}Tr(){}Ej(){return this.xb===this.Wj?null:this.xb}Hu(a){return null===a?[this.O,this.P]:[a.L(),a.K()]}fR(a){this.ff();this.xb===a&&this.hf(null);const b=a.Jb();
this.Cf===b&&this.Ud(null);this.Kv===b&&Ci(this,null);a.ss()}Sf(a){0!==(this.F&131072)&&(a=!!a,0!==(this.F&262144)!==a&&(0!==(this.F&524288)&&Hi(this),this.Gb(262144,a)))}bz(){return qi(this,262144)}Vu(a){if(this.Bm){if(a&&this.bz())throw Error("depth still enabled");a=a?this.lM:this.fH;this.kA!==a&&(Di(this),this.kA=a,this.F|=256)}}pe(a){Hi(this);this.xb.wl=!0;this.xb.Hs.set(a)}Bj(a,b,d,c){Hi(this);this.xb.wl=!0;Sb(this.xb.Hs,a,b,d,c)}$Q(){655360===(this.F&655360)&&(Hi(this),this.F|=1048576)}XS(a,
b,d,c){a=Math.floor(a);b=Math.floor(b);d=Math.floor(d);c=Math.floor(c);0!==(this.F&4)&&hc(this.CH,a,b,d,c)||(Di(this),this.F|=12,gc(this.CH,a,b,d,c))}mK(){0!==(this.F&4)&&(Di(this),this.F&=-5,this.F|=8)}$k(a){this.Mv!==a&&(Di(this),this.Mv=a,this.Gg=null,this.F|=32,a=a===this.Lt,a=!!a,0!==(this.F&65536)!==a&&(this.Gb(65536,a),Vi(this,null===this.Cf?this.zo:this.Cf)))}Ud(a){a!==this.Cf&&(this.Cf=a,null===a&&(a=this.zo),Vi(this,a))}te(a){a!==this.rF&&(Di(this),this.rF=a,this.Gg=null,this.F|=32)}nz(){this.te(0)}ks(){this.te(3)}wg(a,
b,d,c){const e=this.Dm;Yb(e,a,b,d,c)||(Sb(e,a,b,d,c),this.Gg=null)}Vh(a){const b=this.Dm;b.Oa!==a&&(Wb(b,a),this.Gg=null)}bd(){return this.Dm.Oa}rm(a){const b=this.Dm;b.Wd(a)||(b.set(a),this.Gg=null)}Rect(a){this.pE(a.ca,a.aa,a.la,a.ka)}pE(a,b,d,c){this.hK(a,b,d,b,d,c,a,c)}ed(a){this.nE(a,ji)}hK(a,b,d,c,e,g,k,l){Ji(this);const n=this.yi,p=this.Vm++;let r=12*p;const u=this.Cg+this.ll;n[r++]=a;n[r++]=b;n[r++]=u;n[r++]=d;n[r++]=c;n[r++]=u;n[r++]=e;n[r++]=g;n[r++]=u;n[r++]=k;n[r++]=l;n[r]=u;rc(ji,this.Og,
12*p,this.ao);this.Dm.Fd(this.Up,4*p)}Yk(a,b){Ji(this);const d=this.Vm++;rc(a,this.yi,12*d,this.Cg+this.ll);jc(b,this.Og,12*d,this.ao);this.Dm.Fd(this.Up,4*d)}nE(a,b){Ji(this);const d=this.Vm++;rc(a,this.yi,12*d,this.Cg+this.ll);rc(b,this.Og,12*d,this.ao);this.Dm.Fd(this.Up,4*d)}xS(a,b,d,c,e,g,k,l,n,p,r,u,x){Ji(this);const y=this.yi,A=this.Vm++;let D=12*A;const F=this.Cg+this.ll;y[D++]=a;y[D++]=b;y[D++]=F+d;y[D++]=c;y[D++]=e;y[D++]=F+g;y[D++]=k;y[D++]=l;y[D++]=F+n;y[D++]=p;y[D++]=r;y[D]=F+u;jc(x,
this.Og,12*A,this.ao);this.Dm.Fd(this.Up,4*A)}$r(a,b,d,c,e,g,k,l,n,p,r,u,x){Ji(this);const y=this.yi,A=this.Vm++;let D=12*A;const F=this.Cg+this.ll;y[D++]=a;y[D++]=b;y[D++]=F+d;y[D++]=c;y[D++]=e;y[D++]=F+g;y[D++]=k;y[D++]=l;y[D++]=F+n;y[D++]=p;y[D++]=r;y[D]=F+u;rc(x,this.Og,12*A,this.ao);this.Dm.Fd(this.Up,4*A)}YS(a,b,d,c,e,g,k){a=this.EM;b=this.IA;ki.set(d,c);ki.PC(b,a.KX.offset/4)||(d=a.KX,ki.Fd(this.IA,d.offset/4),Qi(this,d));b[a.MI.offset/4]!==Math.fround(e)&&(b[a.MI.offset/4]=e,Qi(this,a.MI));
ki.set(g,k);ki.PC(b,a.LX.offset/4)||(e=a.LX,ki.Fd(this.IA,e.offset/4),Qi(this,e))}AE(a,b,d,c,e,g,k,l,n,p,r){g=this.zM;k=this.Mv;r%=10800;k.$z&&Ci(this,a);k.tW&&(Ui(this,b,g.U5),Ui(this,d,g.GX),Ui(this,c,g.l7),Ui(this,e,g.bu));Si(this,l,g.devicePixelRatio);Si(this,n,g.YC);Si(this,p,g.XC);Si(this,r,g.UI);Si(this,this.zq,g.B7);Si(this,this.fq,g.A7)}zE(a){a&&(a.tG&&(Hi(this),Fi(a.Ba().Zj,this.ak,a.Ne,a.IL,0,a.TL),a.tG=!1),Yi(this,a.SL))}wJ(a){a.wl?(this.xb.wl=!0,this.xb.Hs.set(a.Hs)):2<=a.Xe&&2>this.xb.Xe?
(Oi(this,a),Hi(this),this.ak.beginRenderPass({colorAttachments:[{view:a.Jb().Gp(),resolveTarget:this.xb.Jb().Gp(),loadOp:"load",storeOp:"store"}]}).end(),this.F|=16384):(this.Bj(0,0,0,0),this.ks(),Yh(this),this.zu(a))}zu(a){Oi(this,a);a=a.Jb();this.Ud(a);this.Ey()}Ey(){const a=qi(this,67108864);a||Xi(this,!0);If(this,0);ni.set(0,-1,0,-1,2,1,0,1);mi.set(0,-1,2,1);this.Yk(ni,mi);a||Xi(this,!1)}uJ(){Hi(this);this.Sf(!0);this.F|=10485760}yD(){Hi(this);this.Sf(!1);this.F&=-2097153;this.F|=4194304}LR(){return qi(this,
4194304)}xD(){Hi(this);this.Sf(!0);this.F&=-4194305}eL(){Hf(this,[["normal","one","one-minus-src-alpha"],["additive","one","one"],["xor","one","one-minus-src-alpha"],["copy","one","zero"],["destination-over","one-minus-dst-alpha","one"],["source-in","dst-alpha","zero"],["destination-in","zero","src-alpha"],["source-out","one-minus-dst-alpha","zero"],["destination-out","zero","one-minus-src-alpha"],["source-atop","dst-alpha","one-minus-src-alpha"],["destination-atop","one-minus-dst-alpha","src-alpha"]])}};
"use strict";const mj=self.B;function Fi(a,b,d,c,e,g){var k=Math.max(mj.eu(g),16);var l=a.Fs.get(k);if("undefined"!==typeof l&&0<l.length){var n=l.pop();0===l.length&&a.Fs.delete(k);k=n}else k=mj.A(mj.T.C2,a,k);l=k.Ne;n=l.getMappedRange(0,g);(new Uint8Array(n)).set(new Uint8Array(c,e,g));l.unmap();b.copyBufferToBuffer(l,0,d,e,g);a.wH.push(k)}mj.T.A2=class{constructor(a){this.U=a;this.Fs=new Map;this.wH=[];this.vO=[];this.BF=[]}Ba(){return this.U}ge(){this.Fs.clear();mj.D(this.wH);mj.D(this.vO);mj.D(this.BF)}};
"use strict";const pj=self.GPUBufferUsage,qj=self.GPUMapMode;async function nj(a){try{await a.Ne.mapAsync(qj.WRITE)}catch(d){console.warn("[WebGPU] Error recycling buffer, assuming device was lost: ",d);return}if(!a.Ba().Fn()){a.JV=a.Ba().Df;var b=a.Zj;const d=a.Hj(),c=b.Fs.get(d);"undefined"===typeof c?b.Fs.set(d,[a]):c.push(a)}}
self.B.T.C2=class{constructor(a,b){this.Zj=a;this.Qq=b;this.Ne=this.Ba().zg().createBuffer({mappedAtCreation:!0,size:b,usage:pj.COPY_SRC|pj.MAP_WRITE});this.JV=0}Ba(){return this.Zj.Ba()}Hj(){return this.Qq}j(){this.Ne.destroy();this.Zj=this.Ne=null}};"use strict";const rj=self.GPUBufferUsage;
function sj(a,b,d){var c=a.Zc.Ha[b];b=c.type;const e=c.offset/4;c=a.gU;if("color"===b){if(c[e]!==Math.fround(d.eb)||c[e+1]!==Math.fround(d.kb)||c[e+2]!==Math.fround(d.bb))b=e,c[b++]=d.eb,c[b++]=d.kb,c[b]=d.bb,a.tG=!0}else if("float"===b||"percent"===b)c[e]!==Math.fround(d)&&(c[e]=d,a.tG=!0);else throw Error(`unexpected shader param type '${b}'`);}
self.B.T.lT=class{constructor(a){const b=a.Ba();this.Zc=a;this.TL=a.sF;this.IL=new ArrayBuffer(this.TL);this.gU=new Float32Array(this.IL);this.tG=!1;this.Ne=b.zg().createBuffer({size:this.TL,usage:rj.UNIFORM|rj.COPY_DST});this.SL=zi(b,this.Ne)}j(){var a=this.Ba();a.Lv===this.SL&&Yi(a,a.uF);this.Ba().Zj.BF.push(this.Ne);this.SL=this.gU=this.IL=this.Zc=this.Ne=null}Ba(){return this.Zc.Ba()}gf(){return this.Zc}};"use strict";const tj=self.B;
function uj(a){for(const b of Object.values(a))b.end=b.offset+b.size}function Mi(){const a=[];for(let b=0;55>b;++b)a.push(null);return a}const $i={transform:{offset:0,size:64,end:0},Y6:{offset:64,size:16,end:0},Pma:{offset:64,size:8,end:0},Oma:{offset:72,size:8,end:0},Zl:{offset:80,size:4,end:0}};uj($i);
const aj=$i.Zl.end,bj={I5:{offset:0,size:16,end:0},X6:{offset:16,size:16,end:0},KX:{offset:32,size:8,end:0},LX:{offset:40,size:8,end:0},GX:{offset:48,size:16,end:0},Jna:{offset:48,size:8,end:0},Ina:{offset:56,size:8,end:0},Mma:{offset:64,size:8,end:0},MI:{offset:72,size:4,end:0}};uj(bj);
const cj=bj.MI.end,vj="srcStart srcEnd srcOriginStart srcOriginEnd c3_srcToNorm c3_normToSrc c3_clampToSrc c3_srcOriginToNorm c3_normToSrcOrigin c3_clampToSrcOrigin c3_getLayoutPos c3_srcToDest".split(" "),wj=["layoutStart","layoutEnd","destStart","destEnd","c3_clampToDest"],dj={GX:{offset:0,size:16,end:0},Kna:{offset:0,size:8,end:0},Fna:{offset:8,size:8,end:0},l7:{offset:16,size:16,end:0},Hna:{offset:16,size:8,end:0},Gna:{offset:24,size:8,end:0},bu:{offset:32,size:16,end:0},ima:{offset:32,size:8,
end:0},hma:{offset:40,size:8,end:0},U5:{offset:48,size:16,end:0},Vka:{offset:48,size:8,end:0},Uka:{offset:56,size:8,end:0},devicePixelRatio:{offset:64,size:4,end:0},YC:{offset:68,size:4,end:0},XC:{offset:72,size:4,end:0},UI:{offset:76,size:4,end:0},B7:{offset:80,size:4,end:0},A7:{offset:84,size:4,end:0},$P:{offset:88,size:4,end:0}};uj(dj);const ej=dj.$P.end,xj=new Map([["float",4],["percent",4],["color",12]]),yj=new Map([["float",4],["percent",4],["color",16]]);
function fj(a,b,d){for(const c of d.messages)d=`[WebGPU] Message (${c.type}) compiling ${b} shader '${a}': ${c.message} (line ${c.lineNum}, pos ${c.linePos})`,"error"===c.type?console.error(d):"warning"===c.type?console.warn(d):console.log(d)}function gj(a){return`
		@binding(0) @group(1) var sampler0 : sampler;
		@binding(1) @group(1) var texture0 : texture_2d<f32>;
		@binding(2) @group(1) var sampler1 : sampler;
		@binding(3) @group(1) var texture1 : texture_2d<f32>;
		@binding(4) @group(1) var sampler2 : sampler;
		@binding(5) @group(1) var texture2 : texture_2d<f32>;
		@binding(6) @group(1) var sampler3 : sampler;
		@binding(7) @group(1) var texture3 : texture_2d<f32>;
		@binding(8) @group(1) var sampler4 : sampler;
		@binding(9) @group(1) var texture4 : texture_2d<f32>;
		@binding(10) @group(1) var sampler5 : sampler;
		@binding(11) @group(1) var texture5 : texture_2d<f32>;
		@binding(12) @group(1) var sampler6 : sampler;
		@binding(13) @group(1) var texture6 : texture_2d<f32>;
		@binding(14) @group(1) var sampler7 : sampler;
		@binding(15) @group(1) var texture7 : texture_2d<f32>;
		@binding(16) @group(1) var sampler8 : sampler;
		@binding(17) @group(1) var texture8 : texture_2d<f32>;
		@binding(18) @group(1) var sampler9 : sampler;
		@binding(19) @group(1) var texture9 : texture_2d<f32>;
		@binding(20) @group(1) var sampler10 : sampler;
		@binding(21) @group(1) var texture10 : texture_2d<f32>;
		@binding(22) @group(1) var sampler11 : sampler;
		@binding(23) @group(1) var texture11 : texture_2d<f32>;
		@binding(24) @group(1) var sampler12 : sampler;
		@binding(25) @group(1) var texture12 : texture_2d<f32>;
		@binding(26) @group(1) var sampler13 : sampler;
		@binding(27) @group(1) var texture13 : texture_2d<f32>;

		struct FragmentInput {
			@location(0) fragUV : vec3<f32>,
			@location(1) fragColor : vec4<f32>,
			@builtin(position) fragPos: vec4<f32>
		};

		struct FragmentOutput {
			@location(0) color : vec4<f32>,
			${a?"@builtin(frag_depth) fragDepth: f32":""} 
		};

		@fragment
		fn main(input : FragmentInput) -> FragmentOutput {
			var output : FragmentOutput;
			var texXy : vec2<f32> = input.fragUV.xy;
			var texIndex : f32 = input.fragUV.z;
			var c : vec4<f32>;

			let dx = dpdx(texXy);
			let dy = dpdy(texXy);
			
			if (texIndex < 6.5)
			{
				if (texIndex < 2.5)
				{
					if (texIndex < 0.5)			{	c = textureSampleGrad(texture0, sampler0, texXy, dx, dy);	}
					else
					{
						if (texIndex < 1.5)		{	c = textureSampleGrad(texture1, sampler1, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture2, sampler2, texXy, dx, dy);	}
					}						
				}
				else
				{
					if (texIndex < 4.5)
					{
						if (texIndex < 3.5)		{	c = textureSampleGrad(texture3, sampler3, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture4, sampler4, texXy, dx, dy);	}
					}
					else
					{
						if (texIndex < 5.5)		{	c = textureSampleGrad(texture5, sampler5, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture6, sampler6, texXy, dx, dy);	}
					}
				}
			}
			else
			{
				if (texIndex < 9.5)
				{
					if (texIndex < 7.5)			{	c = textureSampleGrad(texture7, sampler7, texXy, dx, dy);	}
					else
					{
						if (texIndex < 8.5)		{	c = textureSampleGrad(texture8, sampler8, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture9, sampler9, texXy, dx, dy);	}
					}						
				}
				else
				{
					if (texIndex < 11.5)
					{
						if (texIndex < 10.5)	{	c = textureSampleGrad(texture10, sampler10, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture11, sampler11, texXy, dx, dy);	}
					}
					else
					{
						if (texIndex < 12.5)	{	c = textureSampleGrad(texture12, sampler12, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture13, sampler13, texXy, dx, dy);	}
					}
				}
			}

			output.color = c * input.fragColor;
			${a?"output.fragDepth = select(input.fragPos.z, 1.0, output.color.a == 0.0);":""}
			return output;
		}`}function hj(a){return`
		${"\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n"}

		%%SAMPLERFRONT_BINDING%% var sampler0 : sampler;
		%%TEXTUREFRONT_BINDING%% var texture0 : texture_2d<f32>;

		struct FragmentInput {
			@location(0) fragUV : vec2<f32>,
			@location(1) pointOpacity : f32,
			@builtin(position) fragPos : vec4<f32>
		};
		
		struct FragmentOutput {
			@location(0) color : vec4<f32>,
			${a?"@builtin(frag_depth) fragDepth: f32":""} 
		};

		@fragment
		fn main(input : FragmentInput) -> FragmentOutput {
			var output : FragmentOutput;
			output.color = textureSample(texture0, sampler0, input.fragUV) * uniforms.pointColor * input.pointOpacity;
			${a?"output.fragDepth = select(input.fragPos.z, 1.0, output.color.a == 0.0);":""}
			return output;
		}`}function ij(a){return`
		${"\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n"}

		%%SAMPLERFRONT_BINDING%% var sampler0 : sampler;
		%%TEXTUREFRONT_BINDING%% var texture0 : texture_2d<f32>;

		%%FRAGMENTINPUT_STRUCT%%
		
		struct FragmentOutput {
			@location(0) color : vec4<f32>,
			${a?"@builtin(frag_depth) fragDepth: f32":""} 
		};

		@fragment
		fn main(input : FragmentInput) -> FragmentOutput {
			var output : FragmentOutput;
			var halfPixelSize : vec2<f32> = vec2<f32>(0.5, 0.5) / vec2<f32>(textureDimensions(texture0));

			var tile : vec2<f32> = floor(input.fragUV);
			var tex : vec2<f32> = fract(input.fragUV);
			var tileOrigin : vec2<f32> = uniforms.srcRectStart + tile * (uniforms.tileSize + uniforms.tileSpacing);
			var lowerBound : vec2<f32> = tileOrigin + halfPixelSize;
			var upperBound : vec2<f32> = tileOrigin + uniforms.tileSize - halfPixelSize;

			output.color = textureSampleLevel(texture0, sampler0, clamp(tex, lowerBound, upperBound), 0.0) * input.fragColor;
			${a?"output.fragDepth = select(input.fragPos.z, 1.0, output.color.a == 0.0);":""}
			return output;
		}`}function zj(a,b){return a.zg().createRenderPipelineAsync(Li(a,0,b,0))}
function Li(a,b,d,c){const [e,g]=a.U.cF[b];b={label:`${a.oa()} blendMode ${b} variant ${d} multisampleCount ${c}`,layout:a.cL(),vertex:{module:4===d?a.xt:a.eP,entryPoint:"main",buffers:[{arrayStride:12,attributes:[{shaderLocation:0,offset:0,format:"float32x3"}]},{arrayStride:12,attributes:[{shaderLocation:1,offset:0,format:"float32x3"}]}]},fragment:{module:a.Zv,entryPoint:"main",targets:[{format:a.U.an,blend:{color:{srcFactor:e,dstFactor:g},alpha:{srcFactor:e,dstFactor:g}}}]}};2<=c&&(b.multisample=
{count:c});1===d?(b.fragment.module=a.VF||a.Zv,b.depthStencil={format:Ai(),depthWriteEnabled:!0,depthCompare:"less-equal"}):2===d?(b.fragment.module=a.VF||a.Zv,b.fragment.targets=[],a={compare:"always",failOp:"keep",depthFailOp:"keep",passOp:"replace"},b.depthStencil={format:Ai(),depthWriteEnabled:!0,depthCompare:"less-equal",stencilFront:a,stencilBack:a,stencilReadMask:1,stencilWriteMask:1}):3===d&&(b.fragment.module=a.VF||a.Zv,a={compare:"equal",failOp:"keep",depthFailOp:"keep",passOp:"keep"},b.depthStencil=
{format:Ai(),depthWriteEnabled:!1,depthCompare:"always",stencilFront:a,stencilBack:a,stencilReadMask:1,stencilWriteMask:0});return b}
tj.T.HE=class extends tj.T.ZS{constructor(a,b){super(a,b);this.Zv=b.d6;this.VF=b.e6;this.eP=b.x7;this.xt=b.P6;this.hx=Mi();this.VN=new Map;this.TN=new Map;this.wW=this.tW=!1;this.Ha=[];this.sF=0;if(b.parameters){a=0;for(const d of b.parameters){b=d[2];if(!xj.has(b))throw Error(`unrecognized effect param type '${b}'`);const c=xj.get(b),e=yj.get(b),g=a%e;0!==g&&(a+=e-g);this.Ha.push({type:b,offset:a,size:c,end:a+c});a+=c}this.sF=16*Math.ceil(a/16)}}static async Ea(a,b){var d=a.zg();const c=b.name,e=
b.src;var g=tj.dT(e);g=d.createShaderModule({label:c,code:g});var k=null;b.hD&&(k=tj.dT(b.hD),k=d.createShaderModule({label:c,code:k}));g.getCompilationInfo().then(p=>fj(c,"fragment",p));var l;(l=b.tu)?(l=d.createShaderModule({label:c,code:l}),l.getCompilationInfo().then(p=>fj(c,"vertex",p))):l=a.xF;const n=b.Q6;n?(d=d.createShaderModule({label:c,code:n}),d.getCompilationInfo().then(p=>fj(c,"vertex (norm)",p))):d=a.xt;b=tj.A(tj.T.HE,a,Object.assign({d6:g,e6:k,x7:l,P6:d},b));b.BC=e.includes("%%C3PARAMS_STRUCT%%")&&
vj.some(p=>e.includes(p));b.tW=b.BC||e.includes("%%C3PARAMS_STRUCT%%")&&wj.some(p=>e.includes(p));b.wW=e.includes("%%C3PARAMS_STRUCT%%")&&e.includes("isSrcTexRotated");if("<generate-mipmap>"!==c){d=zj(b,0);g=null;qi(a,131072)&&(g=zj(b,1));const [p,r]=await Promise.all([d,g]);b.hx[0]=p;r&&(b.hx[1]=r)}return b}j(){this.xt=this.eP=this.VF=this.Zv=null;for(let a=0,b=this.hx.length;a<b;++a)this.hx[a]=null;this.VN.clear();this.TN.clear();super.j()}zg(){return this.U.zg()}cL(){return this.U.cL()}Ba(){return this.U}hT(){return this.wW}AR(){return this.Ha.length}Qy(a){return 0>
a||a>=this.Ha.length?null:this.Ha[a].type}static Du(){return"\n\t\t\nstruct Uniforms {\n\ttransform\t\t: mat4x4<f32>,\n\tpointTexStart\t: vec2<f32>,\n\tpointTexEnd\t\t: vec2<f32>,\n\tzElevation\t\t: f32\n};\n@binding(0) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\tstruct ColorData {\n\t\t\tdata : array<vec4<f32>>\n\t\t};\n\t\t@binding(2) @group(0) var<storage> colorBuffer : ColorData;\n\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32,\n\t\t\t@location(0) position : vec3<f32>,\n\t\t\t@location(1) uv : vec3<f32>\n\t\t};\n\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec2<f32>,\n\t\t\t@location(1) fragColor : vec4<f32>\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\t\t\tvar output : VertexOutput;\n\t\t\toutput.Position = uniforms.transform * vec4<f32>(input.position, 1.0);\n\t\t\toutput.fragUV = input.uv.xy;\n\t\t\toutput.fragColor = colorBuffer.data[input.VertexIndex / u32(4)];\n\t\t\treturn output;\n\t\t}"}aL(){var a;
a||(a=this.U.OO);let b=this.TN.get(a);b||(b=this.zg().createRenderPipeline({label:"<mipmap generator>",layout:"auto",vertex:{module:this.eP,entryPoint:"main"},primitive:{topology:"triangle-strip",stripIndexFormat:"uint16"},fragment:{module:this.Zv,entryPoint:"main",targets:[{format:a,blend:{color:{srcFactor:"one",dstFactor:"zero"},alpha:{srcFactor:"one",dstFactor:"zero"}}}]}}),this.TN.set(a,b));return b}static WD(a){return`
${"\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n"}

%%SAMPLERFRONT_BINDING%% var sampler0 : sampler;
%%TEXTUREFRONT_BINDING%% var texture0 : texture_2d<f32>;

%%FRAGMENTINPUT_STRUCT%%

struct FragmentOutput {
	@location(0) color : vec4<f32>,
	${a?"@builtin(frag_depth) fragDepth: f32":""} 
};

%%C3_UTILITY_FUNCTIONS%%

const PI : f32 = 3.1415926;

fn cospVec4(a : vec4<f32>, b : vec4<f32>, x : f32) -> vec4<f32>
{
	return (a + b + (a - b) * cos(x * PI)) / 2.0;
}

fn randVec3(seed : vec2<f32>) -> vec3<f32>
{
	return vec3<f32>(
		fract(sin(dot(seed.xy, vec2<f32>(12.9898,78.233))) * 43758.5453),
		fract(sin(dot(seed.yx, vec2<f32>(12.9898,-78.233))) * 43758.5453),
		fract(sin(dot(seed.xy, vec2<f32>(-12.9898,-78.233))) * 43758.5453));
}

fn sampleTile(tile : vec2<f32>, uv : vec2<f32>, ddx : vec2<f32>, ddy : vec2<f32>) -> vec4<f32>
{
	var posRandom = uniforms.tileSize;
	var angleRandom = uniforms.outlineThickness;
	var pixelSize = c3_getPixelSize(texture0);
	
	var rand = (randVec3(round(tile)) - 0.5) * 2.0;
	
	var angle = angleRandom * rand.z * PI;
	var sin_a = sin(angle);
	var cos_a = cos(angle);
	var aspect = pixelSize.x / pixelSize.y;

	var mid = tile + vec2<f32>(0.5, 0.5);
	var dp = uv - mid;
	dp.x /= aspect;
	var r = vec2<f32>(dp.x * cos_a - dp.y * sin_a,
					  dp.y * cos_a + dp.x * sin_a);
	r.x *= aspect;

	var p = mid + r + (posRandom * rand.xy / 2.0);
	
	return textureSampleGrad(texture0, sampler0, p, ddx, ddy);
}

@fragment
fn main(input : FragmentInput) -> FragmentOutput
{
	var output : FragmentOutput;
	
	var blendMarginX = uniforms.tileSpacing.x;
	var blendMarginY = uniforms.tileSpacing.y;
	
	var tile = floor(input.fragUV);
	var tex = fract(input.fragUV);
	var ddx = dpdx(input.fragUV);
	var ddy = dpdy(input.fragUV);
	
	var curTile = sampleTile(tile, input.fragUV, ddx, ddy);
	
	var inLeftMargin = (tex.x < blendMarginX);
	var inRightMargin = (tex.x > 1.0 - blendMarginX);
	var inTopMargin = (tex.y < blendMarginY);
	var inBottomMargin = (tex.y > 1.0 - blendMarginY);
	
	if (inLeftMargin)
	{
		var leftTile = sampleTile(tile + vec2<f32>(-1.0, 0.0), input.fragUV, ddx, ddy);
		var leftMix = (tex.x / (blendMarginX * 2.0)) + 0.5;
		var leftMixedTile = cospVec4(leftTile, curTile, leftMix);
		
		if (inTopMargin)
		{
			var topTile =     sampleTile(tile + vec2<f32>(0.0,  -1.0), input.fragUV, ddx, ddy);
			var topLeftTile = sampleTile(tile + vec2<f32>(-1.0, -1.0), input.fragUV, ddx, ddy);
			var topLeftMixedTile = cospVec4(topLeftTile, topTile, leftMix);
			
			output.color = cospVec4(topLeftMixedTile, leftMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			var bottomTile =     sampleTile(tile + vec2<f32>(0.0,  1.0), input.fragUV, ddx, ddy);
			var bottomLeftTile = sampleTile(tile + vec2<f32>(-1.0, 1.0), input.fragUV, ddx, ddy);
			var bottomLeftMixedTile = cospVec4(bottomLeftTile, bottomTile, leftMix);
			
			output.color = cospVec4(leftMixedTile, bottomLeftMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			output.color = leftMixedTile;
		}
	}
	else if (inRightMargin)
	{
		var rightTile = sampleTile(tile + vec2(1.0, 0.0), input.fragUV, ddx, ddy);
		var rightMix = (tex.x - (1.0 - blendMarginX)) / (blendMarginX * 2.0);
		var rightMixedTile = cospVec4(curTile, rightTile, rightMix);
		
		if (inTopMargin)
		{
			var topTile =      sampleTile(tile + vec2<f32>(0.0, -1.0), input.fragUV, ddx, ddy);
			var topRightTile = sampleTile(tile + vec2<f32>(1.0, -1.0), input.fragUV, ddx, ddy);
			var topRightMixedTile = cospVec4(topTile, topRightTile, rightMix);
			
			output.color = cospVec4(topRightMixedTile, rightMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			var bottomTile =      sampleTile(tile + vec2<f32>(0.0, 1.0), input.fragUV, ddx, ddy);
			var bottomRightTile = sampleTile(tile + vec2<f32>(1.0, 1.0), input.fragUV, ddx, ddy);
			var bottomRightMixedTile = cospVec4(bottomTile, bottomRightTile, rightMix);
			
			output.color = cospVec4(rightMixedTile, bottomRightMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			output.color = rightMixedTile;
		}
	}
	else if (inTopMargin)
	{
		var topTile = sampleTile(tile + vec2<f32>(0.0, -1.0), input.fragUV, ddx, ddy);
		output.color = cospVec4(topTile, curTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
	}
	else if (inBottomMargin)
	{
		var bottomTile = sampleTile(tile + vec2<f32>(0.0, 1.0), input.fragUV, ddx, ddy);
		output.color = cospVec4(curTile, bottomTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
	}
	else
	{
		output.color = curTile;
	}
	
	output.color *= input.fragColor;
	${a?"output.fragDepth = select(input.fragPos.z, 1.0, output.color.a == 0.0);":""}
	return output;
}
`}};"use strict";
const Bj=self.B,Cj=new Set(["nearest","bilinear","trilinear"]),Dj=new Set(["clamp-to-edge","repeat","mirror-repeat"]),Ej=self.GPUTextureUsage,Fj={Xl:"clamp-to-edge",Yl:"clamp-to-edge",Zb:"trilinear",Ux:0,ep:!0,ZP:!1,Mk:!1,kr:!1,rI:!1,iy:0,width:-1,height:-1},Gj=[[1,["r8unorm","r8snorm","r8uint","r8sint","stencil8"]],[2,"r16uint r16sint r16float rg8unorm rg8snorm rg8uint rg8sint depth16unorm".split(" ")],[3,["depth24plus"]],[4,"r32uint r32sint r32float rg16uint rg16sint rg16float rgba8unorm rgba8unorm-srgb rgba8snorm rgba8uint rgba8sint bgra8unorm bgra8unorm-srgb rgb9e5ufloat rgb10a2uint rgb10a2unorm rg11b10ufloat depth24plus-stencil8 depth32float".split(" ")],[8,
"rg32uint rg32sint rg32float rgba16uint rgba16sint rgba16float".split(" ")],[16,["rgba32uint","rgba32sint","rgba32float"]],[5,["depth32float-stencil8"]]],Hj=new Map;for(const [a,b]of Gj)for(const d of b)Hj.set(d,a);const Ij=new Set,Jj={premultiplyAlpha:!0};function jj(a){a.cH=!1;a.xs(!1)}function kj(a,b,d){a.sj=b;a.gq=d}
function lj(a){return a instanceof ImageBitmap||"undefined"!==typeof HTMLVideoElement&&a instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!==typeof OffscreenCanvas&&a instanceof OffscreenCanvas}
function Kj(a){const b=a.U,d=b.zg();a.sj=0;a.qo?(a.sj=Ej.RENDER_ATTACHMENT,a.cj&&(a.sj|=Ej.TEXTURE_BINDING),a.OT&&(a.sj|=Ej.COPY_DST),a.gq=a.U.an):(a.sj=Ej.COPY_DST|Ej.TEXTURE_BINDING,a.gq=a.U.OO);a.VL&&(a.sj|=Ej.COPY_SRC);a.Ua=d.createTexture({size:[a.O,a.P,1],mipLevelCount:Lj(a),format:a.gq,usage:a.sj,sampleCount:2<=a.Xe?a.Xe:1});a.Uq=a.Ua.createView();const c=[];for(let e=0;14>e;++e)c.push({binding:2*e,resource:a.QB},{binding:2*e+1,resource:a.Uq});if(!a.qo||a.cj)a.Bq=d.createBindGroup({layout:b.nC,
entries:c}),a.sv=d.createBindGroup({layout:b.Vz,entries:[{binding:0,resource:a.U.Ep({Zb:"nearest"})},{binding:1,resource:a.Uq}]});a.Ue&&a.cH&&!a.qo&&a.xs(!0);Ij.add(a)}
function Mj(a,b){a.tj=b.Xl;a.uj=b.Yl;a.Ob=b.Zb;a.Cs=b.Ux;a.ni=!!b.ep&&a.U.Qs&&"nearest"!==b.Zb;a.qo=!!b.ZP;a.cj=!!b.Mk;a.VL=!!b.kr;a.OT=!!b.rI;a.Xe=2<=b.iy?4:1;if(!Cj.has(a.Ob))throw Error("invalid sampling");if(!Dj.has(a.tj)||!Dj.has(a.uj))throw Error("invalid wrap mode");if(2<=a.Xe&&a.cj)throw Error("invalid use of multisampling");"nearest"===a.Ob&&(a.Cs=0);a.QB=a.U.Ep({Xl:a.tj,Yl:a.uj,Zb:a.Ob,Ux:a.Cs});Kj(a);a.Nc=1}function Lj(a){return a.ni?Math.floor(Math.log2(Math.max(a.O,a.P))+1):1}
function Nj(a){Ij.delete(a);a.xo&&a.xo.j();a.xs(!1);a.Ua.destroy();a.Ua=null;a.Uq=null;a.Bq=null;a.sv=null}function Oj(a){return"undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement||a instanceof ImageData}
function Pj(a,b){if(a.ni){var d=Lj(a),c=a.U.zg(),e=c.createTexture({size:[a.O,a.P,1],mipLevelCount:Lj(a),format:a.gq,usage:Ej.COPY_DST|Ej.COPY_SRC|Ej.TEXTURE_BINDING|Ej.RENDER_ATTACHMENT});const k=a.U.aL(),l=k.getBindGroupLayout(0),n=a.U.Ep({Zb:"bilinear"}),p=c.createCommandEncoder();Qj(a,e,b);p.copyTextureToTexture({texture:e,mipLevel:0},{texture:a.Ua,mipLevel:0},[a.O,a.P,1]);b=[];for(var g=0;g<d;++g)b.push(e.createView({baseMipLevel:g,mipLevelCount:1}));g=a.O;let r=a.P;for(let u=1;u<d;++u){g/=2;
r/=2;const x=Math.max(Math.floor(g),1),y=Math.max(Math.floor(r),1),A=p.beginRenderPass({colorAttachments:[{view:b[u],loadOp:"clear",clearValue:[0,0,0,0],storeOp:"store"}]}),D=c.createBindGroup({layout:l,entries:[{binding:0,resource:n},{binding:1,resource:b[u-1]}]});A.setPipeline(k);A.setBindGroup(0,D);A.draw(4);A.end();p.copyTextureToTexture({texture:e,mipLevel:u},{texture:a.Ua,mipLevel:u},[x,y,1])}c.queue.submit([p.finish()]);e.destroy()}else d=a.U.zg(),c=d.createCommandEncoder(),e=d.createTexture({size:[a.O,
a.P,1],mipLevelCount:1,format:a.gq,usage:Ej.COPY_SRC|Ej.COPY_DST|Ej.RENDER_ATTACHMENT}),Qj(a,e,b),c.copyTextureToTexture({texture:e,mipLevel:0},{texture:a.Ua,mipLevel:0},[a.O,a.P,1]),d.queue.submit([c.finish()]),e.destroy()}function Qj(a,b,d){const [c,e]=[d.width||d.videoWidth,d.height||d.videoHeight];a.U.zg().queue.copyExternalImageToTexture({source:d},{texture:b,mipLevel:0,premultipliedAlpha:!0},[c,e,1])}
Bj.T.xz=class{constructor(a,b){this.U=a;this.Ua=null;this.gq="";this.sv=this.Bq=this.QB=this.Uq=null;this.P=this.O=0;this.Ue=!0;this.uj=this.tj="clamp-to-edge";this.Ob="trilinear";this.Cs=0;this.ni=!1;this.Nc=0;this.OT=this.VL=this.cj=this.qo=!1;this.sj=this.Xe=0;this.cH=!0;this.xo=null;this.UN=0;if(this.G4=!!b)this.gq=this.U.an,this.cj=this.qo=!0,this.QB=this.U.Ep({Zb:"nearest"})}Az(a,b){if(a&&!lj(a))throw new TypeError("invalid texture source");b=Object.assign({},Fj,b);if(this.Ua)throw Error("already created texture");
this.Ue=!0;if(a){const [d,c]=[a.width||a.videoWidth,a.height||a.videoHeight];this.O=d;this.P=c}else if(this.O=b.width,this.P=b.height,0>=this.O||0>=this.P)throw Error("invalid texture size");Mj(this,b);if(this.qo||this.cj)throw Error("static texture cannot be render target");a&&Pj(this,a)}YK(a,b,d){d=Object.assign({},Fj,d);if(this.Ua)throw Error("already created texture");this.Ue=!1;this.O=a;this.P=b;Mj(this,d)}async QE(a){if(!lj(a)&&!Oj(a))throw Error("invalid texture source");if(!this.Ua||0>=this.Nc)throw Error("texture not created");
if(this.Ue)throw Error("cannot update static texture");var b=Object.assign({},Jj,b);if(Oj(a)&&(a=await createImageBitmap(a,{premultiplyAlpha:b.premultiplyAlpha?"premultiply":"none"}),!this.Ua))return;this.U.ff();const [d,c]=[a.width||a.videoWidth,a.height||a.videoHeight];if(this.O!==d||this.P!==c)Nj(this),this.O=d,this.P=c,Kj(this),b=this.U,b.Cf===this&&(Di(b),b.Yp=this.Bq,b.F|=64);Pj(this,a)}ss(){if(0<this.Nc)throw Error("texture still has references");if(!this.Ua)throw Error("already deleted texture");
Nj(this)}xs(a){this.U.xs(this,a)}L(){return this.O}K(){return this.P}Ba(){return this.U}Gp(){return this.Uq}Ep(){return this.QB}Vr(){return"nearest"!==this.Ob}Nu(){return this.cj}tD(){return this.VL}My(){var a=this.L()*this.K();const b=Hj.get(this.gq);a*="number"===typeof b?b:NaN;this.ni&&(a+=Math.floor(a/3));return a}static ge(){}static qP(){return Ij.values()}};"use strict";const Rj=self.B;
function Sj(a){if(null!==a.Ow){var b=a.U;b.Yp===a.Ow&&(Di(b),b.Yp=(null===b.Cf?b.zo:b.Cf).Bq,b.ao=0,b.F|=64)}a.Ow=null}
Rj.T.B2=class{constructor(a,b){if(2>b.length)throw Error("invalid multi-texture group");this.U=a;this.SH=b;this.Ow=null;for(let c=0,e=b.length;c<e;++c){a=b[c];var d=c;if(a.xo)throw Error("already in a group");a.xo=this;a.UN=d;a.xs(!1)}14>b.length&&this.U.eH.add(this);Sj(this);b=this.U.zg();a=[];for(d=0;14>d;++d){const c=this.SH[Math.min(d,this.SH.length-1)];a.push({binding:2*d,resource:c.Ep()},{binding:2*d+1,resource:c.Gp()})}this.Ow=b.createBindGroup({layout:this.U.nC,entries:a})}j(){this.U.eH.delete(this);
for(const a of this.SH)a.xo=null,a.UN=0,a.Ue&&a.cH&&!a.qo&&a.xs(!0);Sj(this);Rj.D(this.SH);this.U=null}};"use strict";const Tj=self.B,Uj=self.Gi.Vl,Vj={Zb:"trilinear",alpha:!0,depth:!1,Mk:!0,kr:!1,rI:!1,WC:!0,iy:0},Wj=new Set;
Tj.T.TK=class{constructor(a,b){this.U=a;this.nq=!!b;this.Wc=b?qi(a,131072):!1;this.pf=null;this.no=!0;this.Xe=0;this.wl=!1;this.Hs=Tj.A(Tj.mb);this.uk=Uj.create();this.JG=this.NG=this.KG=0;this.nq&&(this.pf=Tj.A(Tj.T.xz,a,!0))}Az(a,b,d){d=Object.assign({},Vj,d);if(this.pf)throw Error("already created render target");this.Wc=!!d.depth;this.no=!!d.WC;this.Xe=2<=d.iy?4:1;if(2<=this.Xe&&d.Mk)throw Error("invalid use of multisampling");this.pf=this.U.lp(a,b,{Zb:d.Zb,ep:!1,ZP:!0,Mk:d.Mk,kr:d.kr,rI:d.rI,
iy:this.Xe});this.qs();Wj.add(this)}ss(){Wj.delete(this);Nj(this.pf);this.U=this.pf=null}Hz(a,b){if(a!==this.L()||b!==this.K()){var d=this.pf.Ob,c=this.pf.Nu(),e=this.pf.tD();Nj(this.pf);this.pf=null;this.pf=this.U.lp(a,b,{Zb:d,ep:!1,ZP:!0,Mk:c,kr:e});this.qs()}}Gp(){return this.nq?this.U.tx:this.pf.Gp()}qs(){Bf(this.U,this.uk,this.L()/this.K());this.KG=this.U.Us;this.NG=this.U.zq;this.JG=this.U.fq}L(){return this.nq?this.U.L():this.pf.L()}K(){return this.nq?this.U.K():this.pf.K()}Jb(){if(this.pf)return this.pf;
throw Error("no texture");}Ba(){return this.U}Vr(){return this.pf.Vr()}Nu(){return this.pf.Nu()}tD(){return this.pf.tD()}KR(a){a=Object.assign({},Vj,a);return"nearest"!==a.Zb!==this.Vr()||!!a.Mk!==this.Nu()||!!a.kr!==this.tD()||!!a.depth!==this.Wc?!1:"number"===typeof a.width||"number"===typeof a.height?!this.no&&this.L()===a.width&&this.K()===a.height:this.no}static ge(){}};"use strict";
async function oj(a){var b=8*a.Yw;await a.MB.mapAsync(self.GPUMapMode.READ,0,b);b=a.MB.getMappedRange(0,b);a.Eo=new BigUint64Array(b.slice(0));a.MB.destroy();a.MB=null;a.AH.destroy();a.AH=null;a.sH.destroy();a.sH=null}
self.B.T.E2=class{constructor(a,b){this.U=a;this.Df=this.U.Df;this.Yw=b;a=this.U.zg();this.sH=a.createQuerySet({count:this.Yw,type:"timestamp"});b=self.GPUBufferUsage;this.AH=a.createBuffer({size:8*this.Yw,usage:b.QUERY_RESOLVE|b.COPY_SRC});this.MB=a.createBuffer({size:8*this.Yw,usage:b.COPY_DST|b.MAP_READ});this.Eo=null}Zy(){return null!==this.Eo}Ry(){if(!this.Eo)throw Error("not yet got result");return this.Eo}};"use strict";const Xj={bX:null,cX:null,AX:null,getTime:null,zX:null};
function Yj(a,b){return a.PT?a.PT(b):[b.L(),b.K()]}self.B.T.$Y=class{constructor(a){a=Object.assign({},Xj,a);this.PT=a.bX;this.a4=a.cX;this.QT=a.AX;this.b4=a.getTime;this.c4=a.zX;this.Vo=null;this.CL=new Set}ge(){this.Vo=null;for(const a of this.CL)a.ge()}Ej(a){return this.a4(a)}ya(){return this.b4()}qE(a){this.c4(a)}};"use strict";
const Zj=self.B,ak=self.Gi.Vl,nc=Zj.A(Zj.Rect),bk=Zj.A(Zj.Rect),ck=Zj.A(Zj.Rect),dk=Zj.A(Zj.Rect),ek=ak.create(),fk=ak.create(),gk={xI:null,dX:null,BI:null,UP:!1},hk={$x:null,IP:!1,$W:!1,kX:!1,EI:!1,nX:!1,MQ:!1};
function ik(a,b,d){d=Object.assign({},hk,d);Zj.D(a.Sq);a.wv=0;a.xv=0;a.hN=!1;a.sG=!1;a.rG=!1;a.iN=!1;a.qG=!1;a.Mx=!1;a.yt=0;a.wN=!!d.EI;a.So=!!d.MQ;a.AB=!1;Zj.Pd(a.TB,b);if(0!==b.length){if(d.$x){if(d.$x.length!==b.length)throw Error("incorrect indexMap length");Zj.Pd(a.Pq,d.$x)}else{Zj.D(a.Pq);for(let g=0,k=b.length;g<k;++g)a.Pq.push(g)}for(var c of b)a.wv+=c.s4,a.xv+=c.t4,c.L3&&(a.hN=!0),c.dP&&(a.sG=!0),c.$z&&(a.rG=!0),c.hM&&(a.iN=!0),c.hT()&&(a.qG=!0);a.Mx=b[0].Ba().Sd()&&a.rG&&!a.iN;c=b[0];c=
d.IP||c.hz()||d.kX||c.dP&&!a.So||0!==a.wv||0!==a.xv?!0:c.Ba().Ij()?c.$z&&(d.nX||d.EI)||c.BC&&d.EI:!1;var e=b.at(-1);d=d.$W?!0:e.Ba().Ij()?e.$z||e.hM:(e.$z||e.hM)&&!a.Mx;if(1!==b.length||c||d){a.cA=!1;e=0;c&&(a.yt=1,a.Sq.push(Zj.A(Zj.T.og.Pj.a1,a,-1,1)),e=1);for(let g=0,k=b.length;g<k;++g)0!==g||c?(b=1===e?2:1,g!==k-1||d||(b=0),a.yt=Math.max(a.yt,b),a.Sq.push(Zj.A(Zj.T.og.Pj.zY,a,e,b,g)),e=b):(a.yt=1,a.Sq.push(Zj.A(Zj.T.og.Pj.jZ,a,-1,1,g)),e=1);d&&a.Sq.push(Zj.A(Zj.T.og.Pj.Z0,a,e,0))}else a.cA=!0}}
function jk(a,b,d){const [c,e]=Yj(a.Ve,b);if(0>=c||0>=e)throw Error("invalid draw size");a.Kd===c&&a.zd===e||kk(b,c,e,0,0,a.uk,a.xB);a.Kd=c;a.zd=e;a.Bw.Ca(d.bu);d.yI?a.Wi.Ca(d.yI):a.Wi.set(0,0,a.Kd,a.zd);a.Co.Ca(a.Wi);a.Co.Ik(a.Kd,a.zd);b=a.zw*a.Em;kc(a.Wi,a.wv*b,a.xv*b);a.Lq.Ca(a.Wi);a.Lq.Ik(a.Kd,a.zd);b=a.Wi;d=a.Kd;var g=a.zd,k;var l=k=0;d=+d;g=+g;b.ca=fc.X(b.ca,k,d);b.aa=fc.X(b.aa,l,g);b.la=fc.X(b.la,k,d);b.ka=fc.X(b.ka,l,g);a.Il.Ca(a.Wi);a.Il.Ik(a.Kd,a.zd)}
function kk(a,b,d,c,e,g,k){c=b/2+c;e=d/2+e;Bf(a,g,b/d);a=Df(a,c,e,a.Ie(d),c,e,d);ak.Ca(k,a)}function lk(a,b){Yh(b);a.So||(a.dM&&b.xD(),b.Sf(!1),a.sG&&b.Vu(!0));b.Sd()&&Xi(b,!0)}function mk(a){a.Lq.X(0,0,1,1)}function nk(a,b){a.hF?a.hF(a,b,()=>a.XL(b,a)):a.XL(b,a);a.cA||lk(a,b)}function ok(a,b){if(a.So)return!0;if(0!==a.bM||0!==a.cM)return!1;const [d,c]=b.Hu(b.Ej());return d!==a.Kd||c!==a.zd?!1:!0}
function pk(a,b,d){let c=a.uk,e=a.xB;if(d&&!ok(a,b)){c=ek;e=fk;const [g,k]=b.Hu(b.Ej());kk(b,g,k,a.bM,a.cM,c,e);a.So||b.mK()}b.tm(c);b.ls(e)}function qk(a,b,d){var c=a.Lq,e=a.Il,g=a.Co;b.Ij()&&(bk.Ca(c),lc(bk),c=bk,ck.Ca(e),lc(ck),e=ck,dk.Ca(g),lc(dk),g=dk);var k=1/a.Kd,l=1/a.zd;b.AE(rk(a,b),c,e,g,a.Bw,k,l,a.Em,a.zw,a.VG,a.Oc);b.zE(a.iF(a.Pq[d],b))}
function sk(a,b,d){var c=a.Il,e=a.Co,g=1/a.Kd,k=1/a.zd;if(a.dA){let {HX:n,IX:p,FX:r}=a.dA(a.Xp);n||(nc.set(0,0,0,0),n=nc);p||(p=a.Kd);r||(r=a.zd);e=c=n;g=1/p;k=1/r}else b.Ij()&&(ck.Ca(c),lc(ck),c=ck,dk.Ca(e),lc(dk),e=dk);var l=a.Lq;b.Ij()&&(l=bk,l.Ca(a.Lq),lc(l));b.AE(rk(a,b),l,c,e,a.Bw,g,k,a.Em,a.zw,a.VG,a.Oc);b.zE(a.iF(a.Pq[d],b));b.Sd()&&a.qG&&Ti(b,a.wN?1:0,b.zM.$P)}function rk(a,b){return a.rG?b.Sd()?a.Mx?a.ZE:a.Ns.Jb():a.Ns:null}
Zj.T.og=class{constructor(a,b){b=Object.assign({},gk,b);this.Ve=a;this.XL=b.xI;this.dA=b.dX;this.iF=b.BI;this.hF=null;this.TB=[];this.Pq=[];this.Sq=[];this.AB=!1;this.lh=0;this.wN=this.So=this.cA=this.dM=this.XT=this.Zp=this.Mx=this.qG=this.iN=this.rG=this.sG=this.hN=!1;this.yt=0;this.Ym=[null,null,null];this.GU=!!b.UP;this.zd=this.Kd=this.xv=this.wv=0;this.Xp=null;this.Bw=Zj.A(Zj.Rect);this.Wi=Zj.A(Zj.Rect);this.Co=Zj.A(Zj.Rect);this.Il=Zj.A(Zj.Rect);this.Lq=Zj.A(Zj.Rect);this.zw=this.Em=1;this.Oc=
this.VG=0;this.ZE=this.Ns=null;this.cM=this.bM=0;this.bP=!1;this.uk=ak.create();this.xB=ak.create();this.Ve.CL.add(this)}j(){this.Ve.CL.delete(this);Zj.D(this.Sq);Zj.D(this.TB);Zj.D(this.Pq);this.iF=this.dA=this.XL=this.Xp=null}ge(){this.AB=!0;Zj.D(this.Sq);Zj.D(this.TB);Zj.D(this.Pq)}gs(a,b,d){a.Sd()&&null===b&&(b=a.Wj);this.Ns=b;this.Xp=d.BP||null;this.lh=d.Hk||0;this.Em=d.devicePixelRatio||1;this.zw=d.YC||1;this.VG=d.XC||0;this.Oc="number"===typeof d.time?d.time:this.Ve.ya();this.Zp=!1;a.JS();
this.hN&&this.Ve.qE(this);var c=!1;if(this.Mx){jk(this,a,d);c=!0;var e=this.Ve,g=this.Kd,k=this.zd;!e.Vo||e.Vo.L()===g&&e.Vo.K()===k||(a.Wg(e.Vo),e.Vo=null);null===e.Vo&&(e.Vo=a.xu(null,{width:g,height:k,Zb:"nearest",ep:!1}));this.ZE=e.Vo;nc.Ca(this.Wi);mc();a.Sd()&&Oi(a,this.Ns);e=this.Ns.Jb();g=this.ZE;k=nc.ca;var l=nc.aa,n=nc.width(),p=nc.height();const u=g.sj;if(0===(e.sj&hi.COPY_SRC))throw Error("source texture missing COPY_SRC usage");if(0===(u&hi.COPY_DST))throw Error("destination texture missing COPY_DST usage");
if(e===g)throw Error("invalid destination");Hi(a);oi&&pi(`Copying texture to texture, from (${k}, ${l}), size ${n} x ${p}`);a.ak.copyTextureToTexture({texture:e.Ua,origin:[k,l]},{texture:g.Ua,origin:[k,l]},[n,p]);a.F|=16384}if(this.cA){c=this.TB[0];var r=a.bz();if(b=c.dP)a.Sf(!1),a.Vu(!0),this.Lq.set(0,0,1,1),this.Co.set(0,0,1,1);a.$k(c);a.te(this.lh);a.hf(this.Ns);this.Co.set(0,0,1,1);if(c.BC&&this.dA){const {HX:u,IX:x,FX:y}=this.dA(this.Xp);u&&this.Co.Ca(u);c=Number.isFinite(x)?1/x:0;e=Number.isFinite(y)?
1/y:0}else{const [u,x]=Yj(this.Ve,a);c=1/u;e=1/x}d.bu?this.Bw.Ca(d.bu):this.Bw.set(0,0,0,0);a.AE(rk(this,a),this.Lq,this.Co,this.Co,this.Bw,c,e,this.Em,this.zw,this.VG,this.Oc);a.zE(this.iF(this.Pq[0],a));a.Sd()&&this.qG&&Ti(a,this.wN?1:0,a.zM.$P);a.Cg=0;nk(this,a);b&&(a.Vu(!1),a.Sf(r))}else{c||jk(this,a,d);a.nz();Yh(a);a.Cg=0;If(a,0);this.hF=d.W5||null;this.bM=d.J5||0;this.cM=d.K5||0;this.bP=!!d.v7;this.XT=a.bz();this.dM=a.LR();this.So?(a.Sf(!1),this.sG&&a.Vu(!0)):(nc.Ca(this.Wi),a.Ij()?(d=this.zw*
this.Em,kc(nc,Math.max(this.wv,1)*d,Math.max(this.xv,1)*d),mc(),nc.X(0,0,this.Kd,this.zd)):mc(),a.XS(nc.ca,nc.aa,nc.width(),nc.height(),this.zd));this.Ym[0]=b;this.Ym[1]=1<=this.yt?this.Ve.Ej(this):null;this.Ym[2]=2===this.yt?this.Ve.Ej(this):null;for(r of this.Sq)d=r.k5,d=0>d?null:this.Ym[d],b=r.mM,b=0>b?null:this.Ym[b],a.Sd()?r.mz(a,d,b):r.lz(a,d,b);this.Ym[1]&&this.Ve.QT(this.Ym[1],this);this.Ym[2]&&this.Ve.QT(this.Ym[2],this);this.Ym.fill(null);a.Vu(!1);this.dM&&a.yD();a.Sf(this.XT);this.So||
a.mK();a.Sd()&&Xi(a,!1);this.Zp=a.BD();this.hF=this.Xp=this.ZE=this.Ns=null}}BD(){return this.Zp}};"use strict";self.B.T.og.Pj=class{constructor(a,b,d,c=-1){this.qh=a;this.k5=b;this.mM=d;this.ta=c}Yg(){return this.qh}Ja(){return this.ta}gf(){return this.Yg().TB[this.Ja()]}lz(){}mz(){}};"use strict";const tk=self.B;
tk.T.og.Pj.a1=class extends tk.T.og.Pj{constructor(a,b,d,c){super(a,b,d,c)}lz(a,b,d){b=this.Yg();a.nz();Ef(a);a.hf(d,b.bP);a.Bj(0,0,0,0);nk(b,a);mk(b)}mz(a,b,d){b=this.Yg();a.nz();Ef(a);a.hf(d,!1);a.Bj(0,0,0,0);nk(b,a);mk(b)}};"use strict";const uk=self.B,vk=uk.A(uk.Rect),wk=uk.A(uk.ed);
uk.T.og.Pj.Z0=class extends uk.T.og.Pj{constructor(a,b,d,c){super(a,b,d,c)}lz(a,b,d){const c=this.Yg();Ef(a);a.hf(d);pk(c,a,!0);a.te(c.lh);a.Ud(b.Jb());wk.ef(c.Wi);vk.Ca(c.Il);lc(vk);a.Yk(wk,vk);c.GU&&a.Tr(b)}mz(a,b,d){const c=this.Yg();Ef(a);a.hf(d,!1);ok(c,a)?wk.ef(c.Il):(Xi(a,!1),pk(c,a,!0),wk.ef(c.Wi));Ci(a,null);a.te(c.lh);a.Ud(b.Jb());c.So?a.Ey():a.Yk(wk,c.Il)}};"use strict";const xk=self.B;
xk.T.og.Pj.jZ=class extends xk.T.og.Pj{constructor(a,b,d,c){super(a,b,d,c)}lz(a,b,d){b=this.Yg();a.hf(d,b.bP);a.Bj(0,0,0,0);a.ks();a.$k(this.gf());sk(b,a,this.Ja());nk(b,a);mk(b)}mz(a,b,d){b=this.Yg();a.hf(d,!1);a.Bj(0,0,0,0);a.ks();a.$k(this.gf());sk(b,a,this.Ja());nk(b,a);mk(b)}};"use strict";const yk=self.B,zk=yk.A(yk.Rect),Ak=yk.A(yk.ed);
yk.T.og.Pj.zY=class extends yk.T.og.Pj{constructor(a,b,d,c){super(a,b,d,c)}lz(a,b,d){const c=this.Yg();a.hf(d);(d=0===this.mM)?a.te(c.lh):(a.Bj(0,0,0,0),a.ks());a.$k(this.gf());qk(c,a,this.Ja());a.Ud(b.Jb());pk(c,a,d);Ak.ef(c.Wi);zk.Ca(c.Il);lc(zk);a.Yk(Ak,zk);c.GU&&a.Tr(b)}mz(a,b,d){const c=this.Yg();a.hf(d,!1);0===this.mM?(a.te(c.lh),Ci(a,null),ok(c,a)?Ak.ef(c.Il):(Xi(a,!1),pk(c,a,!0),Ak.ef(c.Wi))):(a.Bj(0,0,0,0),a.ks(),Ak.ef(c.Il));a.$k(this.gf());qk(c,a,this.Ja());a.Ud(b.Jb());c.So?a.Ey():a.Yk(Ak,
c.Il)}};"use strict";const Bk=self.Ge;let Ck=null;const Dk=new Set;let Ek=!1;
self.ZZ=class{constructor(a){Ck=a;Object.defineProperties(this,{n6:{value:{},writable:!1},storage:{value:new self.a_,writable:!1},Ola:{value:Ck.yl,writable:!1}});Ck.Lf.addEventListener("keydown",b=>{Dk.has(b.key)?b.stopPropagation():Dk.add(b.key)});Ck.Lf.addEventListener("keyup",b=>Dk.delete(b.key));Ck.ib().addEventListener("window-blur",()=>Dk.clear());Ck.yl&&(self.alert=b=>{Ek||(Ek=!0,console.warn("[Construct] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));return this.alert(b)})}addEventListener(a,
b){Ck.Lf.addEventListener(a,b)}removeEventListener(a,b){Ck.Lf.removeEventListener(a,b)}get GP(){return Fk(Ck)}get vla(){return Gk(Ck)}get IQ(){return Ck.ne}set IQ(a){Bk.ud(a);Ck.sz(a)}get c6(){return Ck.EA}random(){return Ck.ax()}get layout(){return Ck.ub().PA}get keyboard(){const a=Ck.fA.keyboard;if(!a)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return a}get sX(){const a=Ck.fA.sX;if(!a)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return a}get KQ(){const a=Ck.fA.KQ;if(!a)throw Error("runtime.touch used but Touch object missing - add it to your project first");return a}alert(a){return Hk(Ck,"runtime","alert",{message:a+(Ck.yl?" [via Web Worker]":"")})}};"use strict";self.PZ=class{constructor(){}};"use strict";const Ok=self.Ge;
self.a_=class{constructor(){Ck.qO||(Ck.qO=localforage.DP({name:"c3-localstorage-"+Ck.rO,description:Ck.qH}));this.lC=Ck.qO}getItem(a){Ok.he(a);return this.lC.getItem(a)}setItem(a,b){Ok.he(a);return this.lC.setItem(a,b)}removeItem(a){Ok.he(a);return this.lC.removeItem(a)}clear(){return this.lC.clear()}keys(){return this.lC.keys()}};"use strict";const Pk=self.Ge,Qk=new WeakMap;
self.$y=class{constructor(a){Qk.set(this,a);Object.defineProperties(this,{name:{value:a.oa(),writable:!1}});a.I().FU.set(this,a)}addEventListener(a,b){Pk.he(a);Pk.pm(b);Qk.get(this).Lf.addEventListener(a,b)}removeEventListener(a,b){Pk.he(a);Pk.pm(b);Qk.get(this).Lf.removeEventListener(a,b)}*TC(){for(const a of Rk(Qk.get(this)))yield Sk(a)}DP(a){Pk.Sh(void 0);Pk.Sh(void 0);if("number"!==typeof a&&"string"!==typeof a)throw new TypeError("invalid layer parameter");var b=Qk.get(this);const d=b.I();a=
d.ub().V(a);if(!a)throw Error("invalid layer");b=Tk(d,b,a);a=d.Ga();Uk(a,!0);Vk(b);Uk(a,!1);Wk(a)||0<d.nb.lw||Xk(d);return Sk(b)}};"use strict";const Yk=self.Ge,Zk=new WeakMap;
self.WZ=class{constructor(a){Zk.set(this,a);const b=[],d=a.Va,c=d.Ii().length;for(let e=0;e<c;++e)b.push(new self.OJ(d,e));Object.defineProperties(this,{name:{value:a.oa(),writable:!1},index:{value:a.Ja(),writable:!1},YW:{value:b,writable:!1}})}addEventListener(a,b){Yk.he(a);Yk.pm(b);Zk.get(this).Lf.addEventListener(a,b)}removeEventListener(a,b){Yk.he(a);Yk.pm(b);Zk.get(this).Lf.removeEventListener(a,b)}get width(){return Zk.get(this).L()}set width(a){Yk.ud(a);Zk.get(this).ih(a)}get height(){return Zk.get(this).K()}set height(a){Yk.ud(a);
Zk.get(this).Uh(a)}getSize(){const a=Zk.get(this);return[a.L(),a.K()]}set scale(a){Yk.ud(a);Zk.get(this).BE(a)}get scale(){return Zk.get(this).ye}set angle(a){Yk.ud(a);Zk.get(this).Gd(a)}get angle(){return Zk.get(this).Ka()}set scrollX(a){Yk.Sh(a);Zk.get(this).bl(a)}get scrollX(){return Zk.get(this).Ph()}set scrollY(a){Yk.Sh(a);Zk.get(this).cl(a)}get scrollY(){return Zk.get(this).Qh()}scrollTo(a,b){Yk.Sh(a);Yk.Sh(b);const d=Zk.get(this);d.bl(a);d.cl(b)}*Rx(){for(const a of Zk.get(this).Rx())yield a.gG}set wX(a){Yk.he(a);
const b=Zk.get(this);if("perspective"===a)$k(b);else if("orthographic"===a)al(b);else throw Error("invalid projection");}get wX(){return Zk.get(this).Kg?"orthographic":"perspective"}};"use strict";const bl=self.B,cl=self.Ge,dl=new WeakMap,el=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),fl=new Map([...el.entries()].map(a=>[a[1],a[0]])),gl=bl.A(bl.mb);
self.VZ=class{constructor(a){dl.set(this,a);const b=[],d=a.Va,c=d.Ii().length;for(let e=0;e<c;++e)b.push(new self.OJ(d,e));Object.defineProperties(this,{name:{value:a.oa(),writable:!1},layout:{value:a.Xb().PA,writable:!1},YW:{value:b,writable:!1}})}*dD(){for(const a of dl.get(this).dD())yield a.gG}get index(){return dl.get(this).Ja()}get isVisible(){return dl.get(this).rw}set isVisible(a){dl.get(this).hh(a)}get DI(){return dl.get(this).ow}set DI(a){dl.get(this).ow=!!a}get opacity(){return dl.get(this).bd()}set opacity(a){a=
bl.X(+a,0,1);isNaN(a)||dl.get(this).Vh(a)}set scale(a){cl.ud(a);hl(dl.get(this),a)}get scale(){return dl.get(this).ye}set TI(a){cl.ud(a);il(dl.get(this),a)}get TI(){return dl.get(this).zk}set angle(a){cl.ud(a);dl.get(this).Gd(a)}get angle(){return dl.get(this).Uf}set Zl(a){cl.ud(a);dl.get(this).wf(a)}get Zl(){return dl.get(this).Sa()}set FI(a){jl(dl.get(this),a)}get FI(){return dl.get(this).Al}set CI(a){kl(dl.get(this),a)}get CI(){return dl.get(this).xG}set Hk(a){cl.he(a);a=el.get(a);if("number"!==
typeof a)throw Error("invalid blend mode");dl.get(this).te(a)}get Hk(){return fl.get(dl.get(this).em())}set backgroundColor(a){cl.oK(a);if(3>a.length)throw Error("expected 3 elements");Tb(gl,a[0],a[1],a[2]);a=dl.get(this);const b=a.Vn;Xb(b,gl)||(Vb(b,gl),a.I().M())}get backgroundColor(){const a=dl.get(this).Vn;return[a.eb,a.kb,a.bb]}set scrollX(a){cl.Sh(a);const b=dl.get(this);ll(b,!0);b.bl(a)}get scrollX(){return dl.get(this).Ph()}set scrollY(a){cl.Sh(a);const b=dl.get(this);ll(b,!0);b.cl(a)}get scrollY(){return dl.get(this).Qh()}scrollTo(a,
b){cl.Sh(a);cl.Sh(b);const d=dl.get(this);ll(d,!0);d.bl(a);d.cl(b)}};"use strict";const ml=self.B,nl=self.Ge,ol=new WeakMap,pl=new WeakMap;function ql(a){let b=pl.get(a);if(b)return b;b=ml.A(ml.Event.ib);pl.set(a,b);return b}let rl=null;
self.Ni=class{constructor(){ol.set(this,rl);const a={sb:{value:rl.I().ul,writable:!1},mQ:{value:rl.H().QA,writable:!1},uid:{value:rl.Yb,writable:!1}};var b=rl;if(0!==b.Jg.length){var d={},c=sl(b.nf);for(let g=0,k=c.length;g<k;++g)d[c[g]]={configurable:!1,enumerable:!0,get:tl.Instance.prototype.g3.bind(b,g),set:tl.Instance.prototype.yp.bind(b,g)};b=Object.create(Object.prototype,d);a.Mla={value:b,writable:!1}}b=rl.wd;if(0!==b.length){d={};for(var e of b)d[e.pg().Tk()]={value:e.Dn(),writable:!1};e=
Object.create(Object.prototype,d);a.JC={value:e,writable:!1}}Object.defineProperties(this,a);rl.I().FU.set(this,rl)}static fl(a){rl=a}static Zh(){return rl}Gz(){const a=pl.get(this);a&&(a.j(),pl.delete(this));ol.delete(this)}addEventListener(a,b,d){nl.he(a);nl.pm(b);ql(this).addEventListener(a,b,d)}removeEventListener(a,b,d){nl.he(a);nl.pm(b);ql(this).removeEventListener(a,b,d)}dispatchEvent(a){ql(this).dispatchEvent(a)}set IQ(a){nl.ud(a);ol.get(this).sz(a)}get IQ(){return ul(ol.get(this))}};"use strict";
const vl=self.B,wl=self.Ge,xl=self.Ni,yl=new WeakMap,zl=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),Al=new Map([...zl.entries()].map(a=>[a[1],a[0]]));vl.A(vl.mb);
self.Ec=class a extends xl{constructor(){super();var b=xl.Zh();yl.set(this,b);const d=[];var c=b.m();if(b=c.Yf){c=c.H().Va.Ii().length;for(let e=0;e<c;++e)d.push(new self.OJ(b,e))}Object.defineProperties(this,{YW:{value:d,writable:!1}})}get layout(){return yl.get(this).m().Xb().PA}get GI(){return yl.get(this).m().V().gG}get x(){return yl.get(this).m().Y()}set x(b){b=+b;const d=yl.get(this).m();isNaN(b)||d.Y()===b||(d.Nj(b),T(d))}get y(){return yl.get(this).m().Z()}set y(b){b=+b;const d=yl.get(this).m();
isNaN(b)||d.Z()===b||(d.Oj(b),T(d))}setPosition(b,d){b=+b;d=+d;const c=yl.get(this).m();isNaN(b)||isNaN(d)||c.Y()===b&&c.Z()===d||(Bl(c,b,d),T(c))}get Zl(){return yl.get(this).m().Sa()}set Zl(b){b=+b;const d=yl.get(this),c=d.m();isNaN(b)||c.Sa()===b||(c.wf(b),d.I().M())}get width(){return yl.get(this).m().L()}set width(b){b=+b;const d=yl.get(this).m();isNaN(b)||d.L()===b||(d.ih(b),T(d))}get height(){return yl.get(this).m().K()}set height(b){b=+b;const d=yl.get(this).m();isNaN(b)||d.K()===b||(d.Uh(b),
T(d))}getSize(){const b=yl.get(this).m();return[b.L(),b.K()]}get angle(){return yl.get(this).m().Ka()}set angle(b){b=vl.Od(+b);const d=yl.get(this).m();isNaN(b)||d.Ka()===b||(d.Gd(b),T(d))}NP(){var b=Cl(yl.get(this).m());new DOMRect(b.ca,b.aa,b.width(),b.height())}get isVisible(){return yl.get(this).m().Rd()}set isVisible(b){b=!!b;const d=yl.get(this),c=d.m();c.Rd()!==b&&(c.hh(b),d.I().M())}get opacity(){return yl.get(this).m().bd()}set opacity(b){b=vl.X(+b,0,1);const d=yl.get(this),c=d.m();isNaN(b)||
c.bd()===b||(c.Vh(b),d.I().M())}set Hk(b){wl.he(b);b=zl.get(b);if("number"!==typeof b)throw Error("invalid blend mode");const d=yl.get(this);d.m().te(b);d.I().M()}get Hk(){return Al.get(yl.get(this).m().em())}get zIndex(){return Dl(yl.get(this).m())}Fh(b,d){wl.Sh(b);wl.Sh(d);return El(yl.get(this).m(),+b,+d)}getParent(){const b=yl.get(this).Ia();return b?Sk(b):null}*ky(){for(const b of yl.get(this).ky())yield Sk(b)}*children(){for(const b of yl.get(this).children())yield Sk(b)}*Gk(){for(const b of yl.get(this).Gk())yield Sk(b)}removeChild(b){wl.pK(b,
a);const d=yl.get(this);b=yl.get(b);d.nm(b)}};"use strict";const Fl=new WeakMap;self.kaa=class extends self.Ec{constructor(){super();Fl.set(this,self.Ni.Zh())}focus(){Gl(Fl.get(this).ja,{focus:!0})}blur(){Gl(Fl.get(this).ja,{focus:!1})}};"use strict";const Hl=self.B,Il=self.Ge,Jl=new WeakMap,Kl=new WeakMap;function Ll(a){let b=Kl.get(a);if(b)return b;b=Hl.A(Hl.Event.ib);Kl.set(a,b);return b}let Ml=null;
self.Rr=class{constructor(){Jl.set(this,Ml);var a={value:Ml.I().ul,writable:!1},b=Ml.Nh();if(null===b.OA){const d=b.h5;if(d){if(b.OA=new d(b),!(b.OA instanceof Nl))throw new TypeError("script interface class must derive from IBehavior");}else b.OA=new Nl(b)}Object.defineProperties(this,{sb:a,behavior:{value:b.OA,writable:!1}})}static fl(a){Ml=a}static Zh(){return Ml}get instance(){return Sk(Jl.get(this).N)}Gz(){const a=Kl.get(this);a&&(a.j(),Kl.delete(this));Jl.delete(this)}addEventListener(a,b,d){Il.he(a);
Il.pm(b);Ll(this).addEventListener(a,b,d)}removeEventListener(a,b,d){Il.he(a);Il.pm(b);Ll(this).removeEventListener(a,b,d)}dispatchEvent(a){Ll(this).dispatchEvent(a)}};"use strict";const Ol=new WeakMap;self.RZ=class{constructor(a){Ol.set(this,a);Object.defineProperties(this,{sb:{value:a.I().ul,writable:!1}})}};"use strict";const Pl=self.B,Ql=self.Ge,Rl=new WeakMap;Pl.A(Pl.mb);
self.OJ=class{constructor(a,b){Rl.set(this,a);Object.defineProperties(this,{index:{value:b,writable:!1}})}get name(){return Rl.get(this).Ii()[this.index].oa()}get isActive(){return Rl.get(this).qp(this.index)}set isActive(a){a=!!a;const b=Rl.get(this);b.qp(this.index)!==a&&(b.sK(this.index,a),b.Yh(),b.I().M())}getParameter(a){Ql.ud(a);a=Math.floor(+a);a=Rl.get(this).xR(this.index,a);if(null===a)throw new RangeError("invalid index");return a instanceof Pl.mb?[a.eb,a.kb,a.bb]:a}};"use strict";
const Sl=new WeakMap;self.NZ=class{constructor(a){Sl.set(this,a);Object.defineProperties(this,{name:{value:a.oa(),writable:!1},speed:{value:a.Uk(),writable:!1},XP:{value:a.dB,writable:!1},iu:{value:a.Mi(),writable:!1}})}*frames(){for(const a of Sl.get(this).Bd)yield a.A4}};"use strict";const Tl=new WeakMap;self.FR=class{constructor(a){Tl.set(this,a)}get width(){return Tl.get(this).L()}get height(){return Tl.get(this).K()}getSize(){const a=Tl.get(this);return[a.L(),a.K()]}};"use strict";const Ul=new WeakMap;
self.OZ=class extends self.FR{constructor(a){super(a.$b());Ul.set(this,a);Object.defineProperties(this,{duration:{value:a.wA,writable:!1}})}};"use strict";const Vl=self.Ge,Wl=new WeakMap;function Xl(a){a=Wl.get(a);if(a.od)throw Error("timeline/tween was released and is no longer valid");return a}
self.b_=class{constructor(a){Wl.set(this,a)}pause(){Xl(this).Tc()}resume(){Yl(Xl(this))}set time(a){Vl.ud(a);Xl(this).Xh(a)}get time(){return Xl(this).ya()}set totalTime(a){Vl.ud(a);Xl(this).Zu(a)}get totalTime(){return Xl(this).Dc()}set XP(a){Xl(this).wE(!!a)}get XP(){return Xl(this).Mr()}set playbackRate(a){Vl.ud(a);Xl(this).Wh(a)}get playbackRate(){return Xl(this).sd}get progress(){const a=Xl(this);return a.ya()/a.Dc()}get kp(){return Xl(this).Uy()}get finished(){return Zl(Xl(this))}get Pla(){return Xl(this).IsPlaying()}};
"use strict";const $l=new WeakMap,am=new WeakMap;let bm=null;function cm(a){a=$l.get(a);if(a.od)throw Error("timeline/tween was released and is no longer valid");return a}self.maa=class extends self.b_{constructor(a,b,d){super(a);bm||(bm=d.Zka);$l.set(this,a);b&&am.set(this,b)}stop(){const a=cm(this);dm(am.get(this),a)}get instance(){const a=cm(this).ga();return a?Sk(a):null}get value(){const a=cm(this);if("value"!==a.Zg())throw Error("not a value tween");return a.Qd("value").Ib().pd()}};"use strict";
const em=self.B,fm=new Set(["local","remote"]),gm=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);function hm(a){const b=em.A(em.Event,"loadingprogress");a.MG=em.X(a.Sz/a.sC,0,1);b.progress=a.MG;a.g.ib().dispatchEvent(b)}function im(a,b){a.$i=b;if("flat"===b){b=new Map;for(const [d,c]of a.Iw.entries())b.set(d.toLowerCase(),c);a.Iw=b}}
function jm(a,b){"flat"===a.$i&&(b=b.toLowerCase());return a.Iw.has(b)}function km(a,b){"flat"===a.$i&&(b=b.toLowerCase());return a.Iw.get(b)||null}function lm(a,b){"flat"===a.$i&&(b=b.toLowerCase());if(!jm(a,b))return b;var d=a.Hw.get(b);d||(d=km(a,b),d=URL.createObjectURL(d),a.Hw.set(b,d));return d}async function mm(a,b){a=await nm(a,b,"buffer");b?(b=b.split("."),2>b.length?b="":(b=b.at(-1).toLowerCase(),b=gm.get(b)||"")):b="";return new Blob([a],{type:b})}
function nm(a,b,d){"flat"===a.$i&&(b=b.toLowerCase());return Hk(a.g,"runtime","cordova-fetch-local-file",{filename:b,as:d})}async function om(a,b){"flat"===a.$i&&(b=b.toLowerCase());var d=a.Hw.get(b);if(d)return d;d=await mm(a,b);d=URL.createObjectURL(d);a.Hw.set(b,d);return d}function pm(a,b){"flat"===a.$i&&(b=b.toLowerCase());b=a.mV+b;return jm(a,b)?lm(a,b):b}
function qm(a,b){if(em.$D(b))return Promise.resolve(b);if(jm(a,b))return Promise.resolve(lm(a,b));if(a.uG&&a.mw)return om(a,b);"flat"===a.$i&&(b=b.toLowerCase());return Promise.resolve(b)}async function rm(a){try{await Promise.all(a.YG),a.MG=1}catch(b){console.error("Error loading: ",b),a.OM=!0,hm(a)}}
async function sm(a){const b=[],d=[];for(const [c,e,g]of a.jP)a.sC+=g,b.push(tm(a,c,e,d).then(()=>{a.Sz+=g;Nd(a.eV)}));await Promise.all(b);a.g.yl&&0<d.length&&await Hk(a.g,"runtime","load-webfonts",{webfonts:d})}async function tm(a,b,d,c){try{const e=await qm(a,d),g=new FontFace(b,`url('${e}')`);a.g.yl?self.fonts.add(g):document.fonts.add(g);await g.load();a.g.yl&&c.push({name:b,url:e})}catch(e){console.warn(`[C3 runtime] Failed to load web font '${b}': `,e)}}
function um(a,b,d){a.FV=!!d;for(const [c,e,g]of b)a.LL.set(c,{fileName:c,b6:e.map(k=>({type:k[0],gla:k[1],aX:c+k[1],fileSize:k[2]})),v6:g})}function vm(a,b){"flat"===a.$i&&(b=b.toLowerCase());b=a.LL.get(b);if(!b)return null;let d=null;for(const c of b.b6)if(d||"audio/webm; codecs=opus"!==c.type||(d=c),a.gW[c.type])return c;return d}function wm(a,b){return(b=vm(a,b))?{url:pm(a,b.aX),type:b.type}:null}
function xm(a){if(a.FV){const b=[];for(const d of a.LL.values()){if(d.v6)continue;const c=vm(a,d.fileName);c&&b.push({S6:d.fileName,url:pm(a,c.aX),type:c.type,fileSize:c.fileSize})}return b}return[]}
em.rY=class extends em.xa{constructor(a,b){super();var d=b.exportType;this.g=a;this.$i="folders";this.Iw=new Map;this.Hw=new Map;this.P4=new Map;this.uG="cordova"===d;this.yN=!!b.isiOSCordova;this.mw=!!b.isFileProtocol;this.gW=b.supportedAudioFormats||{};this.LL=new Map;this.FV=!1;this.AU=this.mV="";this.vF="html5"===d||"scirra-arcade"===d||"instant-games"===d?"remote":"local";this.BL=[];this.JL=new Map;this.jP=[];this.YG=[];this.uU=!1;this.MG=this.Sz=this.sC=0;this.OM=!1;this.eV=em.A(em.d1,()=>hm(this),
50);this.sO=new em.mE(Math.max(em.hardwareConcurrency,8));if(a=b.previewImageBlobs){(d=b.previewProjectFileBlobs)&&Object.assign(a,d);(d=b.projectData)&&(a["data.json"]=d);for(const [c,e]of Object.entries(a))this.Iw.set(c,e)}if(b=b.previewProjectFileSWUrls)for(const [c,e]of Object.entries(b))this.P4.set(c,e);new self.PZ}j(){this.Iw.clear();for(const a of this.Hw.values())a.startsWith("blob:")&&URL.revokeObjectURL(a);this.Hw.clear();for(const a of this.BL)a.j();em.D(this.BL);this.JL.clear();em.D(this.YG);
this.g=null}I(){return this.g}xn(a,b){b=b||this.vF;const d=km(this,a);return d?Promise.resolve(d):em.cE(a)?("flat"===this.$i&&(a=a.toLowerCase()),this.uG&&this.mw?mm(this,a):"local"===b?this.sO.Cc(()=>em.xn(a)):em.xn(a)):em.xn(a)}Cy(a){const b=km(this,a);return b?em.xY(b):em.cE(a)?("flat"===this.$i&&(a=a.toLowerCase()),this.uG&&this.mw?nm(this,a,"buffer"):"local"===this.vF?this.sO.Cc(()=>em.Cy(a)):em.Cy(a)):em.Cy(a)}Dy(a){const b=km(this,a);return b?em.XQ(b):em.cE(a)?("flat"===this.$i&&(a=a.toLowerCase()),
this.uG&&this.mw?nm(this,a,"text"):"local"===this.vF?this.sO.Cc(()=>em.Dy(a)):em.Dy(a)):em.Dy(a)}async pR(a){a=await this.Dy(a);return JSON.parse(a)}eE(a){if(a.$C&&!fm.has(a.$C))throw Error("invalid load policy");let b=this.JL.get(a.url);if(b)return b;b=em.A(em.HR,this,{url:a.url,size:a.size||0,$C:a.$C||this.vF});this.BL.push(b);this.JL.set(b.Ql,b);this.uU||(this.sC+=b.Hj(),this.YG.push(ym(b).then(()=>{var d=b.Hj();this.Sz+=d;Nd(this.eV)})));return b}};"use strict";const zm=self.B;
function ym(a){if("local"===a.JN||a.vv)return a.sN=!0,Promise.resolve();if(a.mk)return a.mk;a.mk=a.Nb.xn(a.Ql,a.JN).then(b=>{a.sN=!0;a.mk=null;return a.vv=b}).catch(b=>console.error("Error loading resource: ",b));return a.mk}function Am(a){return a.vv?Promise.resolve(a.vv):a.mk?a.mk:a.Nb.xn(a.Ql,a.JN)}
zm.qY=class extends zm.xa{constructor(a,b){super();this.Nb=a;this.g=a.I();this.Ql=b.url||"";this.Qq=b.size;this.JN=b.$C;this.vv=b.blob||null;this.sN=!!this.vv;this.mk=null}j(){this.vv=this.g=this.Nb=this.mk=null}Hj(){return this.Qq}cz(){return this.sN}};"use strict";const Bm=self.B,Cm=new Bm.mE,Dm=new Set;async function Em(a){a=await Am(a);return Bm.wb.ImageBitmap?await createImageBitmap(a):await Bm.WQ(a)}
Bm.HR=class extends Bm.qY{constructor(a,b){super(a,b);this.jn=this.Pt=null;this.Nc=0;this.BU=this.CU=-1;Dm.add(this)}j(){this.Jj();if(0!==this.Nc)throw Error("released image asset which still has texture references");this.Pt=null;Dm.delete(this);super.j()}static Pu(){for(const a of Dm)a.Pt=null,a.jn=null,a.Nc=0}wp(a,b){b=b||{};this.Nc++;if(this.jn)return Promise.resolve(this.jn);if(this.Pt)return this.Pt;b.Ux=this.g.$.iW;return this.Pt=Am(this).then(d=>Cm.Cc(()=>a.xy(d,b).then(c=>{this.Pt=null;if(0===
this.Nc)return a.Wg(c),null;this.jn=c;this.CU=c.L();this.BU=c.K();return this.jn}))).catch(d=>{console.error("Failed to load texture: ",d);throw d;})}Jj(){if(0>=this.Nc)throw Error("texture released too many times");this.Nc--;0===this.Nc&&this.jn&&(this.jn.Ba().Wg(this.jn),this.jn=null)}Jb(){return this.jn}L(){return this.CU}K(){return this.BU}};"use strict";const Fm=self.B;function Gm(a,b){return a.m().wj-b.m().wj}
function Hm(a){a.WA&&(a.J.length===a.Fl.size?a.fd():(Fm.Di(a.J,a.Fl),a.Fl.clear(),a.WA=!1))}
Fm.g1=class extends Fm.xa{constructor(a,b,d){super();this.fa=b;this.ba=d;this.J=[];this.eB=!0;this.Fl=new Set;this.WA=!1}j(){Fm.D(this.J);this.Fl.clear()}fd(){Fm.D(this.J);this.eB=!0;this.Fl.clear();this.WA=!1}Gn(){if(!this.J.length)return!0;if(this.J.length>this.Fl.size)return!1;Hm(this);return!0}RJ(a){this.Fl.has(a)?(this.Fl.delete(a),0===this.Fl.size&&(this.WA=!1)):(this.J.push(a),this.eB=1===this.J.length)}Rh(a){this.Fl.add(a);this.WA=!0;50<=this.Fl.size&&Hm(this)}yJ(a){Hm(this);this.eB||(this.J.sort(Gm),
this.eB=!0);this.J.length&&a.push(this.J)}};"use strict";const Im=self.B;
Im.h1=class extends Im.xa{constructor(a,b){super();this.ZL=a;this.YL=b;this.Dg=Im.A(Im.jz)}j(){this.Dg.j();this.Dg=null}np(a,b,d){let c=this.Dg.ea(a,b);return c?c:d?(c=Im.A(Im.g1,this,a,b),this.Dg.Set(a,b,c),c):null}dl(a){return Math.floor(a/this.ZL)}el(a){return Math.floor(a/this.YL)}Ln(a,b,d){if(b)for(let c=b.ca,e=b.la;c<=e;++c)for(let g=b.aa,k=b.ka;g<=k;++g){if(d&&d.Fh(c,g))continue;const l=this.np(c,g,!1);l&&(l.Rh(a),l.Gn()&&this.Dg.Jr(c,g))}if(d)for(let c=d.ca,e=d.la;c<=e;++c)for(let g=d.aa,
k=d.ka;g<=k;++g)b&&b.Fh(c,g)||this.np(c,g,!0).RJ(a)}oE(a,b){let d=this.dl(a.ca);const c=this.el(a.aa),e=this.dl(a.la);for(a=this.el(a.ka);d<=e;++d)for(let g=c;g<=a;++g){const k=this.np(d,g,!1);k&&k.yJ(b)}}};"use strict";const Jm=self.B,Km=new Jm.Rect,Lm=new Jm.ed,Mm=[];new Jm.Rect;new Jm.Rect;const Nm=self.Gi,Om=Nm.yr,Pm=Nm.kD,Qm=Nm.Vl;Qm.create();const Rm=Om.create(),Sm=Pm.create(),Tm=Om.create(),Um=Om.create(),Vm=Om.create(),Wm=Jm.A(Jm.Cp);Jm.A(Jm.Rect);
function Xm(a,b){return a.m().wj-b.m().wj}function Ym(a,b){return a.m().Sa()-b.m().Sa()}const Zm=[],$m=[],an=[],bn={name:"",ju:-1,WP:!1,isVisible:!0,DI:!0,backgroundColor:[1,1,1,1],FI:!0,rQ:[1,1],opacity:1,CI:!1,BX:!1,RX:!1,SX:!1,TI:1,Hk:0,Zl:0,iX:[],XW:[],JX:[]};
function cn(a,b,d=!1){if(a.J.includes(b))d&&a.J.sort((g,k)=>{g=dn(g.m());k=dn(k.m());return g-k});else if(b.vf()){var c=[...b.Gk()];c.push(b);c.sort((g,k)=>{g=dn(g.m());k=dn(k.m());return g-k});for(var e of c)if(e.Sc())for(const g of e.Cd)c.includes(g)||(b=[...g.Gk()],b.push(g),b.sort((k,l)=>{k=dn(k.m());l=dn(l.m());return k-l}),b&&b.length&&c.splice(c.length,0,...b));for(const g of c)g.pb().ue&&a.Ti(g,!0)}else if(b.pb().ue&&a.Ti(b,!0),b.Sc())for(c of b.Cd)if(e=[...c.Gk()],e.push(c),e.sort((g,k)=>
{g=dn(g.m());k=dn(k.m());return g-k}),e&&e.length)for(const g of e)g.pb().ue&&a.Ti(g,!0)}function hl(a,b){a.ye!==b&&(a.ye=b,en(a.dj),fn(a),a.g.M())}function il(a,b){a.zk!==b&&(a.zk=b,fn(a),a.g.M())}function jl(a,b){b=!!b;a.Al!==b&&(a.Al=b,a.g.M())}function kl(a,b){b=!!b;a.xG!==b&&(a.xG=b,a.g.M())}function ll(a,b){b=!!b;if(a.jo!==b){if(a.jo=b)b=a.Xb(),a.Ak=b.Ph(),a.Bk=b.Qh();fn(a);a.g.M()}}function gn(a){a.oH.Ca(a.yb);Zb(a.oH)}function hn(a){return a.u5&&!a.pW}
function jn(a,b,d){return Jm.A(Jm.YJ,a,b,{name:d[0],ju:d[2],isVisible:d[3],DI:d[13],backgroundColor:d[4].map(c=>c/255),FI:d[5],rQ:[d[6],d[7]],opacity:d[8],CI:d[9],BX:d[17],RX:d[18],SX:d[10],TI:d[11],Hk:d[12],Zl:d[16],iX:d[14],XW:d[15],JX:d[19]})}function kn(a){for(const b of a.DU){const d=ln(a.g,b[1]);mn(a.dj,d);d.Ms||(d.Ms=b);a.Mm.push(b);a.$M.set(b[2],b)}Jm.Pd(a.fW,a.Mm);a.DU=null}function nn(a){a.oP=!1;a.CG=!1}
function pn(a,b){if(b){b=new Set;for(var d of a.J){var c=d.m().wj;0<=c&&b.add(c)}d=-1;for(const e of a.J)if(c=e.m(),!(0<=c.wj)){for(++d;b.has(d);)++d;c.wj=d|0}}a.J.sort(Xm)}function*qn(a){yield a;yield*a.dD()}function rn(a){for(const b of qn(a))if(!b.ow)return!1;return!0}function fn(a){a.tN=!0;a.gB=!0;a.hB=!0}
function sn(a){if(a.hB){a.hB=!1;var b=a.g.jH,d=a.g.kH,c=(a.Ph()-b)*a.Gf+b,e=(a.Qh()-d)*a.Hf+d;b=tn(a);d=a.g.jg/b;b=a.g.cf/b;c-=d/2;var g=e-b/2;a.g.jk&&(c=Math.round(c),g=Math.round(g));e=a.zW;e.set(c,g,c+d,g+b);d=a.Ka();0!==d&&(Km.Ca(e),Km.offset(-e.cu(),-e.du()),tc(Lm,Km,d),Lm.NP(Km),Km.offset(e.cu(),e.du()),e.Ca(Km));b=a.Ed;un(a,b,a.EC);if(wn(a)){d=a.gP;e=a.g.$;c=e.Kc;e=e.xc;const [k,l]=xn(a,0,0,b),[n,p]=xn(a,c,0,b),[r,u]=xn(a,c,e,b),[x,y]=xn(a,0,e,b);a=Math.min(k,n,r,x);b=Math.min(l,p,u,y);c=Math.max(k,
n,r,x);e=Math.max(l,p,u,y);isFinite(a)||(a=-Infinity);isFinite(b)||(b=-Infinity);isFinite(c)||(c=Infinity);isFinite(e)||(e=Infinity);d.set(a,b,c,e)}else a.gP.Ca(a.EC)}}function yn(a){sn(a);return a.EC}function zn(a){sn(a);return a.gP}function An(a){a=a.Xb();return[Bn(a),Cn(a)]}function Dn(a,b){if(a.dj.Kg)return 1;a=a.Ie()/tn(a);return a/(a-b)}
function un(a,b,d){sn(a);var c=a.zW;if(0===b)d.Ca(c);else{let k=c.cu(),l=c.du();var e=Dn(a,b);const n=c.width()/e;c=c.height()/e;const [p,r]=An(a);if(.5!==p||.5!==r){const u=a.Ie()/tn(a);var g=a.g;const x=a.Ie()/u;e=(p-.5)*g.jg/x;g=(r-.5)*g.cf/x;a=a.Ka();0!==a&&(Wm.set(e,g),Wm.rotate(a),e=Wm.fa,g=Wm.ba);b=Jm.eJ(u,0,b);k+=Jm.Pc(e,0,b);l+=Jm.Pc(g,0,b)}d.set(k-n/2,l-c/2,k+n/2,l+c/2)}}
function En(a){return!Fn(a)&&a.pW?(Jm.Pd(an,a.J),an.sort((b,d)=>{var c=a.Xb().$j,e=c[0],g=c[1];c=c[2];var k=b.m();const l=d.m();d=k.Y()-e;b=k.Z()-g;k=k.Sa()-c;e=l.Y()-e;g=l.Z()-g;c=l.Sa()-c;return e*e+g*g+c*c-(d*d+b*b+k*k)}),an):a.J}function Gn(a,b){Jm.Rl(b,En(a));for(const d of a.Jf)d.Rd()&&0<d.bd()&&Gn(d,b)}function Fn(a){return!a.I().To||!a.e5}function wn(a){return!Fn(a)&&a.Xb().gN}function Hn(a){if(!wn(a))return!1;for(const b of a.Jf)if(!Hn(b))return!1;return!0}
function In(a,b,d=!0){d?a.Jf.push(b):a.Jf.unshift(b)}function Jn(a){return a.Rd()&&0<a.bd()&&Kn(a)}function Ln(){var a=Mn[0];for(const b of a.Jf)if(Jn(b))return!0;return!1}function*Nn(a){for(const b of a.Jf)yield*Nn(b);yield a}function On(a,b){for(const d of a.dD())if(d===b)return!0;return!1}
function Pn(a){if(!a.oP){a.J.sort(Ym);if(hn(a))for(let e=0,g=a.J.length;e<g;++e){var b=a.J[e].m();b.wj=e|0;var d=a.gx,c=b.NB;b=c.ca;const k=c.aa,l=c.la;for(c=c.ka;b<=l;++b)for(let n=k;n<=c;++n){const p=d.np(b,n,!1);p&&(p.eB=!1)}}else for(let e=0,g=a.J.length;e<g;++e)a.J[e].m().wj=e|0;a.oP=!0}}function Kn(a){if(0<a.J.length||!a.Al)return!0;for(const b of a.Jf)if(Kn(b))return!0;return!1}function Vn(a){if(a.wz())return!0;for(const b of a.Jf)if(Vn(b))return!0;return!1}
function tn(a){return(a.ye*a.dj.ye-1)*a.zk+1}
function Wn(a,b){if(a.tN){var d=a.xB;const e=a.g;var c=a.Xb();if(wn(a)){Om.Ca(Tm,c.$j);Om.Ca(Um,c.Xn);Om.Ca(Vm,c.Bv);c=e.jH;const g=e.kH,k=Um[0]-Tm[0],l=Um[1]-Tm[1],n=Um[2]-Tm[2];Tm[0]=(Tm[0]-c)*a.Gf+c;Tm[1]=(Tm[1]-g)*a.Hf+g;Tm[2]*=Math.max(a.Gf,a.Hf);Um[0]=Tm[0]+k;Um[1]=Tm[1]+l;Um[2]=Tm[2]+n}else{const [g,k,l]=Xn(a,0,0,null);Om.set(Tm,g,k,l);Om.set(Um,g,k,l-100);c=a.Ka();0===c?Om.set(Vm,0,1,0):Om.set(Vm,Math.sin(c),Math.cos(c),0)}Cf(b,d,Tm,Um,Vm,e.cf);a.tN=!1}return a.xB}
function Xn(a,b=0,d=0,c=0){var e=a.g,g=a.Xb(),k=e.jH,l=e.kH;k=(a.Ph()-k)*a.Gf+k;l=(a.Qh()-l)*a.Hf+l;e.jk&&(k=Math.round(k),l=Math.round(l));b=k+b;d=l+d;g=g.Kg?a.Ie(c):a.Ie(c)/tn(a);const [n,p]=An(a);if(.5!==n||.5!==p)l=a.Ie(c)/g,c=(n-.5)*e.jg/l,e=(p-.5)*e.cf/l,a=a.Ka(),0!==a&&(Wm.set(c,e),Wm.rotate(a),c=Wm.fa,e=Wm.ba),b+=c,d+=e;return[b,d,g]}
function Yn(a,b){if(a.BG){var d=a.g.$;const [l,n]=An(a);if(a.dj.Kg){var c=a.uk,e=d.fm(),g=self.devicePixelRatio,k=2*b.Ie(e)*g*b.vx/e;d=d.gm()*k/(2*g);e=e*k/(2*g);g=-d;k=-e;b.Sd()?pf.U6(c,g,d,k,e,b.zq,b.fq):pf.T6(c,g,d,k,e,b.zq,b.fq)}else.5===l&&.5===n?Qm.Ca(a.uk,d.wF):Bf(b,a.uk,d.gm()/d.fm(),l,n);a.BG=!1}return a.uk}function Zn(a,b){b.tm(Yn(a,b));a=Wn(a,b);b.ls(a)}
function $n(a,b,d){const c=yn(a),e=a.Fg,g=a.Xb().Kg,k=ao(a.Xb());let l=null;for(let n=0,p=d.length;n<p;++n){const r=d[n];if(r===l)continue;l=r;const u=r.m();u.Rd()&&bo(u,c,k,g)&&co(a,r,u,b,e)}}
function co(a,b,d,c,e){if(d.Yy()){const A=d.Yf.Yg();var g=A.gs,k=d.em(),l=a.g.Ky();var n=b.g;var p=n.jw.get(b);n=p?p.ea():Gk(n);p=a.g.Ly()*tn(a);var r=a.Ka(),u=Cl(d);if(A.cA&&!A.Mx)var x=null;else a:{var y=Cl(d);x=eo(d);d=d.Wc;const D=x+d,F=y.ca,J=y.aa,H=y.la;y=y.ka;if(wn(a)){if(fo(a,F,J,x)||fo(a,H,J,x)||fo(a,H,y,x)||fo(a,F,y,x)||0<d&&(fo(a,F,J,D)||fo(a,H,J,D)||fo(a,H,y,D)||fo(a,F,y,D))){x=null;break a}}else if(D>=a.Ie()/tn(a)){x=null;break a}let [L,Y]=go(a,F,J,x),[da,Fa]=go(a,H,y,x);if(0!==a.Ka()||
0<d||wn(a)){const [bd,wc]=go(a,H,J,x),[tb,xc]=go(a,F,y,x);if(0<d){const [ne,oe]=go(a,F,J,D),[Jf,Kf]=go(a,H,J,D),[Lf,pe]=go(a,H,y,D),[Mf,Nf]=go(a,F,y,D);x=Math.min(L,da,bd,tb,ne,Jf,Lf,Mf);da=Math.max(L,da,bd,tb,ne,Jf,Lf,Mf);L=x;x=Math.min(Y,Fa,wc,xc,oe,Kf,pe,Nf);Fa=Math.max(Y,Fa,wc,xc,oe,Kf,pe,Nf);Y=x}else x=Math.min(L,da,bd,tb),da=Math.max(L,da,bd,tb),L=x,x=Math.min(Y,Fa,wc,xc),Fa=Math.max(Y,Fa,wc,xc),Y=x}Km.set(L,Y,da,Fa);x=Km}g.call(A,c,e,{BP:b,Hk:k,devicePixelRatio:l,time:n,YC:p,XC:r,bu:u,yI:x,
W5:null,J5:null,K5:null,v7:null});b=a.Sa();c.Cg=b;A.BD()&&Zn(a,c)}else ho(b,d,c)}function io(a){if(a.gB){var b=a.g.Ba();const d=Yn(a,b),c=Wn(a,b);b=a.yW;gf(0,1,0,c,d,ff,Ye);gf(1,1,0,c,d,ff,Ze);gf(0,0,0,c,d,ff,$e);gf(1,0,0,c,d,ff,af);gf(0,1,1,c,d,ff,bf);gf(1,1,1,c,d,ff,cf);gf(0,0,1,c,d,ff,df);gf(1,0,1,c,d,ff,ef);hf($e,Ye,bf,b.aV);hf(Ye,Ze,cf,b.nW);hf(Ze,af,ef,b.PV);hf(af,$e,df,b.IT);hf(df,bf,cf,b.iU);hf(af,Ze,Ye,b.XN);a.gB=!1}return a.yW}
function ho(a,b,d){b=b.Mt;if(d.Gg!==b){const c=b.U;c.$k(b.Zc);c.te(b.lh);c.rm(b.yb);If(c,b.Ed);c.Gg=b}a.ng(d)}
function xn(a,b,d,c=0){var e=a.Sk();const g=a.g,k=g.Ba(),l=tn(a);Pm.set(Sm,0,0,g.jg/l,g.cf/l);b/=e;d=Sm[3]-d/e;e=Yn(a,k);a=Wn(a,k);a:if(gf(b,d,0,a,e,Sm,Se)&&gf(b,d,1,a,e,Sm,Te)){Pe.jp(Te,Te,Se);Pe.set(Ve,0,0,1);c=-c;a=Pe.mr(Ve,Te);b=0;if(0===a){if(0!==Pe.mr(Ve,Se)+c){c=!1;break a}}else if(b=-(Pe.mr(Se,Ve)+c)/a,0>b){c=!1;break a}Pe.BQ(Rm,Se,Te,b);c=!0}else c=!1;return c?[Rm[0],Rm[1]]:[NaN,NaN]}
function jo(a,b,d,c,e){var g=a.g;const k=g.Ba(),l=tn(a);Pm.set(Sm,0,0,g.jg/l,g.cf/l);g=Yn(a,k);a=Wn(a,k);return Jm.T.lE(b,d,c,a,g,Sm,Rm)?[Rm[0]*e,(Sm[3]-Rm[1])*e]:[NaN,NaN]}function ko(a,b,d,c=0){return jo(a,b,d,c,a.Sk())}function go(a,b,d,c=0){return jo(a,b,d,c,a.Gu()*a.yn())}function fo(a,b,d,c){a=io(a).XN;return!(a.x*b+a.y*d+a.z*c>=a.w)}
Jm.YJ=class extends Jm.xa{constructor(a,b,d){super();d=Object.assign({},bn,d);this.dj=a;this.g=a.I();this.rk=b;this.Ta=d.name;this.ta=-1;this.fb=d.ju;this.aB=!!d.WP;this.rw=!!d.isVisible;this.ow=!!d.DI;this.Vn=Jm.A(Jm.mb);cc(this.Vn,d.backgroundColor);this.Al=!!d.FI;this.Gf=d.rQ[0];this.Hf=d.rQ[1];this.yb=Jm.A(Jm.mb,1,1,1,d.opacity);this.oH=Jm.A(Jm.mb);this.xG=!!d.CI;this.e5=!!d.BX;this.pW=!!d.RX;this.u5=!!d.SX;this.zk=d.TI;this.lh=d.Hk;this.Fg=null;this.ye=1;this.Ed=d.Zl;this.Bk=this.Ak=this.Uf=
0;this.jo=!1;this.EC=Jm.A(Jm.Rect);this.zW=Jm.A(Jm.Rect);this.gP=Jm.A(Jm.Rect);this.hB=!0;this.uk=Qm.create();this.BG=!0;this.xB=Qm.create();this.tN=!0;this.yW=Jm.A(Jm.T.g2);this.gB=!0;this.fW=[];this.DU=d.iX;this.Mm=[];this.pF=[];this.$M=new Map;this.J=[];this.Qn=this.oP=!1;const c=this.g.$;this.Va=Jm.A(Jm.Kr,this,d.XW);this.qh=Jm.A(Jm.T.og,c.xA,{xI:(e,g)=>{g=g.Xp;const k=g.Ej();e.rm(g.RD());e.zu(k);e.Tr(k);c.ds(k)},BI:e=>this.Va.LE(e)});this.GC=this.yo=!0;this.gx=null;this.AN=[];this.CG=!1;this.O4=
Jm.A(Jm.Rect,0,0,-1,-1);this.e4=Jm.A(Jm.Rect,0,0,-1,-1);this.gG=new self.VZ(this);gn(this);hn(this)&&(this.gx=Jm.A(Jm.h1,this.g.gj,this.g.fj));this.Jf=d.JX.map(e=>jn(this.dj,this,e))}j(){for(const a of this.Jf)a.j();Jm.D(this.Jf);for(const a of this.J)lo(this.g,a);Jm.D(this.J);this.g=this.dj=this.rk=this.gG=null}Ti(a,b){if(!a.pb().ue)throw Error("instance is not of world type");const d=a.m();if(d.V()!==this)throw Error("instance added to wrong layer");this.J.push(a);0!==d.Sa()&&(this.Qn=!0);b&&hn(this)&&
T(a.m());nn(this)}us(a,b){const d=this.J.indexOf(a);0>d||(b&&hn(this)&&mo(a.m()),this.J.splice(d,1),nn(this),0===this.J.length&&(this.Qn=!1))}kz(a,b,d,c,e){const g=this.g.Ga(),k=this.g.Id,l=a.Qa,n=[];for(const u of this.Mm){var p=u[0];if(b.Fh(p[0],p[1])){p=k[u[1]];if(p!==a)if(l){if(!a.Ss.has(p))continue}else continue;p=this;var r=U(this.g);this.Xb()!==r&&((p=r.Aw.get(this.oa().toLowerCase())||null)||(p=no(r,this.Ja())));r=oo(this.g,u,p,!1,void 0,void 0,!1,e);cn(p,r);p=r.m();po(p,d,c);T(p);Uk(g,!0);
Vk(r);Uk(g,!1);n.push(r)}}return n}Xb(){return this.dj}oa(){return this.Ta}qL(a){this.ta=a}Ja(){return this.ta}I(){return this.g}yn(){return this.g.yn()}Yg(){this.Ez();return this.qh}Ez(){const a=this.Ku();if(this.yo||a!==this.GC||this.qh.AB){var b=this.Va.$h;ik(this.qh,b.map(d=>d.gf()),{$x:b.map(d=>d.Ja()),IP:!a,MQ:!0});this.yo=!1;this.GC=a}}Yh(){this.Va.Yh();this.yo=!0}Rd(){for(const a of qn(this))if(!a.rw)return!1;return!0}hh(a){a=!!a;this.rw!==a&&(this.rw=a,this.g.M())}bl(a){var b=this.Xb();const d=
b.rq?-Infinity:qo(b);b=b.rq?Infinity:b.L()-qo(b);a>b&&(a=b);a<d&&(a=d);this.Ak!==a&&(this.Ak=a,this.jo&&(fn(this),this.g.M()))}cl(a){var b=this.Xb();const d=b.rq?-Infinity:ro(b);b=b.rq?Infinity:b.K()-ro(b);a>b&&(a=b);a<d&&(a=d);this.Bk!==a&&(this.Bk=a,this.jo&&(fn(this),this.g.M()))}Ph(){return this.jo?this.Ak:this.Xb().Ph()}Qh(){return this.jo?this.Bk:this.Xb().Qh()}Ie(a){return this.g.Ie(a)}bd(){return this.yb.Oa}Vh(a){a=Jm.X(a,0,1);this.yb.Oa!==a&&(Wb(this.yb,a),gn(this),this.g.M())}RD(){return this.oH}Ku(){return Yb(this.yb,
1,1,1,1)}wf(a){this.Ed!==a&&(this.Ed=a,this.g.M())}Sa(){return this.Ed}Gd(a){a=Jm.Od(a);this.Uf!==a&&(this.Uf=a,fn(this),this.g.M())}Ka(){return Jm.Od(this.dj.Ka()+this.Uf)}te(a){this.lh!==a&&(this.lh=a,this.g.M())}em(){return this.lh}*dD(){let a=this.rk;for(;a;)yield a,a=a.rk}wz(){return this.xG||!this.Ku()||0!==this.em()||this.Va.Yy()}Ej(){return this.Fg}ng(a,b,d){var c=this.g.$,e=this.wz(),g=null;let k=null;if(so(this.g))if(a.Ij()){var l=to(c,this);l&&(k=Eh(l),bi(a,k))}else a.Sd()&&Ii(a,2*(this.Ja()+
1));e?(g={Zb:this.g.Ob,Mk:!0,kr:a.Sd()?this.g.Nx:!1},"low"===c.fk&&(g.width=c.gm(),g.height=c.fm()),this.Fg=g=this.g.Fy(g),a.hf(g),this.Al&&a.Bj(0,0,0,0)):(this.Fg=b,a.hf(b));this.Al||a.pe(this.Vn);uo(this.dj,a,this.Fg,this.Jf,e&&this.Al);Zn(this,a);c=this.Sa();a.Cg=c;a.Sf(!Fn(this));if(tn(this)>Number.EPSILON)if(Pn(this),c=hn(this)&&0===this.Sa()&&!this.Qn,wn(this)){c=this.Fg;l=io(this);var n=En(this);for(let F=0,J=n.length;F<J;){var p=n[F],r=p.m();if(r.Rd()&&vo(r,l)){(!p.xp()||0<r.Wc)&&$m.push(p);
var u=eo(p.m());Zm.push(p);for(var x=F+1;x<J;++x){var y=n[x],A=y.m();if(A.Rd()&&vo(A,l)){if(eo(A)!==u)break;y.xp()?(0<A.Wc&&$m.push(y),Zm.push(y)):$m.push(y)}}if(1!==Zm.length||0!==(Zm[0].F&32)){p=a;r=this.Fg;p.uJ();for(let H=0,L=Zm.length;H<L;++H)u=Zm[H],y=u.m(),y.Gb(1048576,!0),ho(u,y,p);p.yD();for(let H=0,L=Zm.length;H<L;++H)u=Zm[H],y=u.m(),co(this,u,y,p,r),y.Gb(1048576,!1);p.xD();for(let H=0,L=$m.length;H<L;++H)p=$m[H],r=p.m(),r.Gb(2097152,!0),co(this,p,r,a,c),r.Gb(2097152,!1)}else{co(this,p,
r,a,c);for(let H=0,L=$m.length;H<L;++H)r=$m[H],r!==p&&(u=r.m(),co(u.V(),r,u,a,c))}F=x;Jm.D(Zm);Jm.D($m)}else++F}}else if(c){n=this.gx;c=this.e4;l=this.O4;x=yn(this);c.set(n.dl(x.ca),n.el(x.aa),n.dl(x.la),n.el(x.ka));if(this.CG&&c.Wd(l))n=this.AN;else{Pn(this);Jm.D(Mm);this.gx.oE(yn(this),Mm);if(Mm.length)if(1===Mm.length)n=Mm[0];else{for(n=Mm;1<n.length;){r=[];u=n.length;for(y=0;y<u-1;y+=2){x=r;p=x.push;A=n[y];var D=n[y+1];const F=[];let J=0,H=0,L=A.length,Y=D.length;for(;J<L&&H<Y;){const da=A[J],
Fa=D[H];da.m().wj<Fa.m().wj?(F.push(da),++J):(F.push(Fa),++H)}for(;J<L;++J)F.push(A[J]);for(;H<Y;++H)F.push(D[H]);A=F;p.call(x,A)}1===u%2&&r.push(n[u-1]);n=r}n=n[0]}else n=[];this.CG=!0;l.Ca(c)}$n(this,a,n);n!==this.AN&&Jm.Pd(this.AN,n)}else $n(this,a,En(this));a.Cg=0;If(a,0);e&&(a.Sf(!1),e=g,g=this.g,0===this.Va.$h.length?(a.hf(b),Ef(a),d&&0===this.lh&&this.Ku()?a.wJ(e):(a.te(this.lh),a.rm(this.oH),a.zu(e)),a.Tr(e),g.ds(e)):this.Yg().gs(a,b,{BP:this,Hk:this.em(),devicePixelRatio:g.Ky(),YC:g.Ly()*
tn(this),XC:this.Ka(),bu:yn(this),yI:null,UP:!0}));k&&ci(a,k);so(this.g)&&a.Sd()&&Ii(a,2*(this.Ja()+1)+1);this.Fg=null}Gu(){return tn(this)*this.g.Gu()}Sk(){return tn(this)*this.g.Sk()}wa(){return{d:this.aB,s:this.ye,a:this.Uf,v:this.rw,i:this.ow,bc:this.Vn.toJSON(),t:this.Al,sx:this.Ak,sy:this.Bk,hosp:this.jo,px:this.Gf,py:this.Hf,c:this.yb.toJSON(),sr:this.zk,fx:this.Va.Gc(),cg:this.pF}}Aa(a){this.aB=!!a.d;this.ye=a.s;this.Uf=a.a;this.rw=!!a.v;this.ow=a.hasOwnProperty("i")?a.i:!0;cc(this.Vn,a.bc);
this.Al=!!a.t;a.hasOwnProperty("sx")&&(this.Ak=a.sx);a.hasOwnProperty("sy")&&(this.Bk=a.sy);a.hasOwnProperty("hosp")&&(this.jo=!!a.hosp);this.Gf=a.px;this.Hf=a.py;cc(this.yb,a.c);gn(this);this.zk=a.sr;Jm.Pd(this.pF,a.cg);Jm.Pd(this.Mm,this.fW);const b=new Set(this.pF);let d=0;for(let c=0,e=this.Mm.length;c<e;++c)b.has(this.Mm[c][2])||(this.Mm[d]=this.Mm[c],++d);Jm.lg(this.Mm,d);this.Va.cc(a.fx);this.yo=!0}};"use strict";const wo=self.B,xo=self.Aj;wo.A(wo.Rect);wo.A(wo.Rect);
const yo=wo.A(wo.Rect),zo=wo.A(wo.mb),Ao=self.Gi.yr,Mn=[],Bo=[],Co=[],Do=[];function Eo(a,b,d,c){return a[0]===Math.fround(b)&&a[1]===Math.fround(d)&&a[2]===Math.fround(c)}let Fo=null;function Go(a,b){if(Fo!==a){Zn(a,b);var d=a.Sa();b.Cg=d;Fo=a}}function $k(a){a.Kg&&(a.Kg=!1,Ho(a),Io(a),a.g.M())}function al(a){a.Kg||(a.Kg=!0,Ho(a),Io(a),a.g.M())}function mn(a,b){if(b.Sc())for(const d of b.ei.Rm)a.et.add(d);else a.et.add(b)}function no(a,b){b=wo.X(Math.floor(b),0,a.jd.length-1);return a.jd[b]}
function Bn(a){return a.Kg?.5:a.bI}function Cn(a){return a.Kg?.5:a.cI}function uo(a,b,d,c,e){c=c.filter(g=>Jn(g));for(let g=0,k=c.length;g<k;){const l=c[g];if(Hn(l)&&!Vn(l)){Mn.push(l);for(let n=g+1;n<k;++n){const p=c[n];if(Hn(p)&&!Vn(p))Mn.push(c[n]);else break}if(2<=Mn.length||1===Mn.length&&Ln()){Jo(a,b,d);g+=Mn.length;wo.D(Mn);continue}wo.D(Mn)}l.ng(b,d,e&&0===g);++g}}function ao(a){const b=Bn(a);a=Cn(a);return 0>b||1<b||0>a||1<a}
function en(a){a.bl(a.Ph());a.cl(a.Qh());for(const b of a.jd)b.jo&&(b.bl(b.Ph()),b.cl(b.Qh()))}function Ko(a){a.jd=[...a.Rx()];a.Aw.clear();a.EN.clear();for(let b=0,d=a.jd.length;b<d;++b){const c=a.jd[b];c.qL(b);a.Aw.set(c.oa().toLowerCase(),c);a.EN.set(c.fb,c)}}function Lo(a){let b=tn(a.jd[0]);for(let d=1,c=a.jd.length;d<c;++d){const e=a.jd[d];if(0!==e.Gf||0!==e.Hf)b=Math.min(b,tn(e))}return b}function qo(a){return.5*a.g.jg/Lo(a)}function ro(a){return.5*a.g.cf/Lo(a)}
function Io(a){for(const b of a.jd)fn(b)}function Ho(a){for(const b of a.jd)b.BG=!0,b.gB=!0,b.hB=!0}function Mo(a,b){b=!!b;a.gN!==b&&(a.gN=b,Io(a),a.g.M())}function No(a,b,d,c,e,g,k,l,n,p){Eo(a.$j,b,d,c)&&Eo(a.Xn,e,g,k)&&Eo(a.Bv,l,n,p)||(Ao.set(a.$j,b,d,c),Ao.set(a.Xn,e,g,k),Ao.set(a.Bv,l,n,p),Io(a),a.g.M())}function Oo(a,b){return a.EN.get(b)||null}
function Po(a,b,d,c){if(2<=c)if(d){if(d===b||On(d,b))throw Error(`cannot move layer '${b.oa()}' to sub-layer of itself`);In(d,b,2===c);b.rk=d}else 2===c?a.kj.push(b):a.kj.unshift(b),b.rk=null;else{var e=d.rk;if(e){if(On(d,b))throw Error(`cannot move layer '${b.oa()}' to sub-layer of itself`);a=e.Jf.indexOf(d);if(-1===a)throw Error("cannot find layer to insert by");0===c&&++a;e.Jf.splice(a,0,b);b.rk=e}else{e=a.kj.indexOf(d);if(-1===e)throw Error("cannot find layer to insert by");0===c&&++e;a.kj.splice(e,
0,b);b.rk=null}}}function Qo(a,b){var d=b.rk;if(d){a=d.Jf.indexOf(b);if(-1===a)throw Error("cannot find layer to remove");d.Jf.splice(a,1);return!0}if(1<a.kj.length){d=a.kj.indexOf(b);if(-1===d)throw Error("cannot find layer to remove");a.kj.splice(d,1);return!0}return!1}function Ro(a){for(a=a.kj.filter(b=>Jn(b))[0];a;){if(!a.Al)return Vb(zo,a.Vn),Wb(zo,1),zo;if(a.wz())return Sb(zo,0,0,0,0),zo;a=a.Jf.filter(b=>Jn(b))[0]}Sb(zo,0,0,0,0);return zo}
function So(a,b,d){if(b===a||!d)return Promise.resolve();b&&(wo.UY(a.oj,b.oj),b.oj.clear());b=[];for(const c of a.et)a.oj.has(c)||(b.push(c.In(d)),a.oj.add(c));return Promise.all(b)}function To(a,b){a.oC.add(b);b.then(()=>a.oC.delete(b)).catch(()=>a.oC.delete(b))}async function Uo(a,b){if(b.Qa)throw Error("cannot load textures for family");var d=a.g.Ba();!d||d.Fn()||a.oj.has(b)||(a.oj.add(b),d=b.In(d),To(a,d),await d,b.hE(),a.g.M())}
function Vo(a,b){if(b.Qa||0<b.J.length)throw Error("cannot unload textures");a.g.Ba()&&a.oj.has(b)&&(a.oj.delete(b),b.mm())}function Wo(a,b){for(const c of a.g.Id)if(!c.Qa&&c.ue)for(const e of c.qa()){const g=e.m();var d=g.V();d=wo.X(d.Ja(),0,a.jd.length-1);d=a.jd[d];Xo(g,d,!0);d.J.includes(e)||(d.J.push(e),0!==e.m().Sa()&&(d.Qn=!0),nn(d))}if(!b)for(const c of a.jd)pn(c,!1)}
function Yo(a){for(const c of a.jd){var b=a.hA;const e=c.dj.mt;let g=0;const k=c.Mm;for(let l=0,n=k.length;l<n;++l){var d=k[l];const p=ln(c.g,d[1]);let r=!0;if(!Zo(p)||e)d=oo(c.g,d,c,!0),b.push(d),p.Qf()&&(r=!1,c.pF.push(d.Yb));r&&(k[g]=k[l],++g)}Jm.lg(k,g);Xk(c.g);nn(c)}}
function $o(a){let b=!1;for(const [c,e]of Object.entries(a.Eq)){const g=ap(a.g,parseInt(c,10));if(g&&!g.Qa&&Zo(g))for(const k of e){var d=null;if(g.ue&&(d=k.hasOwnProperty("instJson")?Oo(a,k.instJson.w.l):Oo(a,k.w.l),!d))continue;d=oo(a.g,g,d,!1,0,0,!0);k.hasOwnProperty("instJson")?d.cc(k.instJson):d.cc(k);b=!0;a.iA.push(d);k.hasOwnProperty("instJson")&&(a.gM.set(d,k),a.fM.set(k.index,d))}}for(const c of a.jd)pn(c,!0),nn(c);b&&(Xk(a.g),bp(a.g))}
function cp(a,b){for(const c of b){if(!c.Sc())continue;const e=c.m(),g=dp(c);for(const k of c.H().ei.Rm)if(k!==c.H()){var d=k.qa();d.length>g?c.Cd.push(d[g]):(d=e?oo(a.g,k,e.V(),!0,e.Y(),e.Z(),!0):oo(a.g,k,null,!0,0,0,!0),Xk(a.g),ep(k),c.Cd.push(d),b.push(d))}}}function fp(a){for(const b of a.ZM)ln(a.g,b[1]).Sc()||oo(a.g,b,null,!0)}
async function gp(a,b){const d=a.g,c=a.nb,e=d.Ga();a.eU&&(a.Ad=e.FH.get(a.eU.toLowerCase())||null,hp(a.Ad));c.Kw=a;a.O=a.b5;a.P=a.a5;a.Ak=d.gj/2;a.Bk=d.fj/2;en(a);Ho(a);Io(a);Wo(a,b);Yo(a);a.mt||$o(a);cp(a,a.hA);cp(a,a.iA);fp(a);c.hj=null;Xk(d);var g=a.g.G3;await Promise.all(g);wo.D(g);if(!d.hk){for(const k of a.hA)ip(k);for(const k of a.iA)jp(k,a.gM,a.fM);for(const [k,l]of Object.entries(a.Eq))(g=ap(a.g,parseInt(k,10)))&&!g.Qa&&Zo(g)&&wo.D(l);for(const k of a.hA)kp(k);for(const k of a.iA)kp(k)}wo.D(a.hA);
wo.D(a.iA);a.gM.clear();a.fM.clear();await Promise.all([...a.et].map(k=>k.fK(a.g.Ba())));b&&(d.ib().dispatchEvent(new wo.Event("beforefirstlayoutstart")),await d.un(new wo.Event("beforeprojectstart")));d.ib().dispatchEvent(new wo.Event("beforelayoutstart"));await a.un(new wo.Event("beforelayoutstart"));d.hk||await d.Vd(wo.C.hb.G.hS,null,null);d.ib().dispatchEvent(new wo.Event("afterlayoutstart"));await a.un(new wo.Event("afterlayoutstart"));b&&(d.ib().dispatchEvent(new wo.Event("afterfirstlayoutstart")),
await d.un(new wo.Event("afterprojectstart")));lp(e,c);await Promise.all([...a.oC]);a.mt=!1}function mp(a){const b=[],d=a.ZM;let c=0;for(let e=0,g=d.length;e<g;++e){const k=d[e],l=ln(a.g,k[1]);l.Qf()?l.Sc()&&np(l.ei)||b.push(oo(a.g,k,null,!0)):(d[c]=k,++c)}wo.lg(d,c);Xk(a.g);cp(a,b)}
async function op(a){const b=a.nb;a.g.hk||(await a.un(new wo.Event("beforelayoutend")),await a.g.Vd(wo.C.hb.G.m0,null,null),await a.un(new wo.Event("afterlayoutend")));pp(b,!0);qp(a.g.Ga());if(!a.mt){a.HB.clear();var d=0;for(var c of a.jd){Pn(c);for(var e of c.J){var g=e.H();if(!g.Qf()&&Zo(g)){g=a;var k=d,l=e.H().fb.toString();g.Eq.hasOwnProperty(l)||(g.Eq[l]=[]);l=g.Eq[l];k={index:k,instJson:e.Gc(),sceneGraphJson:{children:[]}};l.push(k);g.HB.set(e,k);d++}}}for(const n of a.jd)for(const p of n.J)if(d=
p.H(),!d.Qf()&&Zo(d)){d=a;c=d.HB.get(p);for(const r of p.He())(e=d.HB.get(r))&&c.sceneGraphJson.children.push({index:e.index,flags:rp(r.m())})}a.HB.clear()}for(const n of a.jd){for(const p of n.J)p.H().Qf()||lo(n.g,p);Xk(n.g);Jm.D(n.J);n.Qn=!1;nn(n)}for(const n of a.g.Id)if(!(n.Qf()||n.ue||n.pb().qq||n.Qa)){for(const p of n.qa())lo(a.g,p);Xk(a.g)}pp(b,!1);b.ub()===a&&(b.Kw=null)}
function Jo(a,b,d){var c=Mn;c[0].Al||(Vb(zo,c[0].Vn),Wb(zo,1),b.pe(zo));var e=a.g.$;b.Sf(!0);for(var g of c)Pn(g),Gn(g,Bo);c=c[0];g=null;if(so(a.g))if(b.Ij()){if(e=to(e,c))g=Eh(e),bi(b,g)}else b.Sd()&&Ii(b,2*(c.Ja()+1));for(let x=0,y=Bo.length;x<y;){var k=Bo[x],l=k.m(),n=l.V();if(l.Rd()&&vo(l,io(n))){(!k.xp()||0<l.Wc)&&Do.push(k);var p=eo(k.m());Co.push(k);for(e=x+1;e<y;++e){var r=Bo[e],u=r.m();if(u.Rd()&&vo(u,io(u.V()))){if(eo(u)!==p)break;r.xp()?(0<u.Wc&&Do.push(r),Co.push(r)):Do.push(r)}}if(1!==
Co.length||0!==(Co[0].F&32)){k=b;l=d;n=Co;k.uJ();for(let A=0,D=n.length;A<D;++A)p=n[A],r=p.m(),u=r.V(),r.Gb(1048576,!0),Go(u,k),ho(p,r,k);k.yD();for(let A=0,D=n.length;A<D;++A)p=n[A],r=p.m(),u=r.V(),Go(u,k),co(u,p,r,k,l),r.Gb(1048576,!1);k.xD();for(let A=0,D=Do.length;A<D;++A)k=Do[A],l=k.m(),n=l.V(),l.Gb(2097152,!0),Go(n,b),co(n,k,l,b,d),l.Gb(2097152,!1)}else{Go(n,b);co(n,k,l,b,d);for(let A=0,D=Do.length;A<D;++A)l=Do[A],l!==k&&(n=l.m(),p=n.V(),Go(p,b),co(p,l,n,b,d))}x=e;wo.D(Co);wo.D(Do)}else++x}g&&
ci(b,g);so(a.g)&&b.Sd()&&Ii(b,2*(c.Ja()+1)+1);wo.D(Bo);Fo=null}
wo.F_=class extends wo.xa{constructor(a,b,d){super();this.nb=a;this.g=a.I();this.Ta=d[0];this.b5=d[1];this.a5=d[2];this.O=d[1];this.P=d[2];this.rq=!!d[3];this.Kg=!!d[4];this.bI=d[5];this.cI=d[6];this.eU=d[7];this.Ad=null;this.fb=d[8];this.ta=b;this.Bk=this.Ak=0;this.ye=1;this.Uf=0;this.et=new Set;this.oj=new Set;this.oC=new Set;this.hA=[];this.iA=[];this.gM=new Map;this.fM=new Map;this.ZM=[];this.gN=!1;this.$j=Ao.create();this.Xn=Ao.create();this.Bv=Ao.create();this.kj=[];this.jd=[];this.Aw=new Map;
this.EN=new Map;const c=this.g.$;this.Va=wo.A(wo.Kr,this,d[11]);this.qh=wo.A(wo.T.og,c.xA,{xI:(e,g)=>{g=g.Xp.Ej();Yh(e);e.zu(g);e.Tr(g);c.ds(g)},BI:e=>this.Va.LE(e)});this.yo=!0;this.DW=!1;this.Fg=null;this.Eq={};this.HB=new Map;this.mt=!0;this.PA=new self.WZ(this);this.Lf=wo.A(wo.Event.ib);for(const e of d[9])this.kj.push(jn(this,null,e));Ko(this);for(const e of this.Rx())kn(e);for(const e of d[10]){a=ln(this.g,e[1]);if(!a)throw Error("missing nonworld object class");a.Ms||(a.Ms=e);this.ZM.push(e);
mn(this,a)}}j(){for(const a of this.jd)a.j();wo.D(this.jd);this.oC.clear();this.g=this.nb=this.Ad=null}I(){return this.g}oa(){return this.Ta}Ja(){return this.ta}Yg(){this.Ez();return this.qh}Ez(){const a="low"===this.g.$.fk;if(this.yo||this.DW!==a||this.qh.AB){var b=this.Va.$h;ik(this.qh,b.map(d=>d.gf()),{$x:b.map(d=>d.Ja()),$W:a,MQ:!0});this.yo=!1;this.DW=a}}Yh(){this.Va.Yh();this.yo=!0}bl(a){const b=this.rq?-Infinity:qo(this),d=this.rq?Infinity:this.L()-qo(this);a>d&&(a=d);a<b&&(a=b);this.Ak!==
a&&(this.Ak=a,Io(this),this.g.M())}Ph(){return this.Ak}cl(a){const b=this.rq?-Infinity:ro(this),d=this.rq?Infinity:this.K()-ro(this);a>d&&(a=d);a<b&&(a=b);this.Bk!==a&&(this.Bk=a,Io(this),this.g.M())}Qh(){return this.Bk}BE(a){this.ye!==a&&(this.ye=a,Io(this),en(this),this.g.M())}Gd(a){a=wo.Od(a);this.Uf!==a&&(this.Uf=a,Io(this),this.g.M())}Ka(){return this.Uf}L(){return this.O}ih(a){!isFinite(a)||1>a||(this.O=a)}K(){return this.P}Uh(a){!isFinite(a)||1>a||(this.P=a)}*Rx(){for(const a of this.kj)yield*Nn(a)}V(a){return"number"===
typeof a?no(this,a):this.Aw.get(a.toString().toLowerCase())||null}SQ(a,b,d){if(this.Aw.get(a.toLowerCase()))throw Error(`layer name '${a}' already in use`);if(!b&&2>d)throw Error("invalid insert position");a=wo.A(wo.YJ,this,2<=d?b:b.rk,{name:a,ju:Math.floor(1E15*Math.random()),WP:!0});Po(this,a,b,d);this.I().M();Ko(this)}YR(a,b,d){if(!b&&2>d)throw Error("invalid insert position");Qo(this,a);Po(this,a,b,d);this.I().M();Ko(this)}zS(a){Qo(this,a)&&(a.j(),this.I().M(),Ko(this))}kK(){const a=new Set;for(const d of this.Rx()){var b;
if(b=d.aB){a:{for(const c of d.dD())if(c.aB){b=!0;break a}b=!1}b=!b}b&&a.add(d)}for(const d of a)Qo(this,d),d.j();this.I().M();Ko(this)}OE(){this.oj.clear()}kz(a,b,d,c,e,g){if(d)return d.kz(a,b,c,e,g);d=[];for(const k of this.jd)d.push(k.kz(a,b,c,e,g));return d.flat()}Ej(){return this.Fg}wz(){const a=this.g,b=a.Ba().Ij();return"low"===a.$.fk||b&&a.Nx||"low-latency"===a.Hv||this.Va.Yy()||b&&a.To}ng(a){var b=this.g.$,d=this.wz();if(d){"low-latency"!==this.g.Hv&&(a.hf(null),a.Bj(0,0,0,0));const c={Zb:this.g.Ob,
Mk:a.Sd()||this.g.Nx||this.Va.Yy(),kr:a.Sd()?this.g.Nx:!1};"low"===b.fk&&(c.width=b.gm(),c.height=b.fm());this.Fg=this.g.Fy(c)}else this.Fg=null;a.hf(this.Fg);a.pe(Ro(this));this.g.To&&a.$Q();uo(this,a,this.Fg,this.kj,!0);d&&(a.Sf(!1),b=this.Fg,d=this.g,0===this.Va.$h.length?(a.hf(null),Ef(a),a.wJ(b),a.Tr(b),d.ds(b)):(yo.set(0,0,d.jg,d.cf),this.Yg().gs(a,null,{BP:this,Hk:3,devicePixelRatio:this.g.Ky(),YC:this.g.Ly()*this.ye,XC:this.Ka(),bu:yo,yI:null,UP:!0})));this.Fg=null}wa(){const a={sx:this.Ph(),
sy:this.Qh(),s:this.ye,a:this.Ka(),w:this.L(),h:this.K(),ortho:this.Kg,vpX:Bn(this),vpY:Cn(this),fv:this.mt,persist:this.Eq,fx:this.Va.Gc(),layers:{},dynamicLayers:[]};for(const l of this.jd)if(l.aB){var b=l.rk,d=a.dynamicLayers,c=d.push,e=l.fb,g=l.oa();b=b?b.fb:null;var k=(k=l.rk)?k.Jf.indexOf(l):l.Xb().kj.indexOf(l);c.call(d,{sid:e,name:g,parentSid:b,siblingIndex:k,data:l.wa()})}else a.layers[l.fb.toString()]=l.wa();return a}Aa(a){this.Ak=a.sx;this.Bk=a.sy;this.ye=a.s;this.Uf=a.a;this.O=a.w;this.P=
a.h;this.Kg=!!a.ortho;a.hasOwnProperty("vpX")&&(this.bI=a.vpX);a.hasOwnProperty("vpY")&&(this.cI=a.vpY);this.mt=!!a.fv;this.Eq=a.persist;this.Va.cc(a.fx);this.yo=!0;for(const [k,l]of Object.entries(a.layers)){var b=Oo(this,parseInt(k,10));b&&b.Aa(l)}if(a.hasOwnProperty("dynamicLayers")){this.kK();Xk(this.g);b=new Map;a=a.dynamicLayers;for(let k=a.length-1;0<=k;--k){var d=a[k],c=d.sid,e=d.name,g=d.parentSid;const l=d.siblingIndex;d=d.data;Ko(this);if(this.Aw.get(e.toLowerCase())||Oo(this,c))continue;
let n;if(null===g)n=null,g=this.kj;else{n=Oo(this,g);if(!n)continue;g=n.Jf}c=wo.A(wo.YJ,this,n,{name:e,ju:c,WP:!0});g.push(c);e=b.get(g);e||(e=[],b.set(g,e));e.push({GI:c,DQ:l});c.Aa(d)}for(const [k,l]of b){l.sort((n,p)=>n.DQ-p.DQ);for(const n of l)b=n.GI,a=n.DQ,k.splice(k.indexOf(b),1),k.splice(a,0,b)}}Ko(this);Ho(this);Io(this)}Mh(a){a.layout=this.PA;var b=this.g;(b=b.Sb&&!Wk(b.Ga()))&&xo.LK();this.Lf.dispatchEvent(a);b&&xo.jJ()}un(a){a.layout=this.PA;return ed(this.Lf,a)}};"use strict";
const sp=self.B;function pp(a,b){if(b)a.lw++;else{if(0>=a.lw)throw Error("already unset");a.lw--}}function tp(a){if(a.MF)return a.MF;if(a.Uj.length)return a.Uj[0];throw Error("no first layout");}function up(a,b){return a.HN.get(b.toLowerCase())||null}function*vp(a){a.Kw&&(yield a.Kw);a.yO.length&&(yield*a.yO)}function wp(a){(a=a.ub())&&Ho(a)}function xp(a){(a=a.ub())&&Io(a)}
sp.G_=class extends sp.xa{constructor(a){super();this.g=a;this.Uj=[];this.HN=new Map;this.nB=new Map;this.Kw=null;this.yO=[];this.MF=null;this.lw=0;this.hj=null}j(){this.hj=this.MF=this.Kw=this.g=null;sp.D(this.Uj);this.HN.clear();this.nB.clear();sp.D(this.yO)}Ea(a){a=sp.A(sp.F_,this,this.Uj.length,a);this.Uj.push(a);this.HN.set(a.oa().toLowerCase(),a);this.nB.set(a.fb,a)}I(){return this.g}Xb(a){"number"===typeof a?(a=sp.X(Math.floor(a),0,this.Uj.length-1),a=this.Uj[a]):a=up(this,a.toString());return a}ub(){return this.Kw}};
"use strict";const yp=self.B;function*zp(a){for(const b of a.we)yield b}function Ap(a,b,d){a.Ao.has(b)||a.Ao.set(b,new Set);a.Ao.get(b).add(d)}function Bp(a,b){for(const d of a.fg)if(d.oa()===b)return d;for(const d of a.we)if(d.oa()===b)return d;return null}function Cp(a,b){a.fg.includes(b)||a.fg.push(b);a.tl||(a.tl=!0)}function Dp(a){a.pk.length||a.we.length||a.fg.length||a.fB||(a.tl=!1)}
function Ep(a,b){a.we.includes(b)?(b.po=!0,b.Lg=!1,b.tt=!1):(b.po=!1,b.Lg=!0,b.tt=!1,a.fg.includes(b)||a.fg.push(b));a.tl||(a.tl=!0)}function Fp(a,b){b.po=!1;b.Lg=!1;Gp(b);yp.kn(a.fg,b);Dp(a)}function Hp(a,b){b.po=!1;b.Lg=!1;a.we.includes(b)&&(b.tt=!0,a.pk.push(b),yp.kn(a.we,b))}function Ip(a,b){b.po=!1;b.Lg=!1;b.tt=!1;b.Wh(1);yp.kn(a.we,b)}function Jp(a){a.od||Kp(a)&&a.ph&&a.lq&&a.rR()}function Lp(a){return a.Oo.map(b=>b.wa())}function Mp(a){return a.map(b=>b.oa())}
function Np(a,b,d){var c=new Set;for(const e of d)Op(e,b)||c.add(e);yp.Di(d,c);if(b){c=e=>g=>g.oa()===e;for(const e of b)(b=a.Wq.get(e.toLowerCase())||null)&&(d.find(c(e))||d.push(b))}}function Op(a,b){if(!b)return!1;for(const d of b)if(d===a.oa())return!0;return!1}
yp.V1=class extends yp.xa{constructor(a){super();this.g=a;this.qC=yp.A(yp.T1);this.c5=null;this.Oo=[];this.Wq=new Map;this.Ao=new Map;this.bn=new Map;this.fg=[];this.we=[];this.pk=[];this.fB=this.Fv=this.tl=!1;this.No=()=>{if(!this.I().hk&&this.tl&&!this.Fv){for(this.fB=!0;this.fg.length;){var b=this.fg.pop();b.gd();0!==b.Ac&&(this.Ac=1);this.we.push(b)}b=this.g.vA;var d=this.g.Ps,c=this.g.ne;for(let e=this.we.length-1;0<=e;e--){const g=this.we[e];g&&g.jf(b,c,d)}this.fB=!1;0!==this.Ac&&this.I().M()}};
this.Mo=()=>this.kL();this.ML=()=>this.Fz();this.GN=()=>{this.Fv=!1};this.iw=b=>this.NE(b.instance);this.GT=()=>this.hv();this.Bs=()=>this.Ui();this.zT=()=>{const b=this.g.nb.ub();if(b)for(const d of this.Oo){const c=d.HJ();c&&b.oa()===c&&Ep(this,d)}};this.tA=[];this.Ac=0}j(){this.lK();this.Bs=this.iw=this.GN=this.ML=this.Mo=this.No=null;for(const a of this.Oo)a.Tc(),a.j();yp.D(this.Oo);this.Oo=null;this.qC.j();this.qC=null;yp.D(this.fg);this.fg=null;yp.D(this.we);this.we=null;yp.D(this.pk);this.pk=
null;this.Wq.clear();this.Wq=null;this.Ao.clear();this.Ao=null;this.bn.clear();this.bn=null;yp.D(this.tA);this.g=this.tA=null}iJ(){const a=this.g.ib();a.addEventListener("pretick",this.No);a.addEventListener("tick2",this.Mo);a.addEventListener("beforelayoutchange",this.ML);a.addEventListener("layoutchange",this.GN);a.addEventListener("instancedestroy",this.iw);a.addEventListener("beforeload",this.GT);a.addEventListener("afterload",this.Bs);a.addEventListener("afterlayoutstart",this.zT)}lK(){const a=
this.g.ib();a.removeEventListener("pretick",this.No);a.removeEventListener("tick2",this.Mo);a.removeEventListener("beforelayoutchange",this.ML);a.removeEventListener("layoutchange",this.GN);a.removeEventListener("instancedestroy",this.iw);a.removeEventListener("beforeload",this.GT);a.removeEventListener("afterload",this.Bs);a.removeEventListener("afterlayoutstart",this.zT)}Ea(a){this.qC.Cc(a);const b=this.qC.ea(a[0]);a=Pp.A(Pp.Bp,a[0],b,this);a.qw=!0;this.Cc(a);for(const d of a.FJ())Ap(this,d,a);
this.bn.set(a.oa(),0)}xJ(a){var b=this.qC;a=a.Iu();b=b.ea(a);b=yp.Bp.xJ(`${a}:${this.bn.get(a)}`,b,this);this.bn.set(a,this.bn.get(a)+1);this.Cc(b);return b}Cc(a){this.Oo.push(a);this.Wq.set(a.oa().toLowerCase(),a)}Rh(a){Qp(a);if(!a.qw){yp.kn(this.Oo,a);yp.kn(this.fg,a);yp.kn(this.we,a);yp.kn(this.pk,a);this.Wq.delete(a.oa().toLowerCase());for(const [b,d]of this.Ao.entries())d.has(a)&&(d.delete(a),0===d.size&&this.Ao.delete(b));a.od||a.j()}}pa(a){this.g.pa(a,this.c5,null)}I(){return this.g}kL(){if(!this.I().hk&&
this.tl&&!this.Fv){var a;for(let b=0,d=this.pk.length;b<d;b++){const c=this.pk[b];a||(a=new Set);Qp(c);Jp(c);a.add(c)}if(a){yp.Di(this.pk,a);this.Ac=0;for(let b=0,d=this.we.length;b<d;b++)if(0!==this.we[b].Ac){this.Ac=1;break}}Dp(this)}}Fz(){for(this.Fv=!0;this.fg.length;)Fp(this,this.fg.pop());const a=new Set;for(const b of this.we)b.Fz()&&(Qp(b),a.add(b));yp.Di(this.we,a);a.clear();for(const b of this.pk)b.Fz()&&(Qp(b),a.add(b));yp.Di(this.pk,a);Dp(this);for(const b of this.Oo)b.cm()}NE(a){var b=
a.H();b=this.Ao.has(b)?this.Ao.get(b):void 0;if(b)if(this.g.hk)this.tA.push(a);else for(const d of b)d.qw||(d.od?this.Rh(d):Kp(d)||(Jp(d),this.Rh(d)))}hv(){for(const a of this.fg.map(b=>b))Jp(a),this.Rh(a);for(const a of this.we.map(b=>b))Jp(a),this.Rh(a)}Ui(){for(const a of this.tA)this.NE(a);yp.D(this.tA)}wa(){return{timelinesJson:Lp(this),scheduledTimelinesJson:Mp(this.fg),playingTimelinesJson:Mp(this.we),markedForRemovalTimelinesJson:Mp(this.pk),hasRuntimeListeners:this.tl,changingLayout:this.Fv,
isTickingTimelines:this.fB}}Aa(a){if(a){for(var b of this.bn.keys())this.bn.set(b,0);b=a.timelinesJson;for(const d of b){b=this.Wq.get(d.name.toLowerCase())||null;if(!b){b=(b=d.name.split(":"))&&2===b.length?b[0]:null;if(!b)continue;b=this.Wq.get(b.toLowerCase())||null;b=this.xJ(b)}b.Aa(d);b.ab.length||this.Rh(b)}Np(this,a.scheduledTimelinesJson,this.fg);Np(this,a.playingTimelinesJson,this.we);Np(this,a.markedForRemovalTimelinesJson,this.pk);this.tl=!a.hasRuntimeListeners;this.Fv=!!a.changingLayout;
this.fB=!!a.isTickingTimelines;for(const d of this.Oo)d.qw||(a=d.Iu(),this.bn.set(a,this.bn.get(a)+1));this.tl||(this.tl=!0);Dp(this)}}};"use strict";const Rp=self.B,Sp=[0,0],Tp=[0,0,0,0,0];
Rp.Iia=class{constructor(a,b){this.it=!1;this.Pg=a;this.Nq=[];var d;if(b)a:{a=this.Pg;for(d of a.ab)if(Pp.xj(d.Zg(),b)){b=d;break a}b=null}else b=Rp.first(this.Pg.ab);if(d=b)if(b=d.Qd("offsetX"),d=d.Qd("offsetY"),b&&d){b=b.TD();d=d.TD();for(let c=1,e=Math.min(b.length,d.length);c<e;++c){a=b[c];const g=a.LB,k=d[c],l=k.LB;g&&"cubic-bezier"===g.jO&&l&&"cubic-bezier"===l.jO?this.Nq.push(Rp.A(Rp.S1,g,l,a,k,this.Nq.length)):this.Nq.push(Rp.A(Rp.U1,a,k,this.Nq.length))}this.it=!0}}j(){for(const a of this.Nq)a.j();
Rp.D(this.Nq);this.Pg=this.Nq=null}lE(a,b,d){d&&d.iD&&(Rp.Rc(d.iD[0])||(d.iD[0]=0),Rp.Rc(d.iD[1])||(d.iD[1]=1));const c=[];for(const e of this.Nq)if("cubic-bezier"===e.dd()){const g=e.lE(a,b,d?d.iD:null);g[4]=e.Ja();c.push(JSON.parse(JSON.stringify(g)))}c.sort((e,g)=>e[3]-g[3]);return c[0]}};function Up(a,b){return a.it?self.vn.Cn("cubicbezier")(b,a.E3+a.DB,a.O3+a.DB,a.X3+a.DB,a.h4+a.DB):NaN}function Vp(a,b){return a.it?self.vn.Cn("cubicbezier")(b,a.F3+a.EB,a.P3+a.EB,a.Y3+a.EB,a.i4+a.EB):NaN}
function Wp(a,b,d,c=null){var e=Number.MAX_SAFE_INTEGER;let g=0;d.forEach((k,l)=>{k.t=l/(d.length-1);k.Nf=Rp.Gh(a,b,k.x,k.y);c&&Rp.Xk(c)&&Rp.Rc(c[0])&&Rp.Rc(c[1])?k.t>=c[0]&&k.t<=c[1]&&k.Nf<e&&(e=k.Nf,g=l):k.Nf<e&&(e=k.Nf,g=l)});return g}
Rp.S1=class{constructor(a,b,d,c,e){this.ta=e;e=Xp(a,"cubic-bezier");var g=Xp(d,"cubic-bezier");const k=Xp(b,"cubic-bezier"),l=Xp(c,"cubic-bezier");this.E3=Yp(a);this.F3=Yp(b);this.O3=Yp(a)+e.iC;this.P3=Yp(b)+k.iC;this.X3=Yp(d)+g.yA;this.Y3=Yp(c)+l.yA;this.h4=Yp(d);this.i4=Yp(c);this.it=!1;this.Cw=100;this.Sn=Array(this.Cw+1);this.Sn[0]=0;this.Jw=[];this.it=!0;a=Up(this,0);b=Vp(this,0);d=0;for(c=1;c<=this.Cw;c++)e=Up(this,.01*c),g=Vp(this,.01*c),d+=Math.hypot(a-e,b-g),this.Sn[c]=d,a=e,b=g}j(){Rp.D(this.Sn);
this.Sn=null;Rp.D(this.Jw);this.Jw=null}dd(){return"cubic-bezier"}Ja(){return this.ta}Map(a){if(!this.it)return NaN;if(this.it){a*=this.Sn[this.Cw];for(var b=0,d=this.Cw,c=0;b<d;)c=b+((d-b)/2|0),this.Sn[c]<a?b=c+1:d=c;this.Sn[c]>a&&c--;b=this.Sn[c];a=b===a?c/this.Cw:(c+(a-b)/(this.Sn[c+1]-b))/this.Cw}else a=void 0;Sp[0]=Up(this,a);Sp[1]=Vp(this,a);return Sp}lE(a,b,d){var c=100;if(this.Jw.length!==c){this.Jw=[];c++;for(var e=0;e<c;e++){var g=e/(c-1),k=Up(this,g),l=Vp(this,g);this.Jw.push({x:k,y:l,
t:g,Nf:0})}}c=this.Jw;e=Wp(a,b,c,d);d=c;c=e;e=d[c];g=1;k=Number.MAX_SAFE_INTEGER;do{var n=0===c?0:c-1;l=c===d.length-1?d.length-1:c+1;let p=d[n].t,r=[],u=(d[l].t-p)/4;if(.001>u)break;r.push(d[n]);for(n=1;3>=n;n++){const x=p+n*u,y=Up(this,x),A=Vp(this,x),D=Math.abs(Rp.Gh(y,A,a,b)-0);D<k&&(k=D,e={x:y,y:A,t:x,Nf:D},c=n);r.push({x:y,y:A,t:x,Nf:D})}r.push(d[l]);d=r}while(25>g++);a=e;Tp[0]=a.x;Tp[1]=a.y;Tp[2]=a.t;Tp[3]=a.Nf;return Tp}};
Rp.U1=class{constructor(a,b,d){this.ta=d;this.n5=Yp(a);this.o5=Yp(b);this.EB=this.DB=0}j(){}dd(){return"line"}Ja(){return this.ta}Y(){return this.n5+this.DB}Z(){return this.o5+this.EB}};"use strict";const Pp=self.B;function Yl(a){a.od||Zp(a)&&a.Play(!0)}function Zl(a){if(a.Ct)return a.Ct;a.Ct=new Promise(b=>{a.nH=b});return a.Ct}function Qp(a){if(!a.od)for(const b of a.ab)b.Kn()}function Gp(a){a.Ct&&(a.nH(),a.Ct=null,a.nH=null)}function Kp(a){return a.ab.some(b=>$p(b)?aq(b):!0)}
function bq(a,b,d,c,e){if(a.bG){var g;for(let l=0;l<a.ab.length;l++){var k=a.ab[l];b===k.ga()&&(k=k.Qd(c))&&d.constructor===k.Ib().constructor&&k.cd()===e.cd()&&(g||(g=[]),g.push(k))}return g}}function cq(a){return a.IsPlaying()?0<a.sd:!0}function dq(a){if(Pp.Xk(a))return a.slice(0);if(Pp.Pi(a))return a.split(" ");throw Error("invalid tags");}function eq(a,b){return a.Kf&&a.Kf.length?(b=dq(b))&&b.length?b.every(Pp.Bp.m3,a):!1:!1}function fq(a,b){a.ph=b;b=a.ya();if(0>=b||b>=a.Dc())a.ph=!0}
function gq(a,b){Pp.Rc(b)||(b=a.Dc());a.yc=0>b?0:b>=a.Dc()?a.Dc():b}function hq(a){a.bG=0;for(const b of a.ab)b.oq&&(a.bG=1)}function iq(a,b,d=!1,c=NaN,e=!1,g=!1){for(var k of a.ab)k.Gr();for(const l of a.ab){k=b;if("number"===typeof c&&!isNaN(c)){const n=a.ya()-l.bh(),p=c-l.bh();0>n&&0<p&&(k=l.bh(),gq(a,k))}l.Pa(k,!1,d,!0,a.Hg,g)}for(const l of a.ab)l.Er();a.Hg&&e&&(a.Hg=!1)}
function jq(a){a.Ac=0;for(const b of a.ab)b.PE(),0===a.Ac&&1===b.Ac&&(a.Ac=1),a.tv||1!==b.si||(a.tv||(a.tv=[]),a.FT=a.tv.push(b))}function kq(a){Pp.C.hd&&a.constructor===Pp.Bp&&(Pp.C.hd.G.gK(a),a.Tb.pa(Pp.C.hd.G.Uca),a.Tb.pa(Pp.C.hd.G.Vca),a.Tb.pa(Pp.C.hd.G.Wca),Pp.C.hd.G.eK())}function Zp(a){if(!a.Mr())if(a.Fu()&&1===a.Mc)if(cq(a)){if(a.ya()>=a.Dc())return!1}else{if(0>=a.ya())return!1}else if(!a.Mr()&&!a.Fu())if(cq(a)){if(a.ya()>=a.Dc())return!1}else if(0>=a.ya())return!1;return!0}
function lq(a){return a.ab.some(b=>$p(b)?aq(b)?(b=b.H())?b.Qf():!1:!1:!1)}function mq(a){for(const b of a.ab)b.ld=null,b.Nm=-1,b.Xa=null,b.Qm=-1}function nq(a,b){for(const d of a.ab)if(b===d.ga())return d;return null}function oq(a){return a.ab.map(b=>b.wa())}function pq(a,b){mq(a);b.forEach((d,c)=>{a.ab[c].Aa(d)});a.ab.filter(d=>aq(d))}
Pp.Bp=class extends Pp.xa{constructor(a,b,d){super();this.g=d.I();this.Tb=d;this.Bc=b;this.Ta=a;this.ab=[];this.RO=0;this.tv=null;this.FT=0;this.eR();this.nH=this.Ct=null;this.yc=0;this.sd=1;this.Mc=0;this.kf=1;this.lq=this.Lg=this.po=!1;this.ph=!0;this.tt=this.od=!1;this.Vp=-1;this.Hg=this.io=this.qw=this.gw=!1;this.ww=NaN;this.Kf=[""];this.OH="";this.mC=!1;this.bG=this.Ac=0}static xJ(a,b,d){return Pp.A(Pp.Bp,a,b,d)}j(){if(!this.od){var a=this.g.ib();Fp(this.Tb,this);Hp(this.Tb,this);Gp(this);for(const b of this.ab)b.j();
Pp.D(this.ab);this.Bc=this.Tb=this.g=this.ab=null;this.od=!0;this.nH=this.Ct=null;this.sR(a)}}sR(a){const b=Pp.A(Pp.Event,"timelinestatereleased");b.Qna=this;a.dispatchEvent(b)}dd(){return 0}eR(){for(const a of qq(this.Bc.Pr()))this.RO=this.ab.push(Pp.EE.Ea(this,a))}I(){return this.g}yE(a){this.Ta=a}oa(){return this.Ta}Iu(){return this.Bc.oa()}Dc(){return this.Bc.Dc()}Zu(a){this.Bc.Zu(a)}Sy(){return this.Bc.Sy()}IK(a){this.Bc.IK(a)}Cj(){return this.Bc.Cj()}Zk(a){this.Bc.Zk(a)}cd(){return this.Bc.cd()}um(){}xg(a){for(const b of this.ab)b.xg(a)}Mr(){return this.Bc.Mr()}wE(a){return this.Bc.wE(a)}Fu(){return this.Bc.Fu()}CK(a){return this.Bc.CK(a)}Mi(){return this.Bc.Mi()}GK(a){return this.Bc.GK(a)}Wh(a){return this.sd=
a}HJ(){return this.Bc.HJ()}XD(){return this.Bc.XD()}IJ(){return this.Bc.IJ()}vm(a){this.Kf=dq(a);this.mC=!0}Uy(){return this.Kf}nS(){Pp.C.hd&&this.constructor===Pp.Bp&&(Pp.C.hd.G.gK(this),this.Tb.pa(Pp.C.hd.G.$ca),this.Tb.pa(Pp.C.hd.G.ada),this.Tb.pa(Pp.C.hd.G.bda),this.Tb.pa(Pp.C.hd.G.Pca),Pp.C.hd.G.eK())}rR(){this.io||(this.io=!0,Pp.C.hd&&this.constructor===Pp.Bp&&(Pp.C.hd.G.gK(this),this.Tb.pa(Pp.C.hd.G.Xca),this.Tb.pa(Pp.C.hd.G.Yca),this.Tb.pa(Pp.C.hd.G.Zca),this.Tb.pa(Pp.C.hd.G.Oca),Pp.C.hd.G.eK()))}IsPlaying(a=
!1){return this.Vp===this.g.pj||this.Lg&&!a?!0:this.po}dz(){return this.od||this.Lg||this.IsPlaying(!0)||this.ph?!1:!0}ya(){return this.yc}Xh(a){const b=this.ya();gq(this,a);fq(this,!1);this.ph||(this.gw=!0);if(this.IsPlaying(!0)||this.Lg||!this.lq)this.IsPlaying(!0)||this.Lg||this.lq?this.IsPlaying(!0)?this.Tc():this.Lg&&(Fp(this.Tb,this),this.gd(!0)):this.gd(!0);hq(this);iq(this,this.ya(),!0,b);jq(this);this.Ac&&this.I().M();kq(this)}On(a){Pp.Rc(a)||(a=this.Dc());this.yc=0>a?0:a>=this.Dc()?this.Dc():
a;for(const b of this.ab)b.al()}Play(a=!1){this.od||this.Lg?a=!1:this.IsPlaying(!0)&&this.Vp===this.g.pj?(this.gw=!1,a=this.Tb,yp.kn(a.we,this),Dp(a),Ep(this.Tb,this),Zl(this),a=!0):this.IsPlaying(!0)||!this.ph&&!a&&!this.gw?a=!1:(this.gw=!1,Ep(this.Tb,this),Zl(this),a=!0);return a}Tc(a=!1){this.od||(fq(this,a),Hp(this.Tb,this),this.ph&&Gp(this))}fd(a=!0,b=!1){if(!this.od)if(!this.IsPlaying(!0)&&this.Lg)Fp(this.Tb,this);else if(!this.ph){this.Tc(!0);cq(this)?gq(this,0):gq(this,this.Dc());var d=this.ya();
hq(this);b?iq(this,d,!1,NaN,!1,!0):iq(this,d,!1);a&&kq(this);jq(this);this.Ac&&a&&this.I().M()}}Fz(){if(this.od)return!0;if(!this.I().hk&&lq(this))return!1;Ip(this.Tb,this);this.I().hk||this.fd(!1,!0);return!0}gd(a){if(!this.tt){if(a){this.io=!1;this.Hg=this.lq=!0;hq(this);for(const b of this.ab)b.gd()}else if(this.po=!0,this.Lg=!1,this.nS(),this.ph){this.Vp=-1;0!==this.Mc&&(this.sd=Math.abs(this.sd));this.Mc=0;this.kf=1;this.io=this.ph=!1;this.Hg=this.lq=!0;cq(this)?gq(this,0):gq(this,this.Dc());
hq(this);for(const b of this.ab)b.gd()}else{this.Hg=!0;this.io=!1;hq(this);for(const b of this.ab)b.yg()}jq(this)}}jf(a,b,d){if(this.IJ()){if(0===a&&0===this.ww)return;this.ww=a}else{if(0===d&&0===this.ww)return;a=this.ww=d;b=1}d=this.yc;b=d+a*b*this.sd;a=this.Bc.Qt;this.yc=0>b?0:b>=a?a:b;var c=!1;b=!1;var e=this.Mr(),g=this.Fu();e||g?e&&!g?0<this.sd?this.yc>=a&&(this.On(0),b=!0):0>=this.yc&&(this.On(a),b=!0):!e&&g?0<this.sd?this.yc>=a&&(gq(this,a),this.Wh(-1*this.sd),b=!0,1===this.Mc?this.kf<this.Mi()?
(this.kf++,this.Mc=0):c=!0:0===this.Mc&&(this.Mc=1)):0>=this.yc&&(gq(this,0),this.Wh(-1*this.sd),b=!0,1===this.Mc?this.kf<this.Mi()?(this.kf++,this.Mc=0):c=!0:0===this.Mc&&(this.Mc=1)):e&&g&&(0<this.sd?this.yc>=a&&(gq(this,a),this.Wh(-1*this.sd),b=!0,this.Mc++,Pp.wrap(this.Mc,0,2)):0>=this.yc&&(gq(this,0),this.Wh(-1*this.sd),b=!0,this.Mc++,Pp.wrap(this.Mc,0,2))):0<this.sd?this.yc>=a&&(this.kf<this.Mi()?(this.kf++,this.On(0),b=!0):(gq(this,a),c=!0)):0>=this.yc&&(this.kf<this.Mi()?(this.kf++,this.On(a),
b=!0):(gq(this,0),c=!0));e=this.RO;if(c){for(c=0;c<e;c++)this.ab[c].qz();this.Tc(!0);this.Vp=this.g.pj}else{g=this.FT;for(c=0;c<g;c++)this.tv[c].Gr();if(1===this.bG)for(c=0;c<e;c++){const k=this.ab[c],l=k.bh(),n=d-l;0>this.yc-l&&0<n?(this.yc=0>l?0:l>=a?a:l,k.Pa(l,!0,!1,b,this.Hg,!1)):k.Pa(this.yc,!0,!1,b,this.Hg,!1)}else for(c=0;c<e;c++)this.ab[c].Pa(this.yc,!0,!1,b,this.Hg,!1);for(c=0;c<g;c++)this.tv[c].Er();this.Hg&&(this.Hg=!1)}}UQ(){var a=rq(this.Bc.Pr());a=Pp.EE.Ea(this,a);this.RO=this.ab.push(a);
return a}cm(){for(const a of this.ab)a.cm()}Qd(a){for(const b of this.ab)for(const d of b.Ya)if(d.ia.Xc===a)return d}FJ(){const a=[];for(const b of this.ab)a.push(b.H());return a.filter(b=>b)}wa(){return{tracksJson:oq(this),name:this.Ta,playheadTime:this.ya(),playbackRate:this.sd,pingPongState:this.Mc,currentRepeatCount:this.kf,isPlaying:this.po,isScheduled:this.Lg,initialStateSet:this.lq,finishedTriggers:this.io,complete:this.ph,released:this.od,markedForRemoval:this.tt,completedTick:this.Vp,implicitPause:this.gw,
isTemplate:this.qw,tags:this.Kf.join(" "),stringTags:this.OH,tagsChanged:this.mC,firstTick:this.Hg}}Aa(a){a&&(pq(this,a.tracksJson),this.Ta=a.name,this.yc=a.playheadTime,this.sd=a.playbackRate,this.Mc=a.pingPongState,this.kf=a.currentRepeatCount,this.po=!!a.isPlaying,this.Lg=!!a.isScheduled,this.lq=!!a.initialStateSet,this.io=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.ph=!!a.complete,this.od=!!a.released,this.tt=!!a.markedForRemoval,this.Vp=a.completedTick,this.gw=!!a.implicitPause,
this.qw=!!a.isTemplate,this.Kf=a.tags.split(" "),this.OH=a.stringTags,this.mC=!!a.tagsChanged,this.Hg=!!a.firstTick)}static m3(a){const b=this.Uy();return""===a?1===b.length&&""===b[0]:b.map(d=>d.toLowerCase()).includes(a.toLowerCase())}};"use strict";const sq=self.B;function $p(a){return 0===a.dd()}function aq(a){return $p(a)?(a=tq(a.I(),a.Oy()))?!uq(a):!1:!1}function vq(a){if(a.md)return a.md;a.md=a.rb.Ji().md;return a.md}function wq(a){a.ld||a.ga()}
function*xq(a){for(const c of a.Ya){var b=c.Ib(),d=a.H();const e={a7:c,i7:b};switch(c.uf()){case "world-instance":e.Ug=c.ia.Xc;break;case "instance-variable":b=b.Eu();e.name=yq(d,b);e.type=zq(d,b);break;case "effect":d=Aq(d.Va,b.S.ia.ig[0]);e.ala=d;break;case "behavior":d=b.pg(d);e.vP=d;break;case "plugin":e.Nma=d.pb()}yield e}}function Bq(a,b){a:{var d=a.rb.Ji().md;const c=d.length;for(let e=0;e<c;e++){const g=d[e];if(g.ya()===b){d=g;break a}}d=void 0}return d?d:Cq(b,a.rb)}
function Dq(a){return a.Ya.map(b=>b.wa())}function Eq(a,b){b.forEach((d,c)=>{a.Ya[c].Aa(d)})}function Fq(a,b){b=a.rb.Ji().md[b];a.Bl=b}
function Gq(a,b){if(sq.Rc(b)&&(b=tq(a.I(),b))){var d=a.jb();a=a.rb.Zg();if(b)for(const l of d.ab)if($p(l)){if(a){if(l.Zg()!==a)continue}else if(l.ld)continue;if(l.ld!==b){l.cm();l.ld=b;l.Qm=b.H().Ja();l.Nm=b.Yb;l.Xa=b.m();for(const n of xq(l))switch(a=n.i7,n.a7.uf()){case "instance-variable":var c=b.H(),e=Hq(c,n.name),g=yq(c,e);c=zq(c,e);g===n.name&&c===n.type&&a.S.ia.ig[0]!==e&&(a.zC=e);break;case "behavior":var k=n.vP;e=l.H();g=b.H();c=a.pg(g);k&&c&&(k=k.oa(),Iq(e,k),Iq(g,k),e=c.fb,a.S.ia.ig[0]!==
e&&(a.fb=e))}}Ap(d.Tb,b.H(),d);break}}}
sq.EE=class extends sq.xa{constructor(a,b){super();this.Pg=a;this.rb=b;this.rj=b.Pr();this.Qm=this.Nm=NaN;this.Xa=this.ld=null;this.oq=0<b.bh();this.eq=this.gt=!1;this.Bl=null;this.md=this.rb.Ji().md;this.Ya=[];this.cR();this.si=this.Ac=this.Qg=0}static Ea(a,b){return sq.A(sq.EE,a,b)}j(){this.md=null;for(const a of this.Ya)a.j();sq.D(this.Ya);this.Bl=this.rb=this.Xa=this.ld=this.Pg=this.Ya=null}cR(){for(const a of Jq(this.rb.$d()))this.Ya.push(sq.vb.Ea(this,a))}Kn(){for(const a of this.Ya)a.Kn()}cm(){for(const a of this.Ya)a.cm();
this.Xa=this.ld=null}jb(){return this.Pg}I(){return this.Pg.I()}Qd(a){for(let b=0;b<this.Ya.length;b++){const d=this.Ya[b];if(d.ia.Xc===a)return d}}nc(){return this.ld?!uq(this.ld):!1}H(){if($p(this)){var a=this.EJ();if(-1!==a)return ln(this.I(),a)}}ga(){return this.ld&&this.nc()?this.ld:this.ld=tq(this.I(),this.Oy())}m(){if(this.Xa&&this.nc())return this.Xa;const a=this.ga();a&&(this.Xa=a.m());return this.Xa}Oy(){return this.Nm?this.Nm:this.rb.Oy()}vK(a){this.rb.vK(a)}Cj(){return this.rb.Cj()}Zk(a){this.rb.Zk(a)}cd(){return this.rb.cd()}Zg(){return this.rb.Zg()}bh(){return this.rb.bh()}Bn(){return this.rb.Bn()}vE(a){this.rb.vE(a)}um(a){this.rb.um(a)}xg(a){for(const b of vq(this))b.xg(a);
for(const b of this.Ya)b.xg(a)}An(){return this.rb.An()}gh(a){this.rb.gh(a)}EJ(){return isNaN(this.Qm)?this.rb.EJ():this.Qm}zK(a){this.rb.zK(a)}BK(a){this.rb.BK(a)}ah(){const a=this.ga();return a&&a.ja.eh()?a.ja.ah():this.rb.ah()}AK(a){this.rb.AK(a)}$g(){const a=this.ga();return a&&a.ja.eh()?a.ja.$g():this.rb.$g()}dd(){return this.rb.dd()}oa(){return this.rb.oa()}al(){for(const a of this.Ya)a.al()}gd(){wq(this);if(this.nc()||!$p(this)){var a=cq(this.jb())?0:this.Bn();for(const b of this.Ya)b.gd(a),
0===this.Qg&&1===b.Qg&&(this.Qg=1),0===this.Ac&&1===b.Ac&&(this.Ac=1);this.si=0;this.Ya.some(b=>b.si)&&(this.si=1);this.Bl=Bq(this,a);this.eq=this.gt=!1;this.Pa(a);this.iE(Bq(this,a))}}yg(){wq(this);if(this.nc()||!$p(this)){cq(this.Pg);var a=this.Pg.ya()-this.bh();this.Bl=Bq(this,a);for(const b of this.Ya)b.yg(a)}}qz(){if(!(this.jb().ph||(wq(this),!this.nc()&&$p(this)||this.oq))){const a=this.Pg.ya();a>=this.bh()+this.Bn()?this.Pa(this.Bn(),!0,!1,!0,!1,!1,!0):0>=a&&this.Pa(0,!0,!1,!0,!1,!1,!0)}}PE(){for(let a=
0,b=this.Ya.length;a<b;a++){const d=this.Ya[a];d.PE();0===this.Qg&&1===d.Qg&&(this.Qg=1);0===this.Ac&&1===d.Ac&&(this.Ac=1)}}Gr(){const a=this.Ya.length;for(let b=0;b<a;b++)this.Ya[b].Gr()}Pa(a,b=!1,d=!1,c=!1,e=!1,g=!1,k=!1){this.ld||this.ga();var l=0===this.rb.Fa;if(!((!this.ld||uq(this.ld))&&l||g&&l&&this.H().Qf()||(a-=this.bh(),0>a))){a:if(g=a,b&&this.oq&&!this.gt){if(cq(this.jb())){if(0>g)break a}else if(g>this.Bn())break a;for(var n of this.Ya)n.gd();this.gt=!0}n=a;if(!e&&b&&sq.C.hd){e=this.jb();
g=this.Bl.Ef;l=this.Bl.ya();var p=g?g.ya():e.Dc();if(n<=l||n>=p)this.Bl=Cq(n,this.rb),cq(e)?g&&this.iE(this.Bl):(e=this.Bl.Ef)&&this.iE(e)}for(let r=0,u=this.Ya.length;r<u;r++)this.Ya[r].Pa(a,d,c,k);if(b&&this.oq&&!this.eq)if(cq(this.jb())){if(a>=this.Bn()){for(const r of this.Ya)r.Pa(this.Bn(),!1,!0);this.eq=!0}}else if(0>=a){for(const r of this.Ya)r.Pa(0,!1,!0);this.eq=!0}0!==this.Qg&&(this.Xa||(this.Xa=this.ld.m()),this.Xa&&T(this.Xa))}}Er(){const a=this.Ya.length;for(let b=0;b<a;b++)this.Ya[b].Er()}iE(a){if(sq.C.hd){var b=
this.jb(),d=b.Tb;sq.C.hd.G.gK(b);sq.C.hd.G.Mda(a);d.pa(sq.C.hd.G.Nca);d.pa(sq.C.hd.G.iE);sq.C.hd.G.eK(b);sq.C.hd.G.Fda(a)}}TQ(){var a=Kq(this.rb.$d());a=sq.vb.Ea(this,a);this.Ya.push(a);return a}AD(a){for(const b of this.Ya)b.AD(a)}js(){for(const a of this.Ya)a.js()}Qk(){wq(this);if(this.nc()||!$p(this))for(const a of this.Ya)a.Qk()}Rk(){wq(this);if(this.nc()||!$p(this)){var a=!1;for(const b of this.Ya){const d=b.Rk();!a&&d&&(a=!0)}a&&(a=Lq(this.rb.Ji()),a.Xh(this.jb().ya()),a.xg("noease"),a.gh(!0),
a.vm(""))}}wa(){var a=this.ga();a=a?a.Yb:this.Oy();var b=Dq(this);var d=this.rb.Ji().md.indexOf(this.Bl);return{propertyTracksJson:b,lastKeyframeDataItemJson:d,initialStateOfNestedSet:this.gt,endStateOfNestedSet:this.eq,instanceUid:a}}Aa(a){if(a){Eq(this,a.propertyTracksJson);Fq(this,a.lastKeyframeDataItemJson);Gq(this,a.instanceUid);this.gt=!1;a.hasOwnProperty.initialStateOfNestedSet&&(this.gt=a.initialStateOfNestedSet);this.eq=!1;a.hasOwnProperty.endStateOfNestedSet&&(this.eq=a.endStateOfNestedSet);
for(const b of this.Ya)0===this.Qg&&1===b.Qg&&(this.Qg=1),0===this.Ac&&1===b.Ac&&(this.Ac=1);this.si=0;this.Ya.some(b=>b.si)&&(this.si=1)}}};"use strict";const Mq=self.B;function Nq(a){return Oq(a.$d(),a.ia).dd()}function Pq(a){if(a.zc)return a.zc;a.zc=Qq(a.ia).zc;return a.zc}function Rq(a,b){const d=a.jb(),c=a.Yc.SD(b,a.ia);return c?c:cq(d)?a.Yc.Oh(b,a.ia):Sq(b,a.ia)}
Mq.vb=class extends Mq.xa{constructor(a,b){super();this.Fb=a;this.ia=b;this.Yc=b.$d();this.si=this.Ac=this.Qg=0;this.hg=this.Ib();this.zc=Qq(this.ia).zc;this.zs=this.Nd=null}static Ea(a,b){return Mq.A(Mq.vb,a,b)}j(){this.Fb=null;this.hg&&(this.hg.j(),this.hg=null);this.Yc=this.ia=this.zc=null}$d(){return this.Yc}jb(){return this.Fb.jb()}I(){return this.Fb.I()}ga(){return this.Fb.ga()}Ib(){if(this.hg)return this.hg;let a;switch(this.ia.uf()){case "behavior":a=new Mq.vb.wY(this);break;case "effect":a=
new Mq.vb.aZ(this);this.Ac=1;break;case "instance-variable":a=new Mq.vb.j_(this);break;case "plugin":a=new Mq.vb.Y0(this);this.Ac=1;break;case "world-instance":a=new Mq.vb.Zr(this);this.Qg=this.Ac=1;break;case "value":a=new Mq.vb.f2(this);break;case "audio":a=new Mq.vb.sY(this)}return this.hg=a}uf(){return this.ia.uf()}HK(a){this.ia.HK(a)}WS(a){this.ia.uz(a)}xK(a){this.ia.xK(a)}wK(a){this.ia.wK(a)}An(){return this.ia.An()}gh(a){this.ia.gh(a)}Cj(){return this.ia.Cj()}Zk(a){this.ia.Zk(a)}cd(){return this.ia.cd()}um(a){this.ia.um(a)}xg(a){for(const b of Pq(this))b.xg(a)}pJ(){return this.ia.pJ()}TD(){return Qq(this.ia).TD()}SD(a){return this.Yc.SD(a,
this.ia)}Oh(a){return this.Yc.Oh(a,this.ia)}Kn(){this.Ib().Kn()}cm(){this.Ib().cm()}Pf(){return this.Ib().Pf()}al(){this.Ib().al()}gd(a){this.Ib().gd();this.Nd=Rq(this,a);this.PE()}yg(a){this.Ib().yg();this.Nd=Rq(this,a)}PE(){var a=this.Fb;this.si=0;if($p(a)){var b=this.jb();a=a.ga();const d=this.Ib(),c=this.ia.Xc;d.km()?(b=bq(b,a,d,c,this))&&b.length&&(this.si=1):this.si=0}}Gr(){this.hg.Gr()}Pa(a,b=!1,d=!1,c=!1){let e,g=!1;if(b)var k=this.Yc.Oh(a,this.ia);else{if(this.Nd){var l=this.jb();const n=
this.Nd.Ef;k=this.Nd.ya();l=n?n.ya():l.Dc();if(a<=k||a>=l)this.Nd=this.Yc.Oh(a,this.ia),g=!0}else this.Nd=this.Yc.Oh(a,this.ia),g=!0;k=this.Nd}k&&(e=k.Ef);this.hg.Pa(a,k,e,b,d,c,g)}rg(a){if(this.Nd){var b=this.jb();const c=this.Nd.Ef;var d=this.Nd.ya();b=c?c.ya():b.Dc();if(a<=d||a>=b)this.Nd=this.Yc.Oh(a,this.ia)}else this.Nd=this.Yc.Oh(a,this.ia);d=this.Nd;return this.hg.rg(a,d,d.Ef)}Er(){this.hg.Er()}pD(){const a=Tq(Qq(this.ia));this.Nd=null;return a}AD(a){this.Nd=null;Uq(Qq(this.ia),a)}js(){this.Ib().js()}Qk(){if(this.Ib().Qk()){const a=
Oq(0,this.ia),b=this.Ib().Pf();Vq(a,b)}}Rk(){const a=this.Ib().Rk();if(a){const b=this.jb().ya(),d=this.Ib(),c=this.Yc.Oh(b,this.ia),e=this.pD();e.uz(c.dd());e.Xh(b);e.xg(c.op());e.gh(!0);e.Me(Wq(d));Vq(e,d.Pf())}this.Ib().vD();return a}wa(){return{sourceAdapterJson:this.Ib().wa()}}Aa(a){a&&this.Ib().Aa(a.sourceAdapterJson)}};"use strict";const Xq=self.B.vb;
function Wq(a){a=a.S;const b=a.Fb.jb().ya(),d=a.Yc.Oh(b,a.ia),c=d.Ef;switch(Nq(a)){case "numeric":return Xq.iz.Pa(b,d,c,a);case "angle":return Xq.qD.Pa(b,d,c,a);case "boolean":return Xq.sD.Pa(b,d,c,a);case "color":return Xq.wD.Pa(b,d,c,a);case "text":return Xq.DE.Pa(b,d,c,a)}}function Yq(a){if(a.yh)return a.yh;a.yh=Zq(a);return a.yh}
function Zq(a){const b=a.S;switch(b.pJ()?Nq(b):""){case "combo":case "boolean":case "text":case "string":return new Xq.fh.ZR(a);case "numeric":case "number":case "angle":return"combo"===a.S.ia.dd()?new Xq.fh.ZR(a):new Xq.fh.$R(a);case "color":case "offsetColor":return new Xq.fh.MY(a);default:return new Xq.fh.$R(a)}}
Xq.Zr=class{constructor(a){this.S=a;this.yh=null;Yq(this)}j(){this.yh&&(this.yh.j(),this.yh=null);this.S=null}km(){return this.yh.km()}Qd(){return this.S}Kn(){this.yh&&this.yh.Kn()}cm(){this.yh&&this.yh.cm()}Eu(){}Ja(){return this.Eu()}Vy(){}al(){Yq(this).al()}gd(){Yq(this).gd()}yg(){Yq(this).yg()}Gr(){this.yh.vu()}Pa(a,b,d,c,e,g,k){let l;switch(Nq(this.S)){case "numeric":l=Xq.iz.Pa(a,b,d,this.S);break;case "angle":l=Xq.qD.Pa(a,b,d,this.S);break;case "boolean":l=Xq.sD.Pa(a,b,d,this.S);break;case "color":l=
Xq.wD.Pa(a,b,d,this.S);break;case "text":l=Xq.DE.Pa(a,b,d,this.S)}this.yh.Hr(a,l,b,d,c,e,g,k)}rg(a,b,d){switch(Nq(this.S)){case "numeric":return Xq.iz.Pa(a,b,d,this.S);case "angle":return Xq.qD.Pa(a,b,d,this.S);case "boolean":return Xq.sD.Pa(a,b,d,this.S);case "color":return Xq.wD.Pa(a,b,d,this.S);case "text":return Xq.DE.Pa(a,b,d,this.S)}}Er(){this.yh.uu()}js(){var a=Yq(this);a.yk=a.Pf()}vD(){Yq(this).vD()}Pf(){return Yq(this).Pf()}Qk(){return Yq(this).Qk()}Rk(){return Yq(this).Rk()}wa(){return{propertyAdapterJson:Yq(this).wa()}}Aa(a){a&&
Yq(this).Aa(a.propertyAdapterJson)}};"use strict";const $q=self.B;class ar extends $q.vb.Zr{constructor(a){super(a);this.zC=NaN}Eu(){return this.S.ia.ig[0]}Ja(){return this.zC?this.zC:super.Ja()}Vy(){return this.S.Fb.ga()}Pa(a,b,d,c,e,g,k){Yq(this).oJ(b.pd())&&super.Pa(a,b,d,c,e,g,k)}rg(a,b,d){if(Yq(this).oJ(b.pd()))return super.rg(a,b,d)}wa(){return Object.assign(super.wa(),{index:this.zC})}Aa(a){a&&(super.Aa(a),this.zC=a.index)}}$q.vb.j_=ar;"use strict";const br=self.B;
class cr extends br.vb.Zr{constructor(a){super(a);this.fb=NaN}Eu(){return this.S.ia.ig[1]}Vy(){var a=this.S.ia,b=this.fb?this.fb:a.ig[0];a=this.S.Fb.ga();b=dr(a,b);return a.wd[b].ja}pg(a){return a.uv.get(this.S.ia.ig[2].toLowerCase())||null}Pa(a,b,d,c,e,g,k){const l=this.S.Fb.ga();this.pg(l.H())&&super.Pa(a,b,d,c,e,g,k)}rg(a,b,d){const c=this.S.Fb.ga();if(this.pg(c.H()))return super.rg(a,b,d)}wa(){return Object.assign(super.wa(),{sid:this.fb})}Aa(a){a&&(super.Aa(a),this.fb=a.sid)}}br.vb.wY=cr;"use strict";
const er=self.B;function fr(a){const b=a.S.Fb.m().Yf;if(a=Aq(b.Va,a.S.ia.ig[0]))return b.qp(a.Ja())}class gr extends er.vb.Zr{constructor(a){super(a)}Eu(){return this.S.ia.ig[1]}Vy(){const a=this.S.Fb.m().Yf,b=Aq(a.Va,this.S.ia.ig[0]).Ja();return a.qp(b)?a.yR(b):null}Pa(a,b,d,c,e,g,k){fr(this)&&super.Pa(a,b,d,c,e,g,k)}rg(a,b,d){if(fr(this))return super.rg(a,b,d)}}er.vb.aZ=gr;"use strict";const hr=self.B;
function ir(a){const b=a.S.Fb.H().pb();if(hr.C.rc&&b instanceof hr.C.rc&&("initial-frame"===a.S.ia.Xc||"initial-animation"===a.S.ia.Xc))switch(a.S.cd()){case "relative":return null;case "absolute":return null}}
class jr extends hr.vb.Zr{constructor(a){super(a)}Eu(){return this.S.ia.ig[0]}Vy(){return this.S.Fb.ga().ja}Pa(a,b,d,c,e,g,k){var l=this.S.Fb;const n=l.H().pb();l=l.ga().H().pb();n===l&&super.Pa(a,b,d,c,e,g,k)}rg(a,b,d){var c=this.S.Fb;const e=c.H().pb();c=c.ga().H().pb();if(e===c)return super.rg(a,b,d)}}hr.vb.Y0=jr;"use strict";const kr=self.B;
class lr extends kr.vb.Zr{constructor(a){super(a);this.Dd=0;this.jG=!1}km(){return!1}gd(){this.S.$d();let a=this.S.ia;a=Oq(0,a);this.Dd=Yp(a)}yg(){}pd(){this.jG||this.S.Pa(0);return this.Dd}Pa(a,b,d){this.Dd=kr.vb.iz.Pa(a,b,d,this.S);this.jG=!0}js(){}vD(){}Pf(){return this.Dd}Qk(){return!1}Rk(){return!1}wa(){return{value:this.Dd,init:this.jG}}Aa(a){a&&(this.Dd=a.value,this.jG=a.hasOwnProperty("init")?a.init:!0)}}kr.vb.f2=lr;"use strict";const mr=self.B;
function nr(a){if(self.B.C.Audio){var b=a.S.I().Rw.get("audio")||null;b&&(a.gg=b.Gj().ja);a.Ic=self.B.C.Audio.Ma;a.Vv=self.B.C.Audio.ob}}function or(a){if(!a.kh){var b=a.S.Fb.Qd("audioSource");b&&(a.kh=b.Ib())}}
class pr extends mr.vb.Zr{constructor(a){super(a);this.Am=!1;this.Vv=this.Ic=this.gg=null;this.Pg=this.S.jb();this.Fb=this.S.Fb;this.dC=this.S.ia.ig;this.yM=this.dC[0];this.LO=this.dC[1];this.Vj=this.dC[3]?this.dC[3]:Math.random().toString(36).slice(2);this.Ut=this.Bt=this.Dq=NaN;this.kh=null;nr(this)}j(){super.j();this.kh=this.yM=this.dC=this.Fb=this.Pg=this.Vv=this.Ic=this.gg=null}Kn(){super.Kn();this.Am=!1;this.gg&&(this.Vv&&(this.Dq=this.Vv.U0.call(this.gg,this.Vj),this.Bt=this.Vv.h2.call(this.gg,
this.Vj)),this.Ic&&this.Ic.Tc.call(this.gg,this.Vj))}zp(a){this.Ut=a}gd(){super.gd();this.Dq=NaN;this.Am=!1}yg(){super.yg();const a=this.S.jb().ya();this.Dq=a-this.LO;switch(this.S.ia.Xc){case "volume":this.Bt=this.S.rg(a)}this.Am=!1}Pa(a,b,d,c,e,g,k){if(this.gg)switch(this.S.ia.Xc){case "audioSource":if(!cq(this.Pg))break;if(c){this.Ic&&this.Ic.Tc.call(this.gg,this.Vj);break}if(a<this.LO){this.Am=!1;break}b=this.Vv.T0.call(this.gg,this.Vj);d=this.Pg.sd;d!==b&&this.Ic.Wh.call(this.gg,this.Vj,d);if(this.Am)break;
if(!this.S.jb().IsPlaying())break;this.Am=!0;isNaN(this.Dq)?(b=self.performance.now(),a-=this.LO,"suspended"===qr(this.gg)?this.Am=!1:(a+=(self.performance.now()-b)/1E3,this.Ic&&(b=this.Ut,isNaN(b)?(this.zp(0),b=0):this.zp(b),this.Ic.sS.call(this.gg,this.yM,b,this.Vj,a)))):(a=this.Dq,this.Dq=NaN,b=(b=this.S.Fb.Qd("volume"))?b.Ib().Bt:this.Bt,this.Bt=NaN,"suspended"===qr(this.gg)?this.Am=!1:this.Ic&&(this.zp(b),this.Ic.sS.call(this.gg,this.yM,b,this.Vj,a)));break;case "volume":or(this),super.Pa(a,
b,d,c,e,g,k)}}rg(a,b,d){if(this.gg)switch(this.S.ia.Xc){case "volume":return or(this),super.rg(a,b,d)}}DR(){return this.kh?this.kh.Ut:0}A1(a,b){this.kh&&this.kh.zp(this.DR()+b);this.Ic&&this.kh&&this.Ic.zp.call(this.gg,this.kh.Vj,this.kh.Ut)}aY(a,b){this.kh&&this.kh.zp(b);this.Ic&&this.kh&&this.Ic.zp.call(this.gg,this.kh.Vj,this.kh.Ut)}wa(){return{audioPlaybackStarted:this.Am,audioTag:this.Vj,pauseTime:this.Dq,pauseVolume:this.Bt,volume:this.Ut}}Aa(a){a&&(this.Am=a.audioPlaybackStarted,this.Vj=a.audioTag,
this.Dq=a.pauseTime,this.Bt=a.pauseVolume,this.Ut=a.volume,nr(this))}}mr.vb.sY=pr;"use strict";function rr(a,b,d){return cq(a.S.jb())?b():d()}function sr(a,b,d){return"relative"===a.S.cd()?b():d()}function tr(a){if(a.wx)return a.wx;a.wx=a.hg.Vy();return a.wx}function ur(a,b=!1){const d=[];for(const c of a){a=c.Fb.bh();for(const e of Pq(c))b&&0===e.ya()?d.push({time:a+e.ya(),value:e.Tj}):b||d.push({time:a+e.ya(),value:e.Tj})}return d.sort((c,e)=>c.time-e.time)}
function vr(a,b){for(let d=b.length-1;0<=d;d--)if(b[d].time<=a)return b[d];return null}
self.B.vb.fh=class{constructor(a){this.hg=a;this.S=a.Qd();this.Xa=this.S.Fb.m();this.Xc=this.S.ia.Xc;this.Xv=!1;this.wx=this.yk=null}j(){this.wx=this.yk=this.Xa=this.S=this.hg=null}km(){return!1}Kn(){}cm(){this.wx=this.yk=this.Xa=null}Ib(){return this.hg}Qd(){return this.S}m(){return this.Xa?this.Xa:this.Xa=this.S.Fb.m()}al(){}gd(){}yg(){}vD(){this.yk=null}Pf(){}Qk(){}Rk(){}oJ(a){return typeof this.Nn()===typeof a}vu(){}Hr(){}uu(){}ts(){return rr(this,()=>{const a=this.S.ia;return Oq(this.S.$d(),
a)},()=>{const a=this.S.ia;return this.S.$d().Dj(a)}).Tj}JE(){const a=this.S.jb().ya()-this.S.Fb.bh();return rr(this,()=>{const b=this.S.ia;return this.S.$d().Oh(a,b)},()=>{const b=this.S.ia,d=this.S.$d(),c=Sq(a,b);return c?c:d.Dj(b)}).Tj}KE(){}Ag(){return this.hg.Ja()}wa(){return{firstAbsoluteUpdate:this.Xv,saveState:this.yk}}Aa(a){a&&(this.Xv=a.firstAbsoluteUpdate,this.yk=a.saveState)}};"use strict";const wr=self.B,xr=new Map,yr=[0,0,0];
function zr(a){return wr.Ur(a,wr.mb)?a.toArray().slice(0,3):a.slice(0,3)}function Ar(a,b){a=Br(a);b=Br(b);return Xb(a,b)}function Br(a){return wr.Ur(a,wr.mb)?a:new wr.mb(a[0],a[1],a[2],1)}function Cr(a,b,d){a=xr.get(a).get(b).get(d);a.TX=!0;return a.color}
class Dr extends wr.vb.fh{constructor(a){super(a)}al(){}gd(){}yg(){}Pf(){const a=this.S.uf(),b=tr(this),d=this.Ag();switch(a){case "behavior":return zr(b.ac(d));case "effect":return zr(b[d]);case "plugin":return zr(b.ac(d));case "world-instance":return zr(this.Nn())}}Qk(){const a=this.ts();return!Ar(a,this.Nn())}Rk(){return wr.Rf(this.yk)?!1:!Ar(this.yk,this.Nn())}ts(){const a=super.ts();return Br(a)}JE(){const a=super.JE();return Br(a)}KE(){}oJ(){return!0}km(){return!0}vu(){var a=this.S.jb(),b=this.S.ga();
const d=this.S.Ib();(a=bq(a,b,d,this.Xc,this.S))&&1<a.length&&(xr.has(b)||xr.set(b,new Map),b=xr.get(b),a=this.S.uf(),b.has(a)||b.set(a,new Map),b=b.get(a),b.has(this.Xc)||b.set(this.Xc,{TX:!1,color:new wr.mb(0,0,0,1)}))}Hr(a,b){var d=this.S.jb(),c=this.S.Fb;a=this.S.ga();var e=this.S.Ib();const g=this.S.uf();if((e=bq(d,a,e,this.Xc,this.S))&&1<e.length){if(e=ur(e,!0),d=d.ya(),d=vr(d,e))e=d.time-c.bh(),0===e?Ub(Cr(a,g,this.Xc),b[0],b[1],b[2]):0>e||(d=b[0],c=b[1],b=b[2],e=this.S.Pa(e,!1,!0),d=dc(d,
e[0]),c=dc(c,e[1]),b=dc(b,e[2]),Ub(Cr(a,g,this.Xc),d,c,b))}else this.ym(b[0],b[1],b[2])}uu(){const a=this.S.ga();if(xr.has(a)){var b=xr.get(a),d=this.S.uf();if(b.has(d)){var c=b.get(d);if(c.has(this.Xc)){var e=c.get(this.Xc),g=e.color;e.TX&&this.ym(g.eb,g.kb,g.bb);0===c.size&&b.delete(d);0===b.size&&xr.delete(a)}}}}Nn(){const a=this.S.uf(),b=tr(this),d=this.Ag();switch(a){case "behavior":return Br(b.ac(d));case "effect":return b[d].clone();case "plugin":return Br(b.ac(d));case "world-instance":return this.m().yb.clone()}}ym(a,
b,d){var c=this.S.uf();const e=tr(this),g=this.Ag();switch(c){case "behavior":yr[0]=a;yr[1]=b;yr[2]=d;e.Le(g,yr);break;case "effect":Tb(e[g],a,b,d);break;case "plugin":yr[0]=a;yr[1]=b;yr[2]=d;e.Le(g,yr);break;case "world-instance":c=this.m(),Tb(Er,a,b,d),Fr(c,Er)}}wa(){}Aa(){}}wr.vb.fh.MY=Dr;"use strict";const Gr=self.B,Hr=Gr.vb;
class Ir extends Gr.vb.fh{constructor(a){super(a)}al(){}gd(){}yg(){}Pf(){return this.Nn()}Qk(){return this.ts()!==this.Pf()}Rk(){return Gr.Rf(this.yk)?!1:this.yk!==this.Pf()}km(){return!1}Hr(a,b){const d=this.S,c=d.Fb,e=d.uf();var g=d.jb();const k=c.ga(),l=d.Ib();(g=bq(g,k,l,this.Xc,d))&&1<g.length&&(g=ur(g),a=vr(a+c.bh(),g))&&(b=a.value);switch(Nq(d)){case "numeric":if(!Hr.iz.Mn(this.Ag(),tr(this),b,e))return;break;case "angle":if(!Hr.qD.Mn(this.Ag(),tr(this),b,e))return;break;case "boolean":if(!Hr.sD.Mn(this.Ag(),
tr(this),b,e))return;break;case "color":if(!Hr.wD.Mn(this.Ag(),tr(this),b,e))return;break;case "text":if(!Hr.DE.Mn(this.Ag(),tr(this),b,e))return}this.ym(b)}Nn(){const a=this.S.uf(),b=tr(this),d=this.Ag();switch(a){case "behavior":return b.ac(d);case "effect":return b[d];case "instance-variable":return Jr(b,d);case "plugin":return b.ac(d)}}ym(a){const b=this.S.uf(),d=tr(this),c=this.Ag();switch(b){case "behavior":d.Le(c,a);break;case "effect":d[c]=a;break;case "instance-variable":d.yp(c,a);break;
case "plugin":d.Le(c,a)}}}Gr.vb.fh.ZR=Ir;"use strict";const Kr=self.B,Lr=new Map,Mr=(a,b,d,c,e,g=!1,k=null,l=null)=>{Lr.set(a,{CQ:b,w5:d,m6:c,round:e,a6:g,init:k,reset:l})};Mr("offsetX",(a,b,d,c)=>{"relative"===c.S.cd()?Nr(a,b,d.jb().XD()):Nr(a,b)},(a,b)=>a.Nj(b),a=>a.Y(),!0);Mr("offsetY",(a,b,d,c)=>{"relative"===c.S.cd()?Or(a,b,d.jb().XD()):Or(a,b)},(a,b)=>a.Oj(b),a=>a.Z(),!0);
Mr("offsetWidth",(a,b,d,c,e)=>{if(0!==b){var g=1===c.Nl.dd();if(("relative"===c.S.cd()||g)&&a.sg()&&Pr(a)){if(isNaN(c.hl)){const p=[];for(var k=a.Ia();k;)p.push(k),k=k.Ia();p.reverse();k=(x,y)=>{if(y=nq(y.jb(),x.ga()))return y.ah();y=x.ga().ja;return y.eh()?y.ah():Qr(x.Na)};const r=(x,y,A)=>{x=nq(y.jb(),x.ga());if(!x)return 0;A=x.Qd(A);if(!A)return 0;A=Qq(A.ia);return A?(A=A.Dj())?A.pd():0:0};let u=p[0];var l=g?u.L():Qr(u.Na),n=g?Sr(u.Na):u.Na.nx;l=l*n+r(u,d,"offsetWidth");l+=k(u,d)*r(u,d,"offsetScaleX");
for(n=1;n<p.length;n++){u=p[n];const x=g?Sr(u.Na):u.Na.nx;l*=x;l+=r(u,d,"offsetWidth");l+=k(u,d)*r(u,d,"offsetScaleX")}c.hl=0===l?Number.EPSILON:l}e||a.lm(b/c.hl,!0)}else a.lm(b)}},(a,b)=>a.ih(b),a=>a.L(),!0);
Mr("offsetHeight",(a,b,d,c,e)=>{if(0!==b){var g=1===c.Nl.dd();if(("relative"===c.S.cd()||g)&&a.sg()&&Tr(a)){if(isNaN(c.hl)){const p=[];for(var k=a.Ia();k;)p.push(k),k=k.Ia();p.reverse();k=(x,y)=>{if(y=nq(y.jb(),x.ga()))return y.$g();y=x.ga().ja;return y.eh()?y.$g():Ur(x.Na)};const r=(x,y,A)=>{x=nq(y.jb(),x.ga());if(!x)return 0;A=x.Qd(A);if(!A)return 0;A=Qq(A.ia);return A?(A=A.Dj())?A.pd():0:0};let u=p[0];var l=g?u.K():Ur(u.Na),n=g?Vr(u.Na):u.Na.ox;l=l*n+r(u,d,"offsetHeight");l+=k(u,d)*r(u,d,"offsetScaleY");
for(n=1;n<p.length;n++){u=p[n];const x=g?Vr(u.Na):u.Na.ox;l*=x;l+=r(u,d);l+=k(u,d)*r(u,d,"offsetScaleY")}c.hl=0===l?Number.EPSILON:l}e||Wr(a,b/c.hl,!0)}else Wr(a,b)}},(a,b)=>a.Uh(b),a=>a.K(),!0);Mr("offsetAngle",(a,b)=>{b=+b;0!==b&&a.Hn()&&(a.Oa=Xr.Od(a.Oa+b),Yr(a))},(a,b)=>a.Gd(b),a=>a.Ka(),!1,!0);
Mr("offsetOpacity",(a,b,d,c)=>{b/=c.dO?c.dO:1;d=a.bd()+b;0===c.xd?(1<d?c.xd+=d-1:0>d&&(c.xd+=d),Zr(a)?a.Vh(a.Na.Tm+b):a.Vh(a.bd()+b)):(a=a.bd()+b,0<b&&0<c.xd?1<a&&(c.xd+=a-1):0<b&&0>c.xd?(c.xd+=b,0<c.xd&&(c.xd=0)):0>b&&0<c.xd?(c.xd+=b,0>c.xd&&(c.xd=0)):0>b&&0>c.xd&&0>a&&(c.xd+=a))},(a,b)=>{a.Vh(b)},a=>a.bd(),!1,!0,(a,b,d)=>{a.xd=0;switch(a.S.cd()){case "relative":a.S.$d();var c=Qq(a.S.ia).zc,e=a.m().bd(),g=e;for(var k of c)g=k.ya(),g=a.S.rg(g),g=e+g,g=Kr.X(g,0,1);a.Fx=e-g;a.Fx=Math.round(100*(a.Fx+
Number.EPSILON))/100;g=e;for(e=c.length-1;0<=e;e--)k=c[e].ya(),k=a.S.rg(k),g-=k,g=Kr.X(g,0,1);a.Ex=g;a.Ex=Math.round(100*(a.Ex+Number.EPSILON))/100}c=1===a.Nl.dd();if(("relative"===a.S.cd()||c)&&b.sg()&&Zr(b)){c=[];for(b=b.Ia();b;)c.push(b),b=b.Ia();c.reverse();b=(l,n,p)=>{l=nq(n.jb(),l.ga());if(!l)return 0;p=l.Qd(p);if(!p)return 0;p=Qq(p.ia);return p?(p=p.Dj())?p.pd():0:0};g=c[0].Na.KH;g+=b(c[0],d,"offsetOpacity");for(e=1;e<c.length;e++)g+=b(c[e],d,"offsetOpacity");a.dO=0===g?1:g}},a=>{switch(a.S.cd()){case "relative":a.xd=
0;const b=a.m();let d=b.bd();d=Math.round(100*(d+Number.EPSILON))/100;cq(a.S.jb())?(b.Vh(d+a.Fx),a.ic=0):(b.Vh(d-a.Ex),a.ic=Wq(a.Ib()))}});Mr("offsetOriginX",(a,b)=>{a.Sw+=+b},(a,b)=>a.Lj(b),a=>a.Ki(),!1);Mr("offsetOriginY",(a,b)=>{a.Tw+=+b},(a,b)=>a.Mj(b),a=>a.Li(),!1);Mr("offsetZElevation",(a,b)=>{a.wf(a.Sa()+b)},(a,b)=>a.wf(b),a=>a.Sa(),!0);
Mr("offsetScaleX",(a,b,d,c)=>{if(0!==b){var e=0>a.L()?-1:1;"relative"===c.S.cd()&&a.sg()&&Pr(a)?(b*=d.ah()*e,isNaN(c.hl)&&Lr.get("offsetWidth").CQ(a,1,d,c,!0),a.lm(b/c.hl,!0)):a.lm(d.ah()*e*b)}},(a,b,d)=>{a.ih(d.ah()*b)},(a,b)=>{const d=0>a.L()?-1:1;if(Pr(a)){var c=a.Ia(),e=nq(b.jb(),c.ga());e?c=c.L()/e.ah():(e=c.ga().ja,c=e.eh()?c.L()/e.ah():1);return a.L()*d/(b.ah()*c)}return a.L()*d/b.ah()},!1);
Mr("offsetScaleY",(a,b,d,c)=>{if(0!==b){var e=0>a.K()?-1:1;"relative"===c.S.cd()&&a.sg()&&Tr(a)?(b*=d.$g()*e,isNaN(c.hl)&&Lr.get("offsetHeight").CQ(a,1,d,c,!0),Wr(a,b/c.hl,!0)):Wr(a,d.$g()*e*b)}},(a,b,d)=>{a.Uh(d.$g()*b)},(a,b)=>{const d=0>a.K()?-1:1;if(Tr(a)){var c=a.Ia(),e=nq(b.jb(),c.ga());e?c=c.K()/e.$g():(e=c.ga().ja,c=e.eh()?c.K()/e.$g():1);return a.K()*d/(b.$g()*c)}return a.K()*d/b.$g()},!1);
function $r(a,b,d,c){var e=a.S.Cj();e="default"===e?"continuous":e;if("discrete"!==e||d){if("discrete"===e&&c&&(d=a.S.jb().ya(),!a.S.SD(d)))return;d=tr(a);c=a.Ag();e=a.m();var g=a.S.Fb;switch(a.S.uf()){case "behavior":d.Le(c,b);break;case "effect":d[c]=b;break;case "instance-variable":d.yp(c,b);break;case "plugin":d.Le(c,b,ir(a.Ib()));break;case "world-instance":a.dN(e,b,g);break;case "audio":a.ZV.call(a.Ib(),e,b,g)}}}
function as(a,b,d,c){switch(a.S.ia.dd()){case "angle":b=Kr.Qc(b)}var e=(b.toString().split(".")[1]||"").length;b=a.Nn();if(0===e)if(a.BH)e=Math.round(b);else if(a.vM)switch(a.S.ia.dd()){case "angle":e=Kr.La(Math.round(Kr.Qc(b)));break;default:e=Math.round(100*(b+Number.EPSILON))/100}else e=b;else e=a.BH?Number(Kr.toFixed(b,e)):b;a.ym(e-b,d,c)}
class bs extends Kr.vb.fh{constructor(a){super(a);this.Ex=this.Fx=this.xd=this.ic=0;this.hl=this.dO=NaN;this.ZV=this.aW=this.$V=this.YM=this.wO=this.dN=this.fN=this.eN=null;this.vM=this.BH=!1;this.Nl=Kr.Ur(this.S.jb(),Kr.os)?new Kr.vb.fh.T_(this):new Kr.vb.fh.S_(this);const b=this.S.ia.Xc;switch(this.S.uf()){case "world-instance":a=Lr.get(b);this.eN=a.m6;this.fN=a.CQ;this.dN=a.w5;this.BH=a.round;this.vM=a.a6;this.YM=a.init;this.wO=a.reset;break;case "audio":this.$V=a.DR,this.aW=a.A1,this.ZV=a.aY,
this.BH=!0,this.vM=!1}}j(){this.dN=this.fN=this.eN=this.Nl=null;this.hl=NaN;super.j()}km(){return this.Nl.km()}al(){this.wO&&this.wO(this)}gd(){var a=this.Nl.gd();"number"===typeof a&&(this.ic=a);this.YM&&(a=this.m(),this.YM(this,a,this.S.Fb))}yg(){const a=this.Nl.yg();"number"===typeof a&&(this.ic=a)}Pf(){return this.Nn()}Qk(){return this.ts()!==this.Pf()}Rk(){return Kr.Rf(this.yk)?!1:this.yk!==this.Pf()}vu(){this.Nl.vu()}Hr(a,b,d,c,e,g,k,l){return this.Nl.Hr(a,b,d,c,e,g,k,l)}uu(){this.Nl.uu()}Nn(){const a=
tr(this),b=this.Ag(),d=this.m(),c=this.S.Fb;switch(this.S.uf()){case "behavior":return a.ac(b);case "effect":return a[b];case "instance-variable":return Jr(a,b);case "plugin":return a.ac(b);case "world-instance":return this.eN(d,c);case "audio":return this.$V.call(this.Ib(),d,c)}}ym(a){var b=tr(this),d=this.Ag(),c=this.m();const e=this.S.Fb;switch(this.S.uf()){case "behavior":b.cK(d,a);break;case "effect":b[d]+=a;break;case "instance-variable":if(0!==a){d|=0;b=b.Jg;if(0>d||d>=b.length)throw new RangeError("invalid instance variable");
c=b[d];if("number"===typeof c)b[d]="number"===typeof a?b[d]+a:b[d]+parseFloat(a);else{if("boolean"===typeof c)throw Error("can not set offset of boolean variable");if("string"===typeof c)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}break;case "plugin":b.cK(d,a,ir(this.Ib()));break;case "world-instance":this.fN(c,a,e,this);break;case "audio":this.aW.call(this.Ib(),c,a,e,this)}}gv(a,b,d,c,e,g,k,l){this.Nl.gv(a,b,d,c,e,g,k,l)}wa(){return Object.assign(super.wa(),
{v:this.ic,a:this.xd,fod:this.Fx,bod:this.Ex})}Aa(a){a&&(super.Aa(a),this.ic=a.v,this.xd=a.a,this.Fx=Kr.Rc(a.fod)?a.fod:0,this.Ex=Kr.Rc(a.bod)?a.bod:0)}}Kr.vb.fh.$R=bs;"use strict";class cs{constructor(a){this.$H=!1;this.Dd=0;this.sM=this.rH=!1;this.Ya=a;for(let b=0,d=this.Ya.length;b<d;b++)this.Ya[b].zs=this}Me(a){this.Dd=a}pd(){return this.Dd}qz(a){this.sM=a}fd(){this.$H=!1;this.Dd=0;this.sM=this.rH=!1}}
class ds{constructor(a){this.Ff=a}j(){this.Ff=null}dd(){return 0}gd(){const a=this.Ff;this.Ff.Qd();return sr(a,()=>rr(a,()=>0,()=>Wq(a.Ib())),()=>{})}yg(){}km(){switch(this.Ff.Qd().cd()){case "relative":return!1;case "absolute":return!0}}vu(){var a=this.Ff.Qd();const b=a.ia.Xc;switch(a.cd()){case "absolute":if(a.zs)a.zs.fd();else{const d=a.jb(),c=a.ga(),e=a.Ib();(a=bq(d,c,e,b,a))&&1<a.length&&new cs(a)}}}Hr(a,b,d,c,e,g,k,l){var n=this.Ff,p=this.Ff.Qd();switch(p.cd()){case "relative":k=n.ic;n.ym(b-
k,d,c);g&&this.gv(a,d,c,e,k,b);n.ic=b;break;case "absolute":if(d=p.jb(),a=p.Fb,p.ga(),p.Ib(),p.zs){if(n=p.zs,c=ur(n.Ya,!0),d=d.ya(),d=vr(d,c))a=d.time-a.bh(),0===a?(n.qz(k),n.rH=l,n.$H=!0,n.Me(n.pd()+b)):0>a||(p=p.rg(a),n.qz(k),n.rH=l,n.$H=!0,n.Me(n.pd()+(b-p)))}else $r(n,b,l,k)}}uu(){const a=this.Ff;var b=this.Ff.Qd();switch(b.cd()){case "absolute":b.zs&&(b=b.zs,b.$H&&$r(a,b.pd(),b.rH,b.sM))}}gv(a,b,d,c,e,g){const k=this.Ff;c||(b&&a===b.ya()?as(k,Yp(b),b,d):d&&a===d.ya()?as(k,Yp(d),b,d):0===g-e&&
as(k,Yp(b),b,d))}}self.B.vb.fh.S_=ds;"use strict";
class es{constructor(a){this.Ff=a}j(){this.Ff=null}dd(){return 1}gd(){const a=this.Ff;a.Xv=!0;return this.KE(a.ts())}yg(){const a=this.Ff;if(a.ts()!==a.JE())return a.Xv=!0,this.KE(a.JE())}km(){return!1}vu(){}Hr(a,b,d,c,e,g,k){const l=this.Ff,n=l.ic;switch(l.Qd().cd()){case "relative":l.ym(b-n,d,c);g&&this.gv(a,d,c,e,n,b,!1,k);break;case "absolute":if(l.Xv)l.Xv=!1,l.ym(n,d,c);else if(0===a&&0===l.Qd().jb().Dc())$r(l,b,!0,!1);else if(l.ym(b-n,d,c),g){g=this.gv;var p=this.Ff;const u=p.m().ga();var r=
p.Qd().I().Tb;p=0;for(const x of zp(r))if(0===x.dd()){a:{for(const y of x.ab)if($p(y)&&u===y.ga()){r=!0;break a}r=!1}r&&p++}else 1===x.dd()&&x.ga()===u&&p++;g.call(this,a,d,c,e,n,b,1>=p,k)}}l.ic=b}uu(){}KE(a){return a-this.Ff.Pf()}gv(a,b,d,c,e,g){const k=this.Ff;c?b&&a===b.ya()?as(k,Yp(b),b,d):d&&a===d.ya()?as(k,Yp(d),b,d):d||as(k,Yp(b),b,d):b&&a===b.ya()?as(k,Yp(b),b,d):d&&a===d.ya()?as(k,Yp(d),b,d):0===g-e&&as(k,Yp(b),b,d)}}self.B.vb.fh.T_=es;"use strict";const fs=self.B,gs=self.vn;
fs.vb.iz=class{constructor(){}static Mn(a,b,d,c){let e;switch(c){case "behavior":e=b.ac(a);break;case "effect":e=b[a];break;case "instance-variable":e=Jr(b,a);break;case "plugin":e=b.ac(a)}return e===d?!1:!0}static Pa(a,b,d,c){if(!d)return b=c.ia,b=c.$d().Dj(b),Yp(b);var e=c.Cj();"default"===e&&(e="continuous");"combo"===c.ia.dd()&&(e="discrete");if("discrete"===e)return Yp(b);if("continuous"===e||"step"===e){"step"===e&&(e=c.jb().Sy(),0!==e&&(e=1/e,a=Math.floor(a*e)/e));e=Yp(b);const g=Yp(d),k=Xp(b,
"cubic-bezier"),l=Xp(d,"cubic-bezier"),n=k&&k.jC&&l&&l.GF;if(!n&&e===g)return e;const p=b.ya();d=d.ya();a=fs.normalize(a,p,d);b=b.op();n?(d-=p,b=gs.Cn(b)(d*a,0,1,d),b=gs.Cn("cubicbezier")(b,e,e+k.iC,g+l.yA,g)):b=gs.Cn(b)((d-p)*a,e,g-e,d-p);return"integer"===c.ia.dd()?Math.floor(b):b}}};"use strict";const hs=self.B;
hs.vb.qD=class{constructor(){}static Mn(a,b,d,c){let e;switch(c){case "behavior":e=b.ac(a);break;case "effect":e=b[a];break;case "instance-variable":e=Jr(b,a);break;case "plugin":e=b.ac(a)}return e===d?!1:!0}static Pa(a,b,d,c){if(!d)return b=c.ia,b=c.$d().Dj(b),Yp(b);var e=c.Cj();"default"===e&&(e="continuous");"combo"===c.ia.dd()&&(e="discrete");if("discrete"===e)return Yp(b);if("continuous"===e||"step"===e){"step"===e&&(c=c.jb().Sy(),0!==c&&(c=1/c,a=Math.floor(a*c)/c));const g=b.ya(),k=d.ya();c=
Yp(b);d=Yp(d);if(e=Xp(b,"angle")){const l=e.xO;if(c===d&&0===l)return c;a=hs.normalize(a,g,k);b=self.vn.Cn(b.op())(a,0,1,1);switch(e.nM){case "closest":return hs.rP(c,d,b,l);case "clockwise":return hs.z5(c,d,b,l);case "anti-clockwise":return hs.y5(c,d,b,l)}}else{if(c===d)return c;a=hs.normalize(a,g,k);b=self.vn.Cn(b.op());return hs.rP(c,d,b(a,0,1,1))}}}};"use strict";
self.B.vb.sD=class{constructor(){}static Mn(a,b,d,c){let e;switch(c){case "behavior":e=b.ac(a);break;case "effect":e=b[a];break;case "instance-variable":e=Jr(b,a);break;case "plugin":e=b.ac(a)}return!!e===!!d?!1:!0}static Pa(a,b,d,c){return d?Yp(b)?1:0:(a=c.ia,a=c.$d().Dj(a),Yp(a)?1:0)}};"use strict";const is=self.B,js=[0,0,0],ks=[0,0,0],bc=[0,0,0];
is.vb.wD=class{constructor(){}static Mn(a,b,d,c){let e;switch(c){case "behavior":e=b.ac(a);break;case "effect":e=b[a];break;case "instance-variable":e=Jr(b,a);break;case "plugin":e=b.ac(a)}Array.isArray(d)?(js[0]=d[0],js[1]=d[1],js[2]=d[2]):(ac(d),js[0]=Math.floor(255*bc.eb),js[1]=Math.floor(255*bc.kb),js[2]=Math.floor(255*bc.bb));Array.isArray(e)?(ks[0]=e[0],ks[1]=e[1],ks[2]=e[2]):(ac(e),ks[0]=Math.floor(255*bc.eb),ks[1]=Math.floor(255*bc.kb),ks[2]=Math.floor(255*bc.bb));return js[0]!==ks[0]||js[1]!==
ks[1]||js[2]!==ks[2]?!0:!1}static Pa(a,b,d,c){if(!d)return b=c.ia,b=c.$d().Dj(b),b=Yp(b),js[0]=b[0],js[1]=b[1],js[2]=b[2],js;var e=c.Cj();"default"===e&&(e="continuous");if("discrete"===e)return b=Yp(b),js[0]=b[0],js[1]=b[1],js[2]=b[2],js;if("continuous"===e||"step"===e){"step"===e&&(c=c.jb().Sy(),0!==c&&(c=1/c,a=Math.floor(a*c)/c));c=b.ya();e=d.ya();var g=Yp(b),k=Yp(d);const l=is.normalize(a,c,e);a=g[0];d=g[1];g=g[2];const n=k[0],p=k[1];k=k[2];b=self.vn.Cn(b.op());c=e-c;e=c*l;js[0]=a===n?a:b(e,a,
n-a,c);js[1]=d===p?d:b(e,d,p-d,c);js[2]=g===k?g:b(e,g,k-g,c);return js}}};"use strict";self.B.vb.DE=class{constructor(){}static Mn(a,b,d,c){let e;switch(c){case "behavior":e=b.ac(a);break;case "effect":e=b[a];break;case "instance-variable":e=Jr(b,a);break;case "plugin":e=b.ac(a)}return e===d?!1:!0}static Pa(a,b,d,c){return d?Yp(b):(a=c.ia,a=c.$d().Dj(a),Yp(a))}};"use strict";const ls=self.B;
function ms(a,b,d,c,e){let g;if("function"===typeof c)switch(a){case "load":g=new c(null,e);break;case "create":g=new c(b,e);break;case "create-including-disabled":g=new c(b,e)}else if("object"===typeof c)switch(c=c.map.get(b[c.xX]),a){case "load":g=new c(null,e);break;case "create":g=new c(b,e);break;case "create-including-disabled":g=new c(b,e)}switch(a){case "load":g.Aa(b);d.push(g);break;case "create":if("function"===typeof g.An&&!g.An()){g.j();break}d.push(g);break;case "create-including-disabled":d.push(g)}}
function ns(a,b,d,c){if(b)for(const e of b)ms("create",e,a,d,c)}function os(a,b,d,c){a.length?b.forEach((e,g)=>{a[g].Aa(e)}):b.forEach(e=>{ms("load",e,a,d,c)})}ls.T1=class{constructor(){this.pC=new Map}j(){for(const a of this.pC.values())a.j();this.pC.clear();this.pC=null}Cc(a){a=new ls.eT(a);this.pC.set(a.oa(),a)}ea(a){return this.pC.get(a)}};"use strict";const ps=self.B;
ps.eT=class{constructor(a){this.Ta="";this.Qt=NaN;this.kC=0;this.eg=this.Zf="default";this.IB=this.tB=!1;this.It=1;this.rj=null;this.JH="";this.UH=!1;this.ZH=!0;a&&(this.Ta=a[0],this.Qt=a[1],this.kC=a[2],this.Zf=a[3],this.eg=a[4],this.tB=!!a[6],this.IB=!!a[7],this.It=a[8],this.JH=a[9],this.UH=!!a[10],this.ZH=!!a[11],this.rj=new ps.fT(a[5],this))}j(){this.rj.j();this.rj=null}Pr(){this.rj||(this.rj=new ps.fT(null,this));return this.rj}oa(){return this.Ta}yE(a){this.Ta=a}Dc(){return this.Qt}Zu(a){this.Qt=
a}Sy(){return this.kC}IK(a){this.kC=a}Cj(){return this.Zf}Zk(a){this.Zf=a}cd(){return this.eg}um(a){this.eg=a}Mr(){return this.tB}wE(a){this.tB=a}Fu(){return this.IB}CK(a){this.IB=a}Mi(){return this.It}GK(a){this.It=a}HJ(){return this.JH}XD(){return this.UH}IJ(){return this.ZH}wa(){return{trackDataJson:this.rj.wa(),name:this.Ta,totalTime:this.Qt,step:this.kC,interpolationMode:this.Zf,resultMode:this.eg,loop:this.tB,pingPong:this.IB,repeatCount:this.It,startOnLayout:this.JH,transformWithSceneGraph:!!this.UH,
useSystemTimescale:this.ZH}}Aa(a){a&&(this.Pr().Aa(a.trackDataJson),this.Ta=a.name,this.Qt=a.totalTime,this.kC=a.step,this.Zf=a.interpolationMode,this.eg=a.resultMode,this.tB=a.loop,this.IB=a.pingPong,this.It=a.repeatCount,this.JH=a.startOnLayout,this.UH=!!a.transformWithSceneGraph,this.ZH=!!a.useSystemTimescale)}};"use strict";const qs=self.B;
class rs{constructor(a,b){this.rj=b;this.ai=this.mG=null;this.Qm=this.Nm=NaN;this.eg=this.Zf="default";this.je=!1;this.Yc=this.kk=null;this.le="";this.Pw=null;this.KO=0;this.sB=this.rj.Bc.Dc();this.Fa=0;this.Ta="";a&&(a[0]&&(this.mG=a[0],this.Nm=a[0][2],this.Qm=a[0][1]),this.Zf=a[1],this.eg=a[2],this.je=!!a[3],a[6]&&(this.le=a[6]),a[7]&&(this.Pw=a[7],this.KO=a[7][0],this.sB=a[7][1]),a[8]&&(this.ai=a[8]),a[8]&&(this.ai=a[8]),a[9]&&(this.Fa=a[9]),a[10]&&(this.Ta=a[10]),this.kk=new qs.UR(a[4],this),
this.Yc=new qs.uS(a[5],this))}j(){this.rj=this.mG=null;this.kk&&(this.kk.j(),this.kk=null);this.Yc&&(this.Yc.j(),this.Yc=null);this.Pw=null}Pr(){return this.rj}Ji(){this.kk||(this.kk=new qs.UR(null,this));return this.kk}$d(){this.Yc||(this.Yc=new qs.uS(null,this));return this.Yc}EJ(){return this.Qm}zK(a){this.Qm=a}Oy(){return this.Nm}vK(a){this.Nm=a}Cj(){return this.Zf}Zk(a){this.Zf=a}cd(){return this.eg}um(a){this.eg=a}An(){return this.je}gh(a){this.je=!!a}Zg(){return this.le}bh(){return this.KO}Bn(){return this.sB}vE(a){this.sB=
a}ah(){return this.ai[0]}BK(a){this.ai||(this.ai=[]);this.ai[0]=a}$g(){this.ai||(this.ai=[]);return this.ai[1]}AK(a){this.ai||(this.ai=[]);this.ai[1]=a}dd(){return this.Fa}oa(){return this.Ta}wa(){return{keyframeDataJson:this.kk.wa(),propertyTrackDataJson:this.Yc.wa(),instanceData:this.mG,additionalInstanceData:this.ai,instanceUid:this.Nm,objectClassIndex:this.Qm,interpolationMode:this.Zf,resultMode:this.eg,enabled:this.je,id:this.le,nestedData:this.Pw,type:this.Fa,name:this.Ta}}Aa(a){a&&(this.mG=
a.instanceData,this.Nm=a.instanceUid,this.Qm=a.objectClassIndex,this.Zf=a.interpolationMode,this.eg=a.resultMode,this.je=a.enabled,this.le=a.id,this.Fa=a.type?a.type:0,this.Ta=a.name?a.name:"",this.sB=this.rj.Bc.Dc(),a.nestedData&&(this.Pw=a.nestedData,this.KO=this.Pw[0],this.sB=this.Pw[1]),a.additionalInstanceData&&(this.ai=a.additionalInstanceData),this.Ji().Aa(a.keyframeDataJson),this.$d().Aa(a.propertyTrackDataJson))}}function*qq(a){for(const b of a.Yq)yield b}
function rq(a){const b=new rs(null,a);a.Yq.push(b);return b}function Cq(a,b){b=b.Ji().md;for(let d=b.length-1;0<=d;d--){const c=b[d];if(c.ya()<=a)return c}}qs.fT=class{constructor(a,b){this.Bc=b;this.Yq=[];ns(this.Yq,a,rs,this)}j(){this.Bc=null;for(const a of this.Yq)a.j();qs.D(this.Yq);this.Yq=null}wa(){return{trackDataItemsJson:this.Yq.map(a=>a.wa())}}Aa(a){a&&os(this.Yq,a.trackDataItemsJson,rs,this)}};"use strict";const ss=self.B;function Qq(a){a.Hl||(a.Hl=new ss.tS(null,a));return a.Hl}
class ts{constructor(a,b){this.Yc=b;this.eC="";this.Fa=this.Xc=this.ig=null;this.$G=this.aH=NaN;this.eg=this.Zf="default";this.je=!1;this.Hl=null;this.gF=!0;a&&(this.eC=a[0][0],this.ig=a[0].slice(1),this.Xc=a[1],this.Fa=a[2],this.aH=a[3],this.$G=a[4],this.Zf=a[5],this.eg=a[6],this.je=!!a[7],this.Hl=new ss.tS(a[8],this),this.gF=a[9])}j(){this.Hl.j();this.ig=this.Yc=this.Hl=null}$d(){return this.Yc}uf(){return this.eC}HK(a){this.eC=a}dd(){return this.Fa}uz(a){this.Fa=a}xK(a){this.aH=a}wK(a){this.$G=
a}Cj(){return this.Zf}Zk(a){this.Zf=a}cd(){return this.eg}um(a){this.eg=a}An(){return this.je}gh(a){this.je=!!a}pJ(){return!!this.gF}wa(){return{propertyKeyframeDataJson:this.Hl.wa(),sourceAdapterId:this.eC,sourceAdapterArguments:this.ig,property:this.Xc,type:this.Fa,min:this.aH,max:this.$G,interpolationMode:this.Zf,resultMode:this.eg,enabled:this.je,canHavePropertyKeyframes:this.gF}}Aa(a){a&&(this.eC=a.sourceAdapterId,this.ig=a.sourceAdapterArguments,this.Xc=a.property,this.Fa=a.type,this.aH=a.min,
this.$G=a.max,this.Zf=a.interpolationMode,this.eg=a.resultMode,this.je=a.enabled,this.gF=a.canHavePropertyKeyframes,Qq(this).Aa(a.propertyKeyframeDataJson))}}function*Jq(a){for(const b of a.Jq)yield b}function Kq(a){const b=new ts(null,a);a.Jq.push(b);return b}function Oq(a,b){return Qq(b).zc[0]}function Sq(a,b){b=Qq(b).zc;const d=b.length;for(let c=0;c<d;c++){const e=b[c];if(e.ya()>=a)return e}}
ss.uS=class{constructor(a,b){this.rb=b;this.Jq=[];ns(this.Jq,a,ts,this)}j(){this.rb=null;for(const a of this.Jq)a.j();ss.D(this.Jq);this.Jq=null}Dj(a){return Qq(a).zc.at(-1)}SD(a,b){b=Qq(b).zc;const d=b.length;for(let c=0;c<d;c++){const e=b[c];if(e.ya()===a)return e}}Oh(a,b){b=Qq(b).zc;for(let d=b.length-1;0<=d;d--){const c=b[d];if(c.ya()<=a)return c}}wa(){return{propertyTrackDataItemsJson:this.Jq.map(a=>a.wa())}}Aa(a){a&&os(this.Jq,a.propertyTrackDataItemsJson,ts,this)}};"use strict";const us=self.B;
class vs{constructor(a,b){this.kk=b;this.Oc=-1;this.ml="noease";this.nl=!1;this.uB=this.Kf=null;a&&(this.Oc=a[0],this.ml=a[1],this.nl=!!a[2],this.Kf=(a=a[3])?a.split(" "):[],this.uB=new Set(this.Kf.map(d=>d.toLowerCase())),this.Ef=null)}j(){this.kk=null;us.D(this.Kf);this.Kf=null;this.uB.clear();this.Ef=this.uB=null}Ji(){return this.kk}Xu(a){this.Ef=a}ya(){return this.Oc}Xh(a){this.Oc=a;ws(this.kk)}op(){return this.ml}xg(a){this.ml=a}An(){return this.nl}gh(a){this.nl=!!a}Uy(){return this.Kf}vm(a){this.Kf=
a?a.split(" "):[];this.uB=new Set(this.Kf.map(b=>b.toLowerCase()))}wa(){return{time:this.Oc,ease:this.ml,enable:this.nl,tags:this.Kf}}Aa(a){a&&(this.Oc=a.time,this.ml=a.ease,this.nl=a.enable,this.Kf=a.tags,this.uB=new Set(this.Kf.map(b=>b.toLowerCase())))}}function Lq(a){const b=new vs(null,a);a.md.push(b);ws(a);return b}function xs(a,b){for(const d of a.md){if(!b(d))continue;const c=a.md.indexOf(d);-1!==c&&(d.j(),a.md.splice(c,1))}ys(a);ws(a)}
function ws(a){a.md.sort((b,d)=>b.ya()-d.ya());for(let b=0;b<a.md.length;b++)a.md[b].Xu(a.md[b+1])}function ys(a){a.md.sort((b,d)=>b.ya()-d.ya())}us.UR=class{constructor(a,b){this.rb=b;this.md=[];ns(this.md,a,vs,this);ws(this)}j(){this.rb=null;for(const a of this.md)a.j();us.D(this.md);this.md=null}wa(){return{keyframeDataItemsJson:this.md.map(a=>a.wa())}}Aa(a){a&&(os(this.md,a.keyframeDataItemsJson,vs,this),ws(this))}};"use strict";const zs=self.B;
function Xp(a,b){if(a.il){if(a.Pn||null===a.Pn)return a.Pn;var d=a.il.As;if(!d)return a.Pn=null,a.Pn;var c=d.length;for(let e=0;e<c;e++){const g=d[e];if(g.Zg()===b)return a.Pn=g,a.Pn}a.Pn=null;return a.Pn}}function Yp(a){const b=a.Hl.ia.cd();if("relative"===b)return a.pd();if("absolute"===b)return a.Tj}function Vq(a,b){"color"===a.Fa&&zs.Rc(b)?(a.Tj[0]=zs.UD(b),a.Tj[1]=zs.QD(b),a.Tj[2]=zs.HD(b)):a.Tj=b}
class As{constructor(a,b){this.Hl=b;this.Tj=this.Dd=null;this.Fa="";this.Oc=NaN;this.ml="noease";this.nl=!1;this.il=null;this.Pn=void 0;this.jO="line";a&&(this.Dd=a[0][0],this.Tj=a[0][1],this.Fa=a[0][2],this.Oc=a[1],this.ml=a[2],this.nl=!!a[3],this.jO=a[5],this.il=null,a[4]&&(this.il=new zs.hY(a[4])),this.LB=this.Ef=null)}j(){this.Hl=null;this.il&&(this.il.j(),this.il=null);this.LB=this.Ef=null}Xu(a){this.Ef=a}pd(){return this.Dd}Me(a){"color"===this.Fa&&zs.Rc(a)?(this.Dd[0]=zs.UD(a),this.Dd[1]=zs.QD(a),
this.Dd[2]=zs.HD(a)):this.Dd=a}dd(){return this.Fa}uz(a){this.Fa=a}ya(){return this.Oc}Xh(a){this.Oc=a;$s(this.Hl)}op(){return this.ml}xg(a){this.ml=a}An(){return this.nl}gh(a){this.nl=!!a}wa(){const a=this.il;return{addonDataJson:a?a.wa():a,value:this.Dd,aValue:this.Tj,type:this.Fa,time:this.Oc,ease:this.ml,enable:this.nl}}Aa(a){a&&(a.addonDataJson&&this.il.mka(a.addonDataJson),this.Dd=a.value,this.Tj=a.aValue,this.Fa=a.type,this.Oc=a.time,this.ml=a.ease,this.nl=a.enable)}}
function Tq(a){const b=new As(null,a);a.zc.push(b);$s(a);return b}function Uq(a,b){for(const d of a.zc){if(!b(d))continue;const c=a.zc.indexOf(d);-1!==c&&(d.j(),a.zc.splice(c,1))}at(a);$s(a)}function $s(a){let b=a.zc;b.sort((c,e)=>c.ya()-e.ya());for(var d=0;d<b.length;d++){const c=b[d];d+1<b.length&&c.Xu(b[d+1]);0<=d-1&&(c.LB=b[d-1])}b=a.Iq;b.sort((c,e)=>c.ya()-e.ya());for(a=0;a<b.length;a++)d=b[a],a+1<b.length&&d.Xu(b[a+1]),0<=a-1&&(d.LB=b[a-1])}function at(a){a.zc.sort((b,d)=>b.ya()-d.ya())}
zs.tS=class{constructor(a,b){this.ia=b;this.zc=[];this.Iq=[];ns(this.zc,a,As,this);b=this.Iq;var d=As;if(a)for(const c of a)ms("create-including-disabled",c,b,d,this);$s(this)}j(){this.ia=null;for(const a of this.zc)a.j();zs.D(this.zc);this.zc=null;for(const a of this.Iq)a.j();zs.D(this.Iq);this.Iq=null}Dj(){return this.zc[this.zc.length-1]}TD(){return this.Iq}wa(){const a=this.Iq;return{propertyKeyframeDataItemsJson:this.zc.map(b=>b.wa()),propertyKeyframeDataItemsIncludingDisabledJson:a.map(b=>b.wa())}}Aa(a){a&&
(os(this.zc,a.propertyKeyframeDataItemsJson,As,this),os(this.Iq,a.propertyKeyframeDataItemsIncludingDisabledJson,As,this),$s(this))}};"use strict";const bt=self.B;class ct{constructor(a,b){this.il=b;this.le=a[0];this.bo=a[1]}j(){this.bo=this.il=null}Zg(){return this.le}wa(){return{id:this.le,data:this.bo}}Aa(a){a&&(this.le=a.id,this.bo=a.data)}}
class dt extends ct{constructor(a,b){super(a,b);this.iC=this.bo[0];this.jC=!!this.bo[1];this.yA=this.bo[2];this.GF=!!this.bo[3]}j(){super.j()}wa(){return Object.assign(super.wa(),{startAnchor:this.iC,startEnable:!!this.jC,endAnchor:this.yA,endEnable:!!this.GF})}Aa(a){a&&(super.Aa(a),this.iC=a.startAnchor,this.jC=!!a.startEnable,this.yA=a.endAnchor,this.GF=!!a.endEnable)}}
class et extends ct{constructor(a,b){super(a,b);this.nM=this.bo[0];this.xO=this.bo[1]}j(){super.j()}wa(){return Object.assign(super.wa(),{direction:this.nM,revolutions:this.xO})}Aa(a){a&&(super.Aa(a),this.nM=a.direction,this.xO=a.revolutions)}}
bt.hY=class{constructor(a){this.As=[];ns(this.As,a,{xX:0,map:new Map([["cubic-bezier",dt],["angle",et]])},this)}j(){for(const a of this.As)a.j();bt.D(this.As);this.As=null}wa(){return{addonDataItemsJson:this.As.map(a=>a.wa())}}Aa(a){a&&os(this.As,a.addonDataItemsJson,{xX:"id",map:new Map([["cubic-bezier",dt],["angle",et]])},this)}};"use strict";const ft=self.B;let gt=0;function ht(a,b){a.CB||(a.CB=[]);a.CB.push(b)}
function it(a,b,d){for(const c of a.ab)for(const e of c.Ya)e.ia.Xc===d&&(a=Oq(e.$d(),e.ia),a.Me(b),Vq(a,b))}function jt(a,b){for(const d of a.ab)for(const c of d.Ya)if(c.ia.Xc===b)return c}function kt(a,b){for(const e of b)b=jt(a,e),it(a,b.Pf(),e);if(cq(a)){var d=a.Dc()-a.ya();a.Zu(d);for(var c of a.ab)c.vE(d);gq(a,0)}else{c=a.ya();a.Zu(c);for(d of a.ab)d.vE(c);gq(a,c)}a.gd(!0)}function lt(a,b,d){d=jt(a,d);d=d.$d().Dj(d.ia);d.Xh(a.Dc());d.Me(b);Vq(d,b)}
function mt(a){for(const b of a.ab){const d=c=>{c=c.ya();const e=a.Dc();return 0!==c&&c!==e};xs(b.rb.Ji(),d);b.AD(d)}}
function nt(a){var b=a.sb.Tb,d=new ft.eT;if(a.json){d.Aa(a.json.tweenDataItemJson);var c=new ft.os(d,b);c.Aa(a.json);return c}b=new ft.os(d,b);ft.Xk(a.my)||(a.my=[a.my]);b.le=a.id;b.vm(a.kp);b.kG=a.ay;b.Nv=a.ny;b.wE(a.loop);b.CK(a.ly);b.Zu(a.time);b.IK(0);b.Zk("default");b.um(a.my[0].pn);b.GK(a.iu);d=b.UQ();d.vK(a.instance.Yb);d.Zk("default");d.um(a.my[0].pn);d.gh(!0);d.zK(a.instance.H().Ja());var e=a.instance.ja,g=e.eh()?e.ah():a.instance.m().L();e=e.eh()?e.$g():a.instance.m().K();d.BK(g);d.AK(e);
g=Lq(d.rb.Ji());g.Xh(0);g.xg("noease");g.gh(!0);g.vm("");g=Lq(d.rb.Ji());g.Xh(a.time);g.xg("noease");g.gh(!0);g.vm("");for(c of a.my)g=d.TQ(),g.HK(c.oy),g.ia.ig=c.j7,g.ia.Xc=c.Ug,g.WS(c.type),g.xK(NaN),g.wK(NaN),g.Zk("default"),g.um(c.pn),g.gh(!0),e=g.pD(),e.uz(c.valueType),e.Xh(0),e.xg(c.Jk),e.gh(!0),e.Me(c.Pk),Vq(e,c.Pk),e=g.pD(),e.uz(c.valueType),e.Xh(a.time),e.xg(c.Jk),e.gh(!0),e.Me(c.Of),Vq(e,c.Of),g.Ib();return b}
ft.os=class extends ft.Bp{constructor(a,b){super(`tween-${gt++}`,a,b);this.le="";this.Nv=!1;this.kG="start-value";this.Fb=this.uV=this.CB=this.ld=null}sR(a){const b=ft.A(ft.Event,"tweenstatereleased");b.Yna=this;a.dispatchEvent(b)}dd(){return 1}eR(){for(const a of qq(this.Bc.Pr()))this.ab.push(ft.PK.Ea(this,a));this.Fb=this.ab[0]}UQ(){var a=rq(this.Bc.Pr());a=ft.PK.Ea(this,a);this.ab.push(a);this.Fb=this.ab[0];return a}Qd(){return this.Fb.Ya[0]}WS(){}ga(){var a=this.ab;if(a&&a.length&&(this.Fb=a=
a[0])){var b=a.ga();return a.nc()?b:void 0}}Zg(){return this.le}nS(){if(this.uV)for(const a of this.uV)a(this);if(!this.ph)for(const a of this.ab)a.Rk()}rR(){if(!this.io&&(this.io=!0,this.CB))for(const a of this.CB)a(this)}Xh(a){mt(this);super.Xh(a)}On(a){ft.Rc(a)||(a=this.Dc());this.yc=0>a?0:a>=this.Dc()?this.Dc():a;this.Fb.al()}gd(a){if(!this.lq&&"current-state"===this.kG)for(const b of this.ab)b.Qk();super.gd(a)}Tc(a=!1){super.Tc(a);if(!this.ph)for(const b of this.ab)b.js()}fd(a=!0,b=!1){mt(this);
super.fd(a,b)}Fz(){if(this.od)return!0;const a=this.ga();if(a&&a.H().Qf())return!1;Ip(this.Tb,this);this.fd(!1,!0);return!0}jf(a,b,d){this.ld||(this.ld=this.ga());if(!this.ld||uq(this.ld))this.Tc(!0),this.Vp=this.g.pj;else if(b=this.ld.ne,-1!==b&&(a=d*b),0!==a||0!==this.ww){this.ww=a;d=this.yc+a*this.sd;a=this.Bc.Qt;this.yc=0>d?0:d>=a?a:d;b=d=!1;var c=this.Mr(),e=this.Fu();c||e?c&&!e?0<this.sd?this.yc>=a&&(this.On(0),b=!0):0>=this.yc&&(this.On(a),b=!0):!c&&e?0<this.sd?this.yc>=a&&(gq(this,a),this.Wh(-1*
this.sd),b=!0,1===this.Mc?this.kf<this.Mi()?(this.kf++,this.Mc=0):d=!0:0===this.Mc&&(this.Mc=1)):0>=this.yc&&(gq(this,0),this.Wh(-1*this.sd),b=!0,1===this.Mc?this.kf<this.Mi()?(this.kf++,this.Mc=0):d=!0:0===this.Mc&&(this.Mc=1)):c&&e&&(0<this.sd?this.yc>=a&&(gq(this,a),this.Wh(-1*this.sd),b=!0,this.Mc++,ft.wrap(this.Mc,0,2)):0>=this.yc&&(gq(this,0),this.Wh(-1*this.sd),b=!0,this.Mc++,ft.wrap(this.Mc,0,2))):0<this.sd?this.yc>=a&&(this.kf<this.Mi()?(this.kf++,this.On(0),b=!0):(gq(this,a),d=!0)):0>=this.yc&&
(this.kf<this.Mi()?(this.kf++,this.On(a),b=!0):(gq(this,0),d=!0));d?(this.Fb.qz(),this.Tc(!0),this.Vp=this.g.pj):(this.Fb.Pa(this.yc,!0,!1,b,this.Hg,!1),this.Hg&&(this.Hg=!1))}}wa(){const a=super.wa();return Object.assign(a,{tweenDataItemJson:this.Bc.wa(),id:this.le,destroyInstanceOnComplete:this.Nv,initialValueMode:this.kG})}Aa(a){a&&(this.Bc.Aa(a.tweenDataItemJson),super.Aa(a),this.le=a.id,this.Nv=a.destroyInstanceOnComplete,this.kG=a.initialValueMode)}static IsPlaying(a){return a.IsPlaying()}static dz(a){return a.dz()}};
"use strict";const ot=self.B;function pt(a){1===a.Ya.length?a.CA=a.Ya[0]:(a.CA=a.Ya[0],a.CO=a.Ya[1])}
ot.PK=class extends ot.EE{constructor(a,b){super(a,b);this.CO=this.CA=null}static Ea(a,b){return ot.A(ot.PK,a,b)}cR(){for(const a of Jq(this.rb.$d()))this.Ya.push(ot.OK.Ea(this,a));pt(this)}TQ(){var a=Kq(this.rb.$d());a=ot.OK.Ea(this,a);this.Ya.push(a);pt(this);return a}gd(){wq(this);if(this.nc()||!$p(this)){var a=cq(this.jb())?0:this.Bn();for(const b of this.Ya)b.gd(a),0===this.Qg&&1===b.Qg&&(this.Qg=1),0===this.Ac&&1===b.Ac&&(this.Ac=1);this.si=0;this.Ya.some(b=>b.si)&&(this.si=1);this.Bl=Bq(this,
a);this.eq=this.gt=!1;this.Pa(a)}}Gr(){}Pa(a,b,d=!1,c=!1,e,g=!1,k=!1){this.ld||this.ga();if(this.ld){if(uq(this.ld)||g&&this.H().Qf())return!1;this.CO?(this.CA.Pa(a,d,c,k),this.CO.Pa(a,d,c,k)):this.CA.Pa(a,d,c,k);0!==this.CA.Qg&&(this.Xa||(this.Xa=this.ld.m()),this.Xa&&T(this.Xa))}}Er(){}Aa(a){super.Aa(a);pt(this)}};"use strict";const qt=self.B;
qt.OK=class extends qt.vb{constructor(a,b){super(a,b);this.Wz=!1}static Ea(a,b){return qt.A(qt.OK,a,b)}Pa(a,b=!1,d=!1,c=!1){if(this.Wz){var e=this.zc[0];var g=this.zc[1]}else{if(b)e=this.Yc.Oh(a,this.ia);else{if(this.Nd){g=this.jb();const k=this.Nd.Ef;e=this.Nd.ya();g=k?k.ya():g.Dc();if(a<=e||a>=g)this.Nd=this.Yc.Oh(a,this.ia)}else this.Nd=this.Yc.Oh(a,this.ia);e=this.Nd}g=e.Ef}this.hg.Pa(a,e,g,b,d,c)}pD(){const a=Tq(Qq(this.ia));this.Nd=null;this.Wz=2>=Pq(this).length;return a}AD(a){this.Nd=null;
Uq(Qq(this.ia),a);this.Wz=2>=Pq(this).length}wa(){return{sourceAdapterJson:this.Ib().wa(),basic:this.Wz}}Aa(a){a&&(this.Ib().Aa(a.sourceAdapterJson),this.Wz=a.basic)}};"use strict";const rt=self.B,st=self.vn;function tt(a){a.KB.clear();for(let d=0;d<a.wi.length-1;d++){var b=a.wi[d];if(!b.jC)continue;const c=a.wi[d+1];a.KB.set(b,st.nZ(b.xi,b.xi+b.eW,c.xi+c.dU,c.xi))}}
rt.NK=class extends rt.xa{constructor(a,b=!0){super();this.Ta=a[0];this.dV=!1;this.wi=[];for(var d of a[1])a=rt.gT.Ea(this,d),this.wi.push(a);for(d=0;d<this.wi.length;d++)this.wi[d].Xu(this.wi[d+1]);this.KB=new Map;this.oW=new Map;tt(this);b&&st.eY(this.Ta,(c,e,g,k)=>this.Pa(c,e,g,k))}static Ea(a){return rt.A(rt.NK,a)}j(){for(const a of this.wi)a.j();rt.D(this.wi);this.wi=null;this.KB.clear();this.KB=null;this.oW.clear();this.oW=null}Pa(a,b,d,c){var e=a/c;if(this.dV)return 0===c?b+d:st.Q_(a,b,d,c);
0===c&&(e=1);a:{for(a=this.wi.length-1;0<=a;a--)if(c=this.wi[a],c.xi<=e){a=c;break a}a=void 0}c=a.Ef;if(!c){a:{for(a=this.wi.length-1;0<=a;a--)if(c=this.wi[a],c.xi<e){a=c;break a}a=void 0}c=a.Ef}e=rt.F6(e,a.xi,c.xi,c.xi-a.xi);const g=a.xi,k=a.CC,l=a.xi+a.eW,n=a.CC+a.l5,p=c.xi+c.dU,r=c.CC+c.r4,u=c.xi;c=c.CC;c=st.Cn("spline")(e,g,k,l,n,p,r,u,c,this.KB.get(a));c+=a.CC;return(1-c)*b+c*(b+d)}};"use strict";const ut=self.B;
ut.gT=class extends ut.xa{constructor(a,b){super();this.xi=b[0];this.CC=b[1];this.eW=b[2];this.l5=b[3];this.dU=b[4];this.r4=b[5];this.jC=b[6];this.GF=b[7];this.Ef=null}j(){}static Ea(a,b){return ut.A(ut.gT,a,b)}Xu(a){this.Ef=a}};"use strict";const vt=self.B;vt.X1=class extends vt.xa{constructor(a){super();this.g=a;this.VH=[]}j(){for(const a of this.VH)a.j();vt.D(this.VH);this.VH=null}Ea(a){this.VH.push(vt.NK.Ea(a))}};"use strict";const wt=self.B;function xt(a){return a.mj?0!==a.mj.size:!1}
function yt(a,b,d){b=b instanceof wt.fE?b.Ja():b;if(a.mj.has(b)&&(a=a.mj.get(b).get(d)))return JSON.parse(JSON.stringify(a))}function zt(a,b,d){a.lo||(a.lo=new WeakMap);a.lo.has(b)||a.lo.set(b,d)}
wt.M1=class extends wt.xa{constructor(a){super();this.g=a;this.lo=this.mj=null;this.iw=b=>this.NE(b.instance)}j(){this.lK();if(this.mj){for(const a of this.mj.values())a.clear();this.mj.clear()}this.g=this.mj=null}Ea(a){this.mj||(this.mj=new Map);if(a){var b=a[0][16][0],d=a[1];this.mj.has(d)||this.mj.set(d,new Map);this.mj.get(d).set(b,a)}}iJ(){const a=this.g.ib();a&&a.addEventListener("instancedestroy",this.iw)}lK(){const a=this.g.ib();a&&a.removeEventListener("instancedestroy",this.iw)}NE(a){this.lo&&
this.lo.has(a)&&this.lo.delete(a)}};"use strict";const At=self.B;function Bt(a){return a.Db[a.ta-1]}function Ct(a){var b=a.Db,d=++a.ta;d===b.length?(d=At.A(At.JK,a),b.push(d),a.kl=d):(b=b[d],b.fd(),a.kl=b)}
At.C1=class extends At.xa{constructor(a){super();this.R=a;this.Db=[];this.Db.push(At.A(At.JK,this));this.ta=0;this.kl=this.Db[0]}j(){for(const a of this.Db)a.j();At.D(this.Db);this.R=this.kl=null}H(){return this.R}da(){return this.kl}pe(){this.da().pe()}Za(){this.kl=this.Db[--this.ta]}es(a){const b=this.Db;for(let d=0,c=b.length;d<c;++d)b[d].es(a)}};"use strict";const Dt=self.B;function Et(a){Dt.D(a.J);Dt.D(a.$a)}function Ft(a){return a.lb?!!a.R.J.length:!!a.J.length}
function Gt(a){const b=a.qa();return b.length?b:a.$a}function Ht(a,b){a.lb=!1;Dt.D(a.J);a.J.push(b)}function It(a,b){a.lb=!1;Dt.Pd(a.J,b)}function Jt(a,b){a.lb=!1;Dt.D(a.J);for(const d of b)a.J.push(d)}function Kt(a,b,d){for(const c of d)b.has(c)||a.$a.push(c)}function Lt(a,b){for(const d of b)a.J.push(d);Dt.Di(a.$a,b)}function Mt(a,b){b&&(Nt(a.ke).lc().Te?(a.lb&&(Dt.D(a.J),Dt.Pd(a.$a,b.H().qa()),a.lb=!1),b=a.$a.indexOf(b),-1!==b&&(a.J.push(a.$a[b]),a.$a.splice(b,1))):Ht(a,b))}
Dt.JK=class extends Dt.xa{constructor(a){super();this.Db=a;this.R=this.Db.H();this.ke=this.R.I().Zd();this.lb=!0;this.J=[];this.$a=[]}j(){Et(this);this.ke=this.R=this.Db=null}H(){return this.R}qa(){return this.lb?this.R.qa():this.J}fd(){this.lb=!0;Dt.D(this.$a)}pe(){this.lb=!0}vJ(a){a.lb?this.fd():(this.lb=!1,Dt.Pd(this.J,a.J),Dt.D(this.$a))}es(a){Dt.Di(this.J,a);Dt.Di(this.$a,a)}};"use strict";const Ot=self.B;function Nt(a){return a.Db[a.ta]}
Ot.eZ=class extends Ot.xa{constructor(a){super();this.Ra=a;this.g=this.Ra.I();this.Db=[];this.Db.push(Ot.A(Ot.oR,this,null));this.ta=0;this.IF=[]}j(){for(const a of this.Db)a.j();Ot.D(this.Db);Ot.D(this.IF);this.g=this.Ra=null}Ga(){return this.Ra}I(){return this.g}gb(a){var b=this.Db;const d=++this.ta;if(d===b.length)return a=Ot.A(Ot.oR,this,a),b.push(a),a;b=b[d];b.fd(a);return b}Za(){--this.ta}};"use strict";const Pt=self.B;
function Qt(a){const b=a.Vf;return b.EG?!0:a.Oe<b.Uc.length-1?!!b.ae().length:!1}function Rt(a,b){a.Wf=b}Pt.oR=class extends Pt.xa{constructor(a,b){super();this.Db=a;this.g=this.Db.I();this.Vf=b;this.yf=this.Oe=0;this.cq=this.ri=!1;this.JF=null;this.HM=this.pU=0;this.Wf=null}j(){this.fd(null);this.g=this.Db=null}fd(a){this.Vf=a;this.yf=this.Oe=0;this.cq=this.ri=!1;this.Wf=null}mL(a,b){this.Vf=a;this.Oe=0;this.yf=b}lc(){return this.Vf}uE(a){this.HM=a}};"use strict";const St=self.B;
St.J_=class extends St.xa{constructor(a){super();this.Ra=a;this.g=this.Ra.I();this.Db=[];this.ta=-1;this.kl=null;this.lG=[]}j(){St.D(this.Db);this.g=this.Ra=null}Ga(){return this.Ra}I(){return this.g}Cu(){return this.kl}gb(){const a=++this.ta,b=this.Db;a===b.length?b.push(this.lG.slice(0)):St.Pd(b[a],this.lG);this.kl=b[a]}Za(){this.kl=this.Db[--this.ta]}};"use strict";const Tt=self.B;
Tt.M_=class extends Tt.xa{constructor(a){super();this.Ra=a;this.g=this.Ra.I();this.Db=[];this.ta=-1}j(){Tt.D(this.Db);this.g=this.Ra=null}Ga(){return this.Ra}I(){return this.g}Cu(){return this.Db[this.ta]}gb(){++this.ta;if(this.ta===this.Db.length){var a=Tt.A(Tt.L_,this);this.Db.push(a);return a}a=this.Db[this.ta];a.fd();return a}Za(){--this.ta}};"use strict";const Ut=self.B;
Ut.L_=class extends Ut.xa{constructor(a){super();this.wh=a;this.Ta="";this.ta=0;this.rd=!1}fd(){this.Ta="";this.ta=0;this.rd=!1}yE(a){this.Ta=a}oa(){return this.Ta}Ja(){return this.ta}Tc(){this.rd=!0}};"use strict";const Vt=self.B;Vt.nY=class extends Vt.xa{constructor(){super();this.Db=[];this.ta=-1}j(){Vt.D(this.Db)}Cu(){return this.Db[this.ta]}gb(){++this.ta;if(this.ta===this.Db.length){const a=[];this.Db.push(a);return a}return this.Db[this.ta]}Za(){--this.ta}};"use strict";const Wt=self.B;
function Xt(a,b){return a.Ja()-b.Ja()}function Uk(a,b){b?a.dF++:a.dF--}function Wk(a){return 0<a.Go||0<a.Qe}function lp(a,b){for(const [d,c,e]of a.uH)a.Nz(b,d,c,e);Wt.D(a.uH)}function qp(a){for(const b of a.vi)b.j();Wt.D(a.vi)}function Yt(a,b){switch(b.IM){case 0:a.bw.set(b.Xs.toLowerCase(),b);break;case 1:a.mA.set(b.Xs.toLowerCase(),b)}}
function Zt(a,b){2<=b.length&&b.sort(Xt);let d=a.BT.get(b.length);d||(d=[],a.BT.set(b.length,d));for(let c=0,e=d.length;c<e;++c){const g=d[c];a:{for(let k=0,l=b.length;k<l;++k)if(b[k]!==g[k]){a=!1;break a}a=!0}if(a)return g}d.push(b);return b}function $t(a){const b=[];for(a=a.Or();a;)Wt.Rl(b,a.pT()),a=a.Or();return b}function au(a){const b={};for(const d of $t(a))b[d.Tk()]=bu(d);return Object.create(Object.prototype,b)}
function cu(a,b,d){let c=a.mA.get((b.oa()+"."+d).toLowerCase());if(c)return c;if(!b.Qa)for(const e of b.Yi)if(c=a.mA.get((e.oa()+"."+d).toLowerCase()))return c;return null}function*du(a,b){for(const d of vp(b))if(b=d.Ad)a.g.$n.push(d),yield*b.tb(),eu(a.g)}async function fu(a,b){for(const d of a.ov)d.ew=!1;a.Go++;for(const d of du(a,b))await gu(a.g,d);a.Go--}function hu(a,b,d,c){a.uH.push([b,d,c]);return!1}function iu(a,b,d,c){let e=null;const g=new Promise(k=>e=k);a.tH.push([b,d,c,e]);return g}
function*ju(a){if(ku(a.g))throw Error("should not be in breakpoint");const b=a.g.nb;for(;a.tH.length;){const [d,c,e,g]=a.tH.shift(),k=yield*a.dv(b,d,c,e);g(k)}}async function lu(a){for(const b of ju(a))await gu(a.g,b)}function mu(a){for(let b=0,d=a.length;b<d;++b)a[b].Ll.pe()}function nu(a){for(let b=0,d=a.length;b<d;++b)Ct(a[b].Ll)}function ou(a){for(let d=0,c=a.length;d<c;++d){var b=a[d].Ll;const e=b.Db,g=++b.ta;g===e.length&&e.push(At.A(At.JK,b));const k=e[g];k.vJ(e[g-1]);b.kl=k}}
function pu(a){for(let b=0,d=a.length;b<d;++b)a[b].Ll.Za()}function qu(a,b){const d=new Set,c=a.ke.Db;a=a.ke.ta;for(let e=0;e<=a;++e){const g=c[e].Wf;if(g)for(const k of g)b&&b.has(k)||d.add(k)}return d}function ru(a,b){b=new Set([...b]);a=qu(a,b);if(0<a.size){for(const d of a)Ct(d.Ll);return[...a]}return null}function su(a){const b=Wt.A(Wt.MS,a);a.vi.push(b);return b}function tu(a){a=Wt.D5(a.vi,b=>b.VB);for(const b of a)b.j()}
async function uu(a){if(a.vi.length){var b=a.tf(),d=!1;a.Go++;for(let c=0,e=a.vi.length;c<e;++c){const g=a.vi[c];vu(g)&&await wu(g,b);g.VB&&(d=!0)}d&&(tu(a),b.fd(null));a.Go--}}function xu(a){return a.vi.filter(b=>"promise"!==b.Fa).map(b=>b.wa())}function yu(a){for(;a;)if(a=a.Or(),a instanceof Wt.Lr)return a;return null}
Wt.dZ=class extends Wt.xa{constructor(a){super();this.g=a;this.ov=[];this.FH=new Map;this.EL=[];this.LM=new Map;this.PL=new Map;this.$L=new Map;this.RE=new Map;this.BT=new Map;this.zA=new Map;this.Y4=0;this.DL=[];this.J3=[];this.fV=[];this.bw=new Map;this.mA=new Map;this.ke=Wt.A(Wt.eZ,this);this.ve=Wt.A(Wt.J_,this);this.wh=Wt.A(Wt.M_,this);this.VO=[];this.uH=[];this.tH=[];this.dF=this.Qe=this.Go=0;this.vi=[];this.Tn=[];self.c3_callFunction=(b,d)=>this.ME(b,d)}j(){qp(this);this.ke.j();this.ke=null;
this.ve.j();this.ve=null;Wt.D(this.uH);Wt.D(this.tH);this.g=null;Wt.D(this.ov);this.FH.clear()}Ea(a){a=Wt.A(Wt.cZ,this,a);this.ov.push(a);this.FH.set(a.oa().toLowerCase(),a)}oc(){for(var a of this.mA.values())if(a.R&&a.R.Qa)for(var b of a.R.ho)if(zu(b,a.Ip)){a.PM=!0;break}for(const d of this.bw.values())d.oc();for(const d of this.mA.values())d.oc();for(const d of this.ov)d.oc();for(const d of this.ov)hp(d);for(const d of this.VO)d.oc(!1);Wt.D(this.VO);a=this.ve;a.lG=this.fV;b=a.lG.slice(0);a.Db.push(b);
a.ta=0;a.kl=b}I(){return this.g}Zd(){return this.ke}tf(){return Nt(this.Zd())}lc(){return this.tf().lc()}Xg(){const a=this.tf();return Au(a.lc(),a.Oe)}Iy(){const a=this.tf();return Bu(a.lc(),a.yf)}Nz(a,b,d,c){let e=!1;if(!a.ub())return hu(this,b,d,c);this.Qe++;for(const g of vp(a))if(a=g.Ad){this.g.$n.push(g);for(const k of a.tF){const l=k.Nz(b,d,c);e=e||l}a=a.Nz(b,d,c);e=e||a;eu(this.g)}this.Qe--;return e}*dv(a,b,d,c){let e=!1;if(!a.ub())return hu(this,b,d,c);this.Qe++;for(const g of vp(a))if(a=
g.Ad){this.g.$n.push(g);for(const k of a.tF){const l=yield*k.dv(b,d,c);e=e||l}a=yield*a.dv(b,d,c);e=e||a;eu(this.g)}this.Qe--;return e}wa(){const a={};for(var b of this.EL)a[b.fb.toString()]=b.Mu();b={};for(const [e,g]of this.$L){var d=g.wa();d&&(b[e.toString()]=d)}d={};for(const [e,g]of this.RE){var c=g.wa();c&&(d[e.toString()]=c)}c={};for(const [e,g]of this.zA)g.Kb||!g.Qf()&&!g.Ue||(c[e.toString()]=g.pd());return{groups:a,cnds:b,acts:d,vars:c,waits:xu(this)}}Aa(a){var b=a.groups;for(const [e,g]of Object.entries(b))(b=
(b=this.PL.get(parseInt(e,10)))&&b.xl?b:null)&&b.Wu(g);b=a.cnds;var d=new Map;for(const [e,g]of Object.entries(b))d.set(parseInt(e,10),g);for(const [e,g]of this.$L)g.Aa(d.get(e)||null);b=a.acts;d=new Map;for(const [e,g]of Object.entries(b))d.set(parseInt(e,10),g);for(const [e,g]of this.RE)g.Aa(d.get(e)||null);b=a.vars;for(const [e,g]of Object.entries(b))(b=this.zA.get(parseInt(e,10))||null)&&b.Me(g);a=a.waits;qp(this);for(const e of a){a:if(a=this.I(),d=this.PL.get(e.ev)||null){var c=0;if(e.hasOwnProperty("act")){b=
this.RE.get(e.act)||null;if(!b){a=null;break a}c=b.Ja()}b=Cu.A(Cu.MS,this);b.Oc=e.t;b.Fa=-1===b.Oc?"signal":"timer";b.WB=e.st;b.pw=e.s;b.pl=d;b.yf=c;for(const g of e.sm)(d=ap(a,g))&&b.qf.push(d);if(Array.isArray(e.dsm))for(const g of e.dsm)if(d=ap(a,g))b.Wf||(b.Wf=new Set),b.Wf.add(d);for(const [g,k]of Object.entries(e.sols))if(d=ap(a,parseInt(g,10)))c=Cu.A(Cu.aT,null),c.Aa(this,k),b.Jt.set(d,c);a=b}else a=null;a&&this.vi.push(a)}}ME(a,b){Array.isArray(b)||(b=[]);a=this.bw.get(a.toLowerCase().toLowerCase())||
null;if(!a)return null;if(!a.Bb())return Du(a);var d=a.th;if(b.length<d.length){b=b.slice(0);do b.push(d[b.length].ht);while(b.length<d.length)}d=a.Je();return d.qK(d.fe(),!1,a.Jl,Du(a),...b)}};"use strict";const Eu=self.B;function hp(a){Eu.D(a.tF);Fu(a,a);a.CT.clear()}
function Gu(a,b,d,c){switch(b[0]){case 0:case 3:b=Eu.dm.Ea(a,d,b);if(b.Te){c.push(b);c=b.Uc;for(let e=0,g=c.length;e<g;++e)c[e].Yr()&&Hu(a,b,e)}else b.Yr()?Hu(a,b,0):c.push(b);break;case 1:a=Eu.By.Ea(a,d,b);c.push(a);break;case 2:a=Eu.mR.Ea(a,d,b);c.push(a);break;case 4:c=Iu.A(Iu.Lr,a,d,b);Ju(c,b[1]);Yt(a.Ra,c);break;case 5:a=Eu.nR.Ea(a,d,b);c.push(a);break;case 6:c=Iu.A(Iu.Lr,a,d,b);Ku(c,b[1]);Yt(a.Ra,c);break;default:throw Error("invalid event type");}}
function Hu(a,b,d){b.Te||a.Ra.VO.push(b);var c=Au(b,d),e=c.Wa;const g=c.H();if(c.IU){var k=a.jU.get(g);k||(k=new Map,a.jU.set(g,k));a=c.Ha;if(!a.length)throw Error("no parameters");a=Mu(a[0].uM)().toLowerCase();c=k.get(e);c||(c=new Map,k.set(e,c));e=c.get(a);e||(e=[],c.set(a,e));e.push([b,d])}else k=a.YH.get(g),k||(k={gQ:new Map,JC:new Map},a.YH.set(g,k)),(c=c.pg())?(a=k.JC.get(c),a||(a=new Map,k.JC.set(c,a))):a=k.gQ,k=a.get(e),k||(k=[],a.set(e,k)),k.push([b,d])}
function Fu(a,b){const d=b.tF,c=b.CT;for(const e of a.VV)a=e.TA,e.Rb&&b!==a&&!c.has(a)&&(c.add(a),Fu(a,b),d.push(a))}function Nu(a,b,d,c,e){c=a.YH.get(c);if(!c)return!1;e=e?c.JC.get(e):c.gQ;if(!e)return!1;e=e.get(b);if(!e)return!1;b=!1;for(const [g,k]of e)e=Ou(a,d,g,k),b=b||e;return b}
function Ou(a,b,d,c){const e=a.g;a=a.Ra;const g=a.lc(),k=a.Zd(),l=a.Qe;let n=!1;g&&nu(g.fe());nu(d.fe());const p=1<l;p&&a.ve.gb();const r=k.gb(d);b&&(Ht(d.Uc[c].H().da(),b),b.Sc()&&Pu(b));b=!0;if(d.Ia()){const u=d.Rt;for(let x=0,y=u.length;x<y;++x)if(!Qu(u[x],r)){b=!1;break}}b&&(d.Te?(r.Vf=d,d.Uc[c].Da()&&(d.gl(r,0)&&Ru(d),r.ri=!0)):d.Da(r),n=r.ri);k.Za();p&&a.ve.Za();pu(d.fe());g&&pu(g.fe());g||1!==l||(Wt.D(a.Tn),0<a.dF||Xk(e));return n}
function*Su(a,b,d,c,e){c=a.YH.get(c);if(!c)return!1;e=e?c.JC.get(e):c.gQ;if(!e)return!1;e=e.get(b);if(!e)return!1;b=!1;for(const [g,k]of e)e=g.mg()?Ou(a,d,g,k):yield*Tu(a,d,g,k),b=b||e;return b}
function*Tu(a,b,d,c){const e=a.g;a=a.Ra;const g=a.lc(),k=a.Zd(),l=a.Qe;let n=!1;g&&nu(g.fe());nu(d.fe());const p=1<l;p&&a.ve.gb();const r=k.gb(d);b&&(Ht(d.Uc[c].H().da(),b),b.Sc()&&Pu(b));b=!0;if(d.Ia()){const u=d.Rt;for(let x=0,y=u.length;x<y;++x)if(!(yield*Uu(u[x],r))){b=!1;break}}b&&(d.Te?yield*Vu(d,r,c):yield*d.tb(r),n=r.ri);k.Za();p&&a.ve.Za();pu(d.fe());g&&pu(g.fe());g||1!==l||(Wt.D(a.Tn),0<a.dF||Xk(e));return n}
Eu.cZ=class extends Eu.xa{constructor(a,b){super();this.Ra=a;this.g=a.I();this.Ta=b[0];this.HF=[];this.YH=new Map;this.jU=new Map;this.fU=new Map;this.ew=!1;this.VV=[];this.tF=[];this.CT=new Set;for(const d of b[1])Gu(this,d,null,this.HF);this.Gl=this.g.Sb?{type:"sheet",name:this.Ta,jD:0,children:[]}:null}j(){this.g=this.Ra=null}oc(){const a=this.HF;for(let b=0,d=a.length;b<d;++b)a[b].oc(b<d-1&&a[b+1]instanceof Eu.dm&&a[b+1].bE())}Ga(){return this.Ra}I(){return this.g}oa(){return this.Ta}Da(){if(!this.ew){var a=
this.g,b=Wu(a),d=b?performance.now():0;this.ew=!0;var c=this.Ga(),e=c.tf();for(const g of this.HF)g.Da(e),mu(g.ae()),Wt.D(c.Tn),Xk(a);e.fd(null);b&&(this.Gl.jD+=performance.now()-d)}}*tb(){if(!this.ew){this.ew=!0;var a=this.g,b=this.Ga(),d=b.tf();for(const c of this.HF)yield*c.tb(d),mu(c.ae()),Wt.D(b.Tn),Xk(a);d.fd(null)}}Nz(a,b,d){if(b){const c=b.H();Nu(this,a,b,c,d);for(const e of c.Yi)Nu(this,a,b,e,d)}else return Nu(this,a,b,null,null)}*dv(a,b,d){if(b){const c=b.H();yield*Su(this,a,b,c,d);for(const e of c.Yi)yield*Su(this,
a,b,e,d)}else return yield*Su(this,a,b,null,null)}};"use strict";const Xu=self.B,Yu=[];function Zu(){return!0}function*$u(){return!0}function Au(a,b){b=Math.floor(b);if(0>b||b>=a.Uc.length)throw new RangeError("invalid condition index");return a.Uc[b]}function Bu(a,b){b=Math.floor(b);if(0>b||b>=a.Ic.length)throw new RangeError("invalid action index");return a.Ic[b]}
function Qu(a,b){b.Vf=a;const d=a.Uc;let c=0===d.length;for(let e=0,g=d.length;e<g;++e){const k=d[e];b.Oe=e;if(k.dB)throw Error("trigger cannot be used as sub-event to a loop");if(k.Da())c=!0;else if(!a.Te)return!1}return a.Te?c:!0}function*Uu(a,b){b.Vf=a;const d=a.Uc;let c=0===d.length;for(let e=0,g=d.length;e<g;++e){const k=d[e];b.Oe=e;if(k.dB)throw Error("trigger cannot be used as sub-event to a loop");if(k.mg()?k.Da():yield*k.tb())c=!0;else if(!a.Te)return!1}return a.Te?c:!0}
function*Vu(a,b,d){b.Vf=a;d=a.Uc[d];if(d.mg()?d.Da():yield*d.tb())(av(a)?a.gl(b,0):yield*a.rs(b,0))&&(bv(a)?Ru(a):yield*cv(a)),b.ri=!0}function dv(a,b){if(a)if(b.includes(a)||b.push(a),a.Qa)for(const d of a.ho){if(d.Sc()){a=b;for(const c of d.ei.Rm)a.includes(c)||a.push(c)}}else if(a.Sc())for(const d of a.ei.Rm)b.includes(d)||b.push(d)}function ev(a){const b=a.Vc;b.LW=a.Uc.every(d=>d.mg());b.xP=a.Ic.every(d=>d.mg());b.yP=a.Dk.every(d=>d.mg());b.MW=b.LW&&b.xP&&b.yP}
function fv(a){return a.If&&a.If instanceof Xu.Lr||a.Uc.some(b=>b.Yr())}function gv(a){a.EG=!0;a.Lc&&gv(a.Lc)}function hv(a){return a.Vc&&a.Vc.lX&&a.Vc.UC}function iv(a,b){b=Math.floor(b);return 0<=b&&b<a.Ic.length}
function Ru(a){if(a.Dk.length){var b=a.xl&&Wu(a.g),d=b?performance.now():0,c=a.ke,e=c.gb(a);if(a.EG){var g=a.xl;const k=a.GG,l=a.Dk;for(let n=0,p=l.length,r=p-1;n<p;++n){const u=l[n],x=u.ae(),y=!k||!g&&n<r;y&&ou(x);u.Da(e);y?pu(x):mu(x)}}else{g=a.Dk;for(let k=0,l=g.length;k<l;++k)g[k].Da(e)}c.Za();b&&(a.Gl.jD+=performance.now()-d)}}function av(a){return!jv(a.g)&&a.Vc.xP}function bv(a){return!jv(a.g)&&a.Vc.yP}
function*cv(a){if(a.Dk.length){var b=a.ke,d=b.gb(a);a.EG?yield*kv(a,d):yield*lv(a,d);b.Za()}}function mv(a,b){const d=a.Uc;for(let c=0,e=d.length;c<e;++c){const g=d[c];b.Oe=c;if(!g.Da()){b.ri=!1;return}}b.ri=!0;a.gl(b,0)&&Ru(a);b.ri&&a.LA&&(b.cq=!0)}function*nv(a,b){const d=a.Uc;let c=0===d.length;for(let g=0,k=d.length;g<k;++g){var e=d[g];e.Yr()||(b.Oe=g,e=e.mg()?e.Da():yield*e.tb(),c=c||e)}b.ri=!!c;c&&((av(a)?a.gl(b,0):yield*a.rs(b,0))&&(bv(a)?Ru(a):yield*cv(a)),a.LA&&(b.cq=!0))}
function*ov(a,b){const d=a.Uc;for(let c=0,e=d.length;c<e;++c){const g=d[c];b.Oe=c;if(g.mg()?!g.Da():!(yield*g.tb())){b.ri=!1;return}}b.ri=!0;(av(a)?a.gl(b,0):yield*a.rs(b,0))&&(bv(a)?Ru(a):yield*cv(a));b.ri&&a.LA&&(b.cq=!0)}function*pv(a,b){if(yield*a.rs(b,b.yf))yield*cv(a)}function*kv(a,b){const d=a.xl,c=a.GG;a=a.Dk;for(let e=0,g=a.length,k=g-1;e<g;++e){const l=a[e],n=l.ae(),p=!c||!d&&e<k;p&&ou(n);yield*l.tb(b);p?pu(n):mu(n)}}
function*lv(a,b){a=a.Dk;for(let d=0,c=a.length;d<c;++d)yield*a[d].tb(b)}function qv(a,b,d){d.Oe=0;d.yf=0;const c=a.Uc;if(!a.Te)for(let e=b.Oe+1,g=c.length;e<g;++e)if(b=c[e],d.Oe=e,!b.Da())return!1;a.gl(d,0)&&Ru(a);return!0}function*rv(a,b,d){d.Oe=0;d.yf=0;const c=a.Uc;if(!a.Te)for(let e=b.Oe+1,g=c.length;e<g;++e)if(b=c[e],d.Oe=e,b.mg()?!b.Da():!(yield*b.tb()))return!1;(av(a)?a.gl(d,0):yield*a.rs(d,0))&&(bv(a)?Ru(a):yield*cv(a));return!0}
function sv(a,b){if(a.Ia()){a=a.Rt;for(let d=0,c=a.length;d<c;++d)if(!Qu(a[d],b))return!1}return!0}function*tv(a,b){if(a.Ia()){a=a.Rt;for(let d=0,c=a.length;d<c;++d)if(!(yield*Uu(a[d],b)))return!1}return!0}function uv(a,b,d,c){0<d.length?c?(d=d.map(e=>e.ea(0)),b.ve.gb(),vv(a.If,d)):wv(a.If,d):c&&b.ve.gb()}
function*xv(a,b,d,c,e){let g,k;if(hv(a)||jv(a.g))yield a;const l=0<b.length;let n=null;const p=a.ke,r=a.g.Ga(),u=1<++r.Qe;uv(a,r,d,u);l&&(c?ou(b):nu(b));null!==e&&(e.Vx?(d=e.tI.da(),It(d,(c?e.Vx.da():Bt(e.Vx.Ll)).qa()),Dt.D(d.$a),c||yv(e.tI)):e.hu&&(d=e.hu.da(),It(d,e.eD),Dt.D(d.$a)),e.xQ&&(n=ru(r,b)));e=p.gb(a);c&&(e.Wf=b);if(yield*tv(a,e))e.Vf=a,(c=a.If.Oi())&&([k,g]=zv(a.If)),yield*ov(a,e),c&&Av(a.If,k);p.Za();u&&r.ve.Za();null!==n&&pu(n);l&&pu(b);--r.Qe;return g}
function*Bv(a,b,d){if(hv(a)||jv(a.g))yield a;const c=a.fe(),e=0<c.length,g=a.ke,k=a.g.Ga(),l=1<++k.Qe;l&&k.ve.gb();vv(a.If,b);e&&(d?ou(c):nu(c));b=g.gb(a);if(yield*tv(a,b))b.Vf=a,yield*ov(a,b);g.Za();l&&k.ve.Za();e&&pu(c);--k.Qe}
Xu.dm=class extends Xu.xa{constructor(a,b,d){super();this.Ad=a;this.g=a.I();this.Lc=b;this.If=null;this.ke=this.g.Ga().Zd();this.qf=[];this.mx=[];this.LA=this.GG=this.EG=this.vU=!1;this.Te=!!d[2];this.wG=!1;this.Rt=null;this.Uc=[];this.Ic=[];this.Dk=[];this.gl=Zu;this.rs=$u;this.qN=this.xl=!1;this.rU="";this.yG=!1;this.Gl=this.nF=null;this.fb=d[4];this.Pv=d[5];this.Ad.fU.set(this.Pv,this);this.Vc=this.g.Sb?{UC:d[3][0],lX:d[3][1],LW:!1,xP:!1,yP:!1,MW:!1}:null;this.Ga().PL.set(this.fb,this);3===d[0]&&
(a=d[1],this.xl=!0,this.yG=this.qN=!!a[0],this.rU=a[1].toLowerCase(),this.nF=[],b=this.Ga(),b.EL.push(this),b.LM.set(this.rU,this),this.g.Sb&&(this.Gl={type:"group",name:a[1],jD:0,children:[]}));a=0;for(var c of d[6])b=Xu.tJ.Ea(this,c,a++),this.Uc.push(b),b=b.H(),dv(b,this.qf);a=0;for(const e of d[7])c=Xu.mD.Ea(this,e,a++),this.Ic.push(c);if(9===d.length){d=d[8];for(const e of d)Gu(this.Ad,e,this,this.Dk)}this.Uc.length&&(this.wG=null===this.Uc[0].H()&&this.Uc[0].Wa===Xu.C.hb.G.jR);0===this.Uc.length&&
(this.Uc=Yu);0===this.Ic.length&&(this.Ic=Yu);0===this.Dk.length&&(this.Dk=Yu)}static Ea(a,b,d){return Xu.A(Xu.dm,a,b,d)}oc(a){this.LA=!!a;if(this.xl)for(a=this.Ia(),this.GG=!0;a;){if(!a.xl){this.GG=!1;break}a=a.Ia()}if(fv(this)){this.Rt=[];for(a=this.Ia();a;)this.Rt.push(a),a=a.Ia();this.Rt.reverse()}for(var b of this.Uc)b.oc();if(0<this.Ic.length){b=!1;for(var d of this.Ic)d.oc(),(d.Oi()||2===d.nv)&&(b=!0);b?(this.gl=this.y3,this.rs=this.P2):(this.gl=this.x3,this.rs=this.O2)}d=this.Dk;for(let c=
0,e=d.length;c<e;++c)d[c].oc(c<e-1&&d[c+1]instanceof Xu.dm&&d[c+1].bE());this.Vc&&ev(this);if(this.Gl){a:{for(d=this.Ia();d;){if(d.xl)break a;d=d.Ia()}d=this.Ad}d.Gl.children.push(this.Gl)}}ae(){return this.qf}fe(){if(!this.vU){this.vU=!0;var a=this.g.Id;if(this.qf===a)this.mx=a;else{this.mx=Xu.AP(this.qf);for(a=this.Ia();a;){for(var b of a.qf)dv(b,this.mx);a=a.Ia()}b=this.Ga();this.qf=Zt(b,this.qf);this.mx=Zt(b,this.mx)}}return this.mx}Ga(){return this.Ad.Ga()}I(){return this.g}Ia(){return this.Lc}Or(){return this.If||
this.Lc}bE(){return this.wG}Mu(){return this.yG}Wu(a){a=!!a;if(!this.xl)throw Error("not a group");if(this.yG!==a){this.yG=a;for(const b of this.nF)Cv(b);this.nF.length&&(a=U(this.g).Ad)&&hp(a)}}Yr(){return this.Uc.length&&this.Uc[0].Yr()}pT(){return this.Dk.filter(a=>a instanceof Xu.By)}Da(a){a.Vf=this;this.wG||(a.cq=!1);if(this.Te){const d=this.Uc;let c=0===d.length;for(let e=0,g=d.length;e<g;++e){var b=d[e];b.Yr()||(a.Oe=e,b=b.Da(),c=c||b)}a.ri=!!c;c&&(this.gl(a,0)&&Ru(this),this.LA&&(a.cq=!0))}else mv(this,
a)}*tb(a){if(hv(this)||jv(this.g))yield this;a.Vf=this;this.wG||(a.cq=!1);this.Te?yield*nv(this,a):yield*ov(this,a)}x3(a,b){const d=this.Ic;for(let c=b,e=d.length;c<e;++c)b=d[c],a.yf=c,b.Da();return!0}*O2(a,b){const d=this.Ic;for(let c=b,e=d.length;c<e;++c)b=d[c],a.yf=c,b.mg()?b.Da():yield*b.tb();return!0}y3(a,b){const d=this.Ga(),c=this.Ic;for(let e=b,g=c.length;e<g;++e){b=c[e];a.yf=e;const k=b.Da();if(2===b.nv&&!0===k)return!1;b.Oi()&&k instanceof Promise&&d.Tn.push(k)}return!0}*P2(a,b){const d=
this.Ga(),c=this.Ic;for(let e=b,g=c.length;e<g;++e){b=c[e];a.yf=e;let k;k=b.mg()?b.Da():yield*b.tb();if(2===b.nv&&!0===k)return!1;b.Oi()&&k instanceof Promise&&d.Tn.push(k)}return!0}mg(){return!hv(this)&&!jv(this.g)&&this.Vc.MW}sE(a,b,d,c){let e,g;const k=0<a.length;let l=null;const n=this.ke,p=this.g.Ga(),r=1<++p.Qe;uv(this,p,b,r);k&&(d?ou(a):nu(a));null!==c&&(c.Vx?(b=c.tI.da(),It(b,(d?c.Vx.da():Bt(c.Vx.Ll)).qa()),Dt.D(b.$a),d||yv(c.tI)):c.hu&&(b=c.hu.da(),It(b,c.eD),Dt.D(b.$a)),c.xQ&&(l=ru(p,a)));
c=n.gb(this);d&&(c.Wf=a);sv(this,c)&&(c.Vf=this,(d=this.If.Oi())&&([g,e]=zv(this.If)),mv(this,c),d&&Av(this.If,g));n.Za();r&&p.ve.Za();null!==l&&pu(l);k&&pu(a);--p.Qe;return e}qK(a,b,d,c,...e){let g,k;const l=0<a.length,n=this.g,p=this.ke,r=n.Ga(),u=1<++r.Qe;u&&r.ve.gb();0<e.length&&vv(this.If,e);l&&(b?ou(a):nu(a));b=p.gb(this);b.pU=d;b.HM=c;p.IF.push(b);Dv(n,!1);sv(this,b)&&(b.Vf=this,(d=this.If.Oi())&&([k,g]=zv(this.If)),mv(this,b),d&&Av(this.If,k));Dv(n,!0);p.Za();p.IF.pop();u&&r.ve.Za();l&&pu(a);
--r.Qe;return g||b.HM}};"use strict";const Ev=self.B,Fv=[];let Gv=!1;async function Hv(a){try{await a.Wa()}catch(b){console.error(`Unhandled exception running script %c${a.Ad.oa()}, event ${a.Pv}:`,"font-size: 1.2em; font-weight: bold;",b),self.Aj&&self.Aj.C3(a),Gv||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),Gv=!0)}}
Ev.nR=class extends Ev.xa{constructor(a,b,d){super();const c=a.I(),e=a.Ga();this.Ad=a;this.Ra=e;this.g=a.I();this.Lc=b;this.Wa=Iv(c,d[1]);this.Pv=d[2];this.Ad.fU.set(this.Pv,this);this.Vc=c.Sb?{UC:d[3][0],lX:d[3][1]}:null}static Ea(a,b,d){return Ev.A(Ev.nR,a,b,d)}oc(){const a=this.Wa,b=au(this);this.Wa=a.bind(null,this.g.ul,b)}Ia(){return this.Lc}Or(){return this.Lc}bE(){return!1}ae(){return Fv}fe(){return this.Lc?this.Lc.fe():Fv}Da(a){a.Vf=this;a=Hv(this);this.Ra.Tn.push(a)}*tb(a){a.Vf=this;if(hv(this)||
jv(this.g))yield this;this.Da(a)}mg(){return!hv(this)&&!jv(this.g)}};"use strict";const Iu=self.B;function Du(a){switch(a.Jl){case 0:return null;case 2:return"";default:return 0}}function vv(a,b){a=a.th;for(let d=0,c=a.length;d<c;++d)a[d].Me(b[d])}function wv(a,b){a=a.th;for(let d=0,c=a.length;d<c;++d)a[d].Me(b[d].ea(0))}function zv(a){const b=a.V4++;a.jA=b;let d;const c=new Promise(e=>d=e);a.Uz.set(b,{resolve:d,sQ:0});return[b,c]}
function Av(a,b){const d=a.Uz.get(b);0===d.sQ&&(d.resolve(),a.Uz.delete(b));a.jA=-1}function Ju(a,b){a.IM=0;a.Xs=b[0];a.Jl=b[1];a.th=b[2].map(d=>Iu.By.Ea(a.Ad,a,d));a.me=b[3];a.jN=b[4];a.uh=b[5]}function Ku(a,b){a.IM=1;a.Ip=b[1];a.R=ln(a.g,b[2]);dv(a.R,a.qd.qf);a.Xs=a.R.oa()+"."+a.Ip;a.Jl=b[3];a.th=b[4].map(d=>Iu.By.Ea(a.Ad,a,d));a.me=b[5];a.jN=b[6];a.uh=b[7];a.R.WT.set(a.Ip.toLowerCase(),a)}function Jv(a){return a.th.map(b=>b.pd())}function Kv(a,b){a.jA=b;a.Uz.get(b).sQ--}
function*Lv(a,b,d){var c=new Map,e=[];for(const g of a.R.da().qa()){const k=g.H();if(zu(k,a.Ip)){const l=c.get(k);Array.isArray(l)?l.push(g):c.set(k,[g])}else e.push(g)}0<e.length&&(yield*xv(a.qd,b,d,a.uh,{hu:a.R,eD:e}));if(0<c.size)for(const [g,k]of c)c=zu(g,a.Ip).Je(),e=[...(new Set([...b,...c.ae()]))],yield*xv(c,e,d,a.uh,{hu:g,eD:k})}
Iu.Lr=class extends Iu.xa{constructor(a,b,d){super();this.Ad=a;this.g=a.I();this.Lc=b;this.IM=0;this.Xs="";this.Jl=0;this.th=[];this.me=!0;this.Ip="";this.R=null;this.PM=!1;this.aN=[];this.jN=this.uh=!1;this.V4=0;this.jA=-1;this.Uz=new Map;this.qd=Iu.dm.Ea(a,b,d);this.qd.If=this}oc(){for(const a of this.th)a.oc();this.qd.oc(!1)}pT(){return this.th}Ia(){return this.Lc}Or(){return this.Lc}H(){return this.R}Bb(){return this.me}Je(){return this.qd}Oi(){return this.jN}l1(a,b){var d=new Map,c=[];for(const e of this.R.da().qa()){const g=
e.H();if(zu(g,this.Ip)){const k=d.get(g);Array.isArray(k)?k.push(e):d.set(g,[e])}else c.push(e)}0<c.length&&this.qd.sE(a,b,this.uh,{hu:this.R,eD:c});if(0<d.size)for(const [e,g]of d)d=zu(e,this.Ip).Je(),c=[...(new Set([...a,...d.ae()]))],d.sE(c,b,this.uh,{hu:e,eD:g})}};"use strict";const Mv=self.B,Nv=[];function bu(a){return{configurable:!1,enumerable:!0,get:a.f5,set:a.i5}}
Mv.By=class extends Mv.xa{constructor(a,b,d){super();const c=a.Ga();this.Ad=a;this.Ra=c;this.g=a.I();this.Lc=b;this.ve=c.ve;this.Ta=d[1];this.Fa=d[2];this.ht=d[3];this.Ue=!!d[4];this.Kb=!!d[5];this.H4=b instanceof Mv.Lr;this.fb=d[6];this.kB=this.g.Tk(d[8]);this.i5=e=>this.Me(e);this.f5=()=>this.pd();this.xU=!this.Lc||this.Ue||this.Kb;this.Dd=this.ht;this.MN=-1;2===this.Fa&&(this.Dd=this.Dd?1:0);this.Qf()||this.Ue||this.Kb||(c.fV.push(this.ht),this.MN=c.Y4++);c.zA.set(this.fb,this);this.Qf()?c.DL.push(this):
c.J3.push(this)}static Ea(a,b,d){return Mv.A(Mv.By,a,b,d)}oc(){if(!(this.Qf()||this.Ue||this.Kb||this.H4)){const a=yu(this);a&&a.aN.push(this)}}oa(){return this.Ta}Tk(){return this.kB}Ia(){return this.Lc}Or(){return this.Ia()}Qf(){return!this.Ia()}up(){return 0===this.Fa}Pi(){return 1===this.Fa}bE(){return!1}ae(){return Nv}Da(){this.Qf()||this.Ue||this.Kb||this.Me(this.ht)}mg(){return!0}*tb(a){this.Da(a)}Me(a){this.up()?"number"!==typeof a&&(a=parseFloat(a)):this.Pi()?"string"!==typeof a&&(a=a.toString()):
2===this.Fa&&(a=a?1:0);this.xU?this.Dd=a:this.ve.Cu()[this.MN]=a}pd(){return this.xU?this.Dd:this.ve.Cu()[this.MN]}};"use strict";const Ov=self.B,Pv=[];function Cv(a){let b=a.Ia();for(;b;){if(b instanceof Ov.dm&&b.xl&&!b.Mu()){a.Rb=!1;return}b=b.Ia()}a.Rb=!0}
Ov.mR=class extends Ov.xa{constructor(a,b,d){super();const c=a.Ga();this.Ad=a;this.Ra=c;this.g=a.I();this.Lc=b;this.TA=null;this.C4=d[1];this.Rb=!0}static Ea(a,b,d){return Ov.A(Ov.mR,a,b,d)}oc(){this.TA=this.Ra.FH.get(this.C4.toLowerCase())||null;this.Ad.VV.push(this);let a=this.Ia();for(;a;)a instanceof Ov.dm&&a.xl&&a.nF.push(this),a=a.Ia();Cv(this);this.g.Sb&&this.Ad.Gl.children.push(this.TA.Gl)}Ia(){return this.Lc}ae(){return Pv}Da(){const a=!!this.Ia(),b=this.g.Id;a&&nu(b);this.TA.Da();a&&pu(b)}*tb(){const a=
!!this.Ia(),b=this.g.Id;a&&nu(b);yield*this.TA.tb();a&&pu(b)}mg(){return!1}};"use strict";const Qv=self.B;Qv.Au=class extends Qv.xa{constructor(a){super();this.Cb=a;this.g=a.I()}oc(){}};class Rv extends Qv.Au{constructor(a,b){super(a);this.Ae=this.g.Ty();this.Wa=Iv(this.g,b[1]);if(this.Wa===Qv.C.hb.ob.random||this.Wa===Qv.C.hb.ob.OW)this.Cb.Mf=!0}qg(){return Sv(this.Ae,this.Wa,this.Ae)}}
class Tv extends Qv.Au{constructor(a,b){super(a);this.aw=null;this.Xs=b[1];this.Cb.Mf=!0}oc(){const a=this.g.Ga();this.aw=a.bw.get(this.Xs.toLowerCase())||null;this.Xs=null;const b=this.aw.Je();this.aM=[...(new Set([...this.Cb.Je().fe(),...b.fe()]))];this.aM=Zt(a,this.aM)}qg(){const a=this.aw;if(a.Bb())return Qv.dm.prototype.qK.bind(a.Je(),this.aM,a.uh,a.Jl,Du(a));const b=Du(a);return()=>b}}function Uv(a,b){if(a>=b)return a%b;0>a&&(a<=-b&&(a%=b),0>a&&(a+=b));return a}
function Vv(a){const b=a.R,d=Gt(b.da());var c=d.length;if(0===c)return a.OB?"":0;c=Uv(a.Cb.lx,c);Nt(a.ke).JF=b;return a.Wa.apply(d[c].ja,[])}class Wv extends Qv.Au{constructor(a,b){super(a);this.R=ln(this.g,b[1]);this.Wa=Iv(this.g,b[2]);this.OB=!!b[3];this.ke=this.g.Ga().Zd();Xv(this.Cb,this.R)}qg(){return Sv(this.R.pb(),this.Wa,this.R.Gj().ja)}}class Yv extends Qv.Au{constructor(a,b){super(a);this.R=ln(this.g,b[1]);this.v5=b[3];this.OB=!!b[2];Xv(this.Cb,this.R)}}
function Zv(a,...b){const d=a.R;var c=Gt(d.da()),e=c.length;if(0===e)return a.OB?"":0;e=Uv(a.Cb.lx,e);Nt(a.ke).JF=d;c=c[e];e=0;d.Qa&&(e=$v(c.H(),d.Zi));return a.Wa.apply(c.wd[a.Yj+e].ja,b)}class aw extends Qv.Au{constructor(a,b){super(a);this.R=ln(this.g,b[1]);this.Jd=this.R.uv.get(b[2].toLowerCase())||null;this.Yj=Iq(this.R,b[2]);this.Wa=Iv(this.g,b[3]);this.OB=!!b[4];this.ke=this.g.Ga().Zd();Xv(this.Cb,this.R)}}
class bw extends Qv.Au{constructor(a,b){super(a);this.Uv=null;this.tM=b[1]}oc(){this.Uv=this.g.Ga().zA.get(this.tM)||null}}"use strict";const cw=self.B;function Xv(a,b){a.Mf||!b||b.pb().qq||(a.Mf=!0)}cw.ug=class extends cw.xa{constructor(a,b,d){super();this.Cb=a;this.ta=d;this.Fa=b;this.ea=null;this.Kb=this.Mf=!1}static Ea(a,b,d){const c=b[0];return cw.A([dw,ew,fw,gw,hw,iw,jw,dw,gw,gw,kw,lw,fw,mw,ew,ow,pw,qw,rw,sw,tw][c],a,c,d,b)}oc(){}Ja(){return this.ta}I(){return this.Cb.I()}Je(){return this.Cb.Je()}};
function Mu(a){a=self.BY[a];if(!a)throw Error("invalid expression number");return a}function uw(a,b){if(0>b||b>=a.Qw.length)throw new RangeError("invalid numbered node");return a.Qw[b]}
class dw extends cw.ug{constructor(a,b,d,c){super(a,b,d);this.lx=0;a=c[1];this.uM=a[0];this.Qw=[];this.AA=null;for(let e=1,g=a.length;e<g;++e)b=this.Qw,d=b.push,c=a[e],c=Qv.A([aw,Wv,Yv,bw,Rv,Tv][c[0]],this,c),d.call(b,c);this.Qw.length?this.ea=this.sZ:(this.ea=Mu(this.uM),this.Kb=!0)}oc(){for(var a of this.Qw)a.oc();a=Mu(this.uM);this.AA=this.Qw.length?a(this):a}sZ(a){this.lx=a;return this.AA()}}
class ew extends dw{constructor(a,b,d,c){super(a,b,d,c);this.ea=this.zZ;14===b&&(a=this.Je(),a.qf=a.g.Id,this.Cb instanceof cw.mD&&gv(this.Je()))}zZ(a){this.lx=a;a=this.AA();return"string"===typeof a?a:""}}class iw extends dw{constructor(a,b,d,c){super(a,b,d,c);this.ea=this.V;this.Kb=!1}V(a){this.lx=a;a=this.AA();return U(this.I()).V(a)}}class gw extends cw.ug{constructor(a,b,d,c){super(a,b,d);this.d4=c[1];this.ea=this.pZ;this.Kb=!0}pZ(){return this.d4}}
class pw extends cw.ug{constructor(a,b,d,c){super(a,b,d);this.R3=c[1];this.ea=this.oZ;this.Kb=!0}oZ(){return this.R3}}class hw extends cw.ug{constructor(a,b,d,c){super(a,b,d);this.R=ln(this.I(),c[1]);this.ea=this.H;a=this.Je();dv(this.R,a.qf);this.Cb instanceof cw.mD?gv(a):a.Ia()&&gv(a.Ia());this.Kb=!0}H(){return this.R}}class jw extends cw.ug{constructor(a,b,d,c){super(a,b,d);this.dj=up(this.I().nb,c[1]);this.ea=this.Xb;this.Kb=!0}Xb(){return this.dj}}
class ow extends cw.ug{constructor(a,b,d,c){super(a,b,d);this.Pg=this.I().Tb.Wq.get(c[1].toLowerCase())||null;this.ea=this.jb;this.Kb=!0}jb(){return this.Pg}}class fw extends cw.ug{constructor(a,b,d,c){super(a,b,d);this.u4=c[1];this.ea=this.uZ;this.Kb=!0}uZ(){return this.u4}}
class kw extends cw.ug{constructor(a,b,d,c){super(a,b,d);this.EU=c[1];a=this.Cb.H();this.Cb instanceof cw.tJ&&this.Cb.Ue?(this.ea=this.zR,this.Kb=!0):a&&a.Qa?(this.ea=this.tZ,this.Mf=!0):(this.ea=this.zR,this.Kb=!0)}zR(){return this.EU}tZ(a){a=a||0;const b=this.Cb.H();var d=b.da();const c=d.qa();if(c.length)a=c[a%c.length].H();else if(d.$a.length)d=d.$a,a=d[a%d.length].H();else if(0<b.J.length)d=b.qa(),a=d[a%d.length].H();else return 0;return this.EU+a.Wv[b.Zi]}}
class lw extends cw.ug{constructor(a,b,d,c){super(a,b,d);this.tM=c[1];this.Uv=null;this.ea=this.rZ;this.Kb=!0}oc(){this.Uv=this.I().Ga().zA.get(this.tM)||null}rZ(){return this.Uv}}class qw extends cw.ug{constructor(a,b,d,c){super(a,b,d);this.nU=c[1];this.aw=null;this.ea=this.xZ;this.Kb=!0}oc(){this.aw=this.I().Ga().bw.get(this.nU.toLowerCase())||null;this.nU=null}xZ(){return this.aw}}
class mw extends cw.ug{constructor(a,b,d,c){super(a,b,d);this.NO=[];this.xW=[];this.Kb=!0;for(let e=1,g=c.length;e<g;++e)a=cw.ug.Ea(this.Cb,c[e],0),this.NO.push(a),this.xW.push(0),a.Kb||(this.Kb=!1);this.ea=this.BZ}oc(){for(const a of this.NO)a.oc()}BZ(){const a=this.NO,b=this.xW;for(let d=0,c=a.length;d<c;++d)b[d]=a[d].ea(0);return b}}class rw extends cw.ug{constructor(a,b,d,c){super(a,b,d);this.o4=c[1];this.ea=this.op;this.Kb=!0}op(){return this.o4}}
class sw extends cw.ug{constructor(a,b,d,c){super(a,b,d);this.W3=c[1];this.ea=this.AZ;this.Kb=!0}AZ(){return this.W3}}class tw extends dw{constructor(a,b,d,c){super(a,b,d,c);this.ea=this.Iu;this.Kb=!1}Iu(){return this.AA()}}"use strict";const vw=self.B;function ww(a,b){for(let d=0,c=a.length;d<c;++d)b[d]=a[d].ea(0)}const xw=[];function yw(){}function zw(a){return a.Vc.UC}function Aw(a,b){const d=a.Ha;a=a.Lb;for(let c=0,e=d.length;c<e;++c){const g=d[c];g.Mf&&(a[c]=g.ea(b))}}
vw.tJ=class extends vw.xa{constructor(a,b,d){super();this.qd=a;this.g=a.I();this.ta=d;this.Wa=Iv(this.g,b[1]);this.xN=0<b[3];this.IU=2===b[3];this.dB=!!b[4];this.gk=!!b[5];this.Ue=!!b[6];this.fb=b[7];this.KU=this.qd.Te;this.Jd=this.R=null;this.Yj=-1;this.Ae=null;this.tb=this.Da=yw;this.Ha=[];this.Lb=[];this.Rn=!1;this.Ek=this.jc=null;this.Vc=this.g.Sb?{UC:b[8][0],Sg:b[8][1]}:null;-1===b[0]?this.Ae=this.g.Ty():(this.R=ln(this.g,b[0]),b[2]&&(this.Jd=this.R.uv.get(b[2].toLowerCase())||null,this.Yj=Iq(this.R,
b[2])),this.qd.Ia()&&gv(this.qd.Ia()));if(10===b.length){a=b[9];for(let c of a)this.Ha.push(vw.ug.Ea(this,c,this.Ha.length)),this.Lb.push(0)}0===this.Ha.length&&(this.Lb=this.Ha=xw);this.qd.Ga().$L.set(this.fb,this)}static Ea(a,b,d){return vw.A(vw.tJ,a,b,d)}oc(){for(const a of this.Ha)a.oc(),a.Mf&&(this.Rn=!0);this.IU?(this.Da=this.z3,this.tb=this.S2):this.Ae?(this.Kz(this.Ae,this.Ae,this.pL),this.tb=this.$K):this.R.pb().qq?(this.rL(),this.tb=this.ZK):this.Ue?(this.Da=this.A3,this.tb=this.Z2):(this.Da=
this.sT,this.tb=this.T2)}rL(){const a=this.R.pb(),b=this.R.Gj().ja;this.Kz(a,b,this.oL)}Kz(a,b,d){const c=this.Wa,e=this.gk,g=this.Ha;if(0===g.length){const k=Sv(a,c,b);this.Da=e?function(){return vw.xor(k(),e)}:k}else if(1===g.length){const k=g[0];if(!e&&k.Kb)this.Da=Bw(a,c,b,k.ea(0));else{const l=Sv(a,c,b);this.Da=function(){return vw.xor(l(k.ea(0)),e)}}}else if(2===g.length){const k=g[0],l=g[1];if(!e&&k.Kb&&l.Kb)this.Da=Cw(a,c,b,k.ea(0),l.ea(0));else{const n=Sv(a,c,b);this.Da=function(){return vw.xor(n(k.ea(0),
l.ea(0)),e)}}}else if(3===g.length){const k=g[0],l=g[1],n=g[2];if(!e&&k.Kb&&l.Kb&&n.Kb)this.Da=Dw(a,c,b,k.ea(0),l.ea(0),n.ea(0));else{const p=Sv(a,c,b);this.Da=function(){return vw.xor(p(k.ea(0),l.ea(0),n.ea(0)),e)}}}else this.Da=d}H(){return this.R}pg(){return this.Jd}Je(){return this.qd}I(){return this.g}Ja(){return this.ta}wR(){return this.Ja()}Yr(){return this.xN}mg(){return!zw(this)&&!jv(this.g)&&!this.Vc.Sg}Fj(){this.jc||(this.jc=new Map);return this.jc}Wy(){this.Ek||(this.Ek=new Map);return this.Ek}pL(){const a=
this.Lb;ww(this.Ha,a);return vw.xor(this.Wa.apply(this.Ae,a),this.gk)}*$K(){if(zw(this)||jv(this.g))yield this;if(this.Vc.Sg){var a=this.Lb;ww(this.Ha,a);a=this.Wa.apply(this.Ae,a);vw.sp(a)&&(a=yield*a);return vw.xor(a,this.gk)}return this.Da()}oL(){const a=this.Lb;ww(this.Ha,a);const b=this.R.Gj().ja;return vw.xor(this.Wa.apply(b,a),this.gk)}*ZK(){if(zw(this)||jv(this.g))yield this;if(this.Vc.Sg){var a=this.Lb;ww(this.Ha,a);const b=this.R.Gj().ja;a=this.Wa.apply(b,a);vw.sp(a)&&(a=yield*a);return vw.xor(a,
this.gk)}return this.Da()}z3(){return!0}*S2(){if(zw(this)||jv(this.g))yield this;return!0}A3(){var a=this.Lb;ww(this.Ha,a);a=this.Wa.apply(this.Jd||this.R,a);yv(this.R);return a}*Z2(){if(zw(this)||jv(this.g))yield this;if(this.Vc.Sg){var a=this.Lb;ww(this.Ha,a);a=this.Wa.apply(this.Jd||this.R,a);vw.sp(a)&&(a=yield*a);yv(this.R);return a}return this.Da()}sT(){var a=this.Ha,b=this.Lb,d=this.R.da();for(let da=0,Fa=a.length;da<Fa;++da){var c=a[da];c.Mf||(b[da]=c.ea(0))}if(d.lb){a=this.R;b=a.Qa;c=a.Zi;
var e=this.Yj,g=0<=e,k=a.qa(),l=this.Rn,n=this.Lb,p=this.Wa,r=this.gk,u=this.KU&&!this.xN;Et(d);for(let da=0,Fa=k.length;da<Fa;++da){var x=k[da];l&&Aw(this,da);var y=void 0;g?(y=b?$v(x.H(),c):0,y=p.apply(x.wd[e+y].ja,n)):y=p.apply(x.ja,n);vw.xor(y,r)?d.J.push(x):u&&d.$a.push(x)}a.Bu(!0);d.lb=!1;yv(a);d=Ft(d)}else{a=this.R;p=a.Qa;r=a.Zi;u=a.Sc();x=this.Yj;y=0<=x;var A=this.Rn;const da=this.Lb,Fa=this.Wa,bd=this.gk;b=this.KU&&!this.xN;c=d.J;const wc=d.$a;var D;if(D=b){a:{D=this.qd;var F=this.Ja();if(0!==
F){--F;for(var J=this.H();0<=F;--F){var H=D.Uc[F],L;if(!(L=H.H()===J)&&(L=H.Ae)){b:{for(Y of H.Ha)if(4===Y.Fa){H=Y.H();break b}H=null}L=H===J}if(L){var Y=!1;break a}}}Y=!0}D=!Y}J=(Y=D)?wc:c;F=0;D=!1;for(let tb=0,xc=J.length;tb<xc;++tb)if(H=J[tb],A&&Aw(this,tb),y?(L=p?$v(H.H(),r):0,L=Fa.apply(H.wd[x+L].ja,da)):L=Fa.apply(H.ja,da),vw.xor(L,bd))if(D=!0,Y){if(c.push(H),u)for(g of H.Cd)g.H().da().J.push(g)}else{J[F]=H;if(u){L=F;for(k of H.Cd)k.H().da().J[L]=k}++F}else if(Y){J[F]=H;if(u){L=F;for(l of H.Cd)l.H().da().$a[L]=
l}++F}else if(b&&(wc.push(H),u))for(n of H.Cd)n.H().da().$a.push(n);vw.lg(J,F);if(u){g=F;for(e of a.ei.Rm)k=e.da(),Y?Ew.lg(k.$a,g):Ew.lg(k.J,g)}e=D;if(Y&&!D)a:{k=this.R;g=k.Qa;k=k.Zi;l=this.Rn;n=this.Yj;p=0<=n;r=this.Lb;u=this.Wa;x=this.gk;for(let tb=0,xc=c.length;tb<xc;++tb)if(y=c[tb],l&&Aw(this,tb),p?(A=g?$v(y.H(),k):0,y=u.apply(y.wd[n+A].ja,r)):y=u.apply(y.ja,r),vw.xor(y,x)){D=!0;break a}D=!1}a.Bu(e||b);d=b?D:Ft(d)}return d}*T2(){if(zw(this)||jv(this.g))yield this;return this.sT()}wa(){if(!this.jc||
!this.jc.size)return null;const a={};for(const [b,d]of this.jc.entries()){let c=d;"collmemory"===b&&(c=[...d.entries()].map(e=>[e[0].Yb,e[1].Yb,e[2]]));a[b]=c}return{ex:a}}Aa(a){this.jc&&(this.jc.clear(),this.jc=null);if(a){var b=this.g,d=a.ex;if(d){a=this.Fj();a.clear();for(const [c,e]of Object.entries(d))d=e,"collmemory"===c&&(d=vw.A(vw.jz,e.map(g=>[tq(b,g[0]),tq(b,g[1]),g[2]]).filter(g=>g[0]&&g[1]))),a.set(c,d)}}}};"use strict";const Fw=self.B;
function Gw(a,b){for(let d=0,c=a.length;d<c;++d)b[d]=a[d].ea(0)}const Hw=[];function Iw(){}function*Jw(){}
function Kw(a){var b=a.qd.Ga();const d=cu(b,a.UL,a.zv);if(d.Bb()){const c=0!==(a.F&2);a.Rp=d.Je();let e=[...(new Set([...a.qd.fe(),...a.Rp.fe(),a.R,d.H()]))];e=Zt(b,e);b=!a.R.Qa&&!d.H().Qa;const g=!a.R.Qa&&d.H().Qa,k=a.R.Qa;let l=null;!d.uh&&Lw(a)&&(l=l||{},l.xQ=!0);if(g||!c)l=l||{},l.Vx=a.R,l.tI=d.H();b||g||k&&!d.PM?a.Da=Fw.dm.prototype.sE.bind(a.Rp,e,a.Ha,c,l):k&&(a.Da=Fw.Lr.prototype.l1.bind(d,e,a.Ha));a.g.Sb?b||g||k&&!d.PM?a.tb=function*(){if(zw(a)||jv(a.g))yield a;return yield*xv(a.Rp,e,a.Ha,
c,l)}:k&&(a.tb=function*(){if(zw(a)||jv(a.g))yield a;return yield*Lv(d,e,a.Ha)}):a.tb=Jw}else a.Da=Iw,a.tb=Jw}function Mw(a){const b=a.qd.Ga(),d=b.bw.get(a.zv.toLowerCase())||null;if(d.Bb()){const c=0!==(a.F&2);a.Rp=d.Je();let e=[...(new Set([...a.qd.fe(),...a.Rp.fe()]))];e=Zt(b,e);const g=!d.uh&&Lw(a)?{xQ:!0}:null;a.Da=Fw.dm.prototype.sE.bind(a.Rp,e,a.Ha,c,g);a.tb=a.g.Sb?function*(){if(zw(a)||jv(a.g))yield a;return yield*xv(a.Rp,e,a.Ha,c,g)}:Jw}else a.Da=Iw,a.tb=Jw}
function Lw(a){a=a.qd;do{if(a instanceof Fw.Lr&&a.uh)return!0;a=a.Or()}while(a);return!1}
Fw.mD=class extends Fw.xa{constructor(a,b,d){super();this.qd=a;this.g=a=a.I();this.ta=d;this.fb=4<=b.length?b[3]:-1;this.nv=5<=b.length?b[4]&255:0;this.F=5<=b.length?b[4]>>8:0;this.Jd=this.R=this.Wa=null;this.Yj=-1;this.Ae=null;this.zv="";this.Rp=this.UL=null;this.tb=this.Da=Iw;this.Ha=[];this.Lb=[];this.Rn=!1;this.Ek=this.jc=null;const c=(d=-3===b[0])?b[2]:b[5];this.Vc=a.Sb||d?{UC:c[0],Sg:c[1],index:c[2]}:null;-1===b[0]?(this.Ae=a.Ty(),this.Wa=Iv(a,b[1])):-2===b[0]?this.zv=b[1]:d?(this.Wa=Iv(a,b[1]),
this.Da=this.rK,this.tb=this.VY,this.nv=1):(this.R=ln(a,b[0]),this.F&4?(this.zv=b[1],this.UL=ln(a,b[2])):(b[2]&&(this.Jd=this.R.uv.get(b[2].toLowerCase())||null,this.Yj=Iq(this.R,b[2])),this.Wa=Iv(a,b[1])));if(7===b.length){b=b[6];for(var e of b)this.Ha.push(Fw.ug.Ea(this,e,this.Ha.length)),this.Lb.push(0)}0===this.Ha.length&&(this.Lb=this.Ha=Hw);0!==(this.F&1)&&(e=this.qd,e.qf=e.g.Id,gv(this.qd));this.qd.Ga().RE.set(this.fb,this)}static Ea(a,b,d){return Fw.A(Fw.mD,a,b,d)}oc(){for(var a of this.Ha)a.oc(),
a.Mf&&(this.Rn=!0);if(this.Ae)this.Kz(this.Ae,this.Ae,this.pL),this.tb=this.$K;else if(this.zv)this.F&4?Kw(this):Mw(this),this.zv="",this.UL=null;else if(this.Da===this.rK){a=this.Wa;const b=au(this.qd);this.Wa=a.bind(null,this.g.ul,b)}else this.Jd?this.Oi()?(this.Da=this.rT,this.tb=this.R2):(this.Da=this.qT,this.tb=this.Q2):this.R.pb().qq?(this.rL(),this.tb=this.ZK):this.Oi()?(this.Da=this.uT,this.tb=this.V2):3===this.nv?(this.Da=this.vT,this.tb=this.W2):this.Ha.length?this.Ha.every(b=>b.Mf)?(this.Da=
this.tT,this.tb=this.U2):this.Rn?(this.Da=this.xT,this.tb=this.Y2):this.Ha.every(b=>b.Kb)?(Gw(this.Ha,this.Lb),this.Da=this.nL,this.tb=this.nT):(this.Da=this.wT,this.tb=this.X2):(this.Da=this.nL,this.tb=this.nT)}rL(){const a=this.R.pb(),b=this.R.Gj().ja;this.Kz(a,b,this.oL)}Kz(a,b,d){const c=this.Wa,e=this.Ha;if(0===e.length)this.Da=Sv(a,c,b);else if(1===e.length){const g=e[0];if(g.Kb)this.Da=Bw(a,c,b,g.ea(0));else{const k=Sv(a,c,b);this.Da=function(){return k(g.ea(0))}}}else if(2===e.length){const g=
e[0],k=e[1];if(g.Kb&&k.Kb)this.Da=Cw(a,c,b,g.ea(0),k.ea(0));else{const l=Sv(a,c,b);this.Da=function(){return l(g.ea(0),k.ea(0))}}}else if(3===e.length){const g=e[0],k=e[1],l=e[2];if(g.Kb&&k.Kb&&l.Kb)this.Da=Dw(a,c,b,g.ea(0),k.ea(0),l.ea(0));else{const n=Sv(a,c,b);this.Da=function(){return n(g.ea(0),k.ea(0),l.ea(0))}}}else this.Da=d}Oi(){return 1===this.nv}H(){return this.R}Je(){return this.qd}I(){return this.g}Ja(){return this.ta}wR(){return this.Vc.index}mg(){return!zw(this)&&!jv(this.g)&&!this.Vc.Sg}Fj(){this.jc||
(this.jc=new Map);return this.jc}Wy(){this.Ek||(this.Ek=new Map);return this.Ek}pL(){const a=this.Lb;Gw(this.Ha,a);return this.Wa.apply(this.Ae,a)}*$K(){if(zw(this)||jv(this.g))yield this;if(this.Vc.Sg){const a=this.Lb;Gw(this.Ha,a);return yield*this.Wa.apply(this.Ae,a)}return this.Da()}oL(){const a=this.Lb;Gw(this.Ha,a);return this.Wa.apply(this.R.Gj().ja,a)}*ZK(){if(zw(this)||jv(this.g))yield this;if(this.Vc.Sg){const a=this.Lb;Gw(this.Ha,a);return yield*this.Wa.apply(this.R.Gj().ja,a)}return this.Da()}nL(){const a=
this.Lb,b=this.R.da().qa();for(let d=0,c=b.length;d<c;++d)this.Wa.apply(b[d].ja,a)}*nT(){if(zw(this)||jv(this.g))yield this;if(this.Vc.Sg){const a=this.Lb,b=this.R.da().qa();for(let d=0,c=b.length;d<c;++d)yield*this.Wa.apply(b[d].ja,a)}else this.nL()}wT(){const a=this.Lb;Gw(this.Ha,a);const b=this.R.da().qa();for(let d=0,c=b.length;d<c;++d)this.Wa.apply(b[d].ja,a)}*X2(){if(zw(this)||jv(this.g))yield this;if(this.Vc.Sg){const a=this.Lb;Gw(this.Ha,a);const b=this.R.da().qa();for(let d=0,c=b.length;d<
c;++d)yield*this.Wa.apply(b[d].ja,a)}else this.wT()}tT(){const a=this.Ha,b=this.Lb,d=this.Wa,c=this.R.da().qa();for(let e=0,g=c.length;e<g;++e){const k=c[e];for(let l=0,n=a.length;l<n;++l)b[l]=a[l].ea(e);d.apply(k.ja,b)}}*U2(){if(zw(this)||jv(this.g))yield this;if(this.Vc.Sg){const a=this.Ha,b=this.Lb,d=this.Wa,c=this.R.da().qa();for(let e=0,g=c.length;e<g;++e){const k=c[e];for(let l=0,n=a.length;l<n;++l)b[l]=a[l].ea(e);yield*d.apply(k.ja,b)}}else this.tT()}xT(){const a=this.Ha,b=this.Lb,d=this.Wa,
c=this.R.da().qa();for(let g=0,k=a.length;g<k;++g){var e=a[g];e.Mf||(b[g]=e.ea(0))}for(let g=0,k=c.length;g<k;++g){e=c[g];for(let l=0,n=a.length;l<n;++l){const p=a[l];p.Mf&&(b[l]=p.ea(g))}d.apply(e.ja,b)}}*Y2(){if(zw(this)||jv(this.g))yield this;if(this.Vc.Sg){const b=this.Ha,d=this.Lb,c=this.Wa,e=this.R.da().qa();for(let g=0,k=b.length;g<k;++g){var a=b[g];a.Mf||(d[g]=a.ea(0))}for(let g=0,k=e.length;g<k;++g){a=e[g];for(let l=0,n=b.length;l<n;++l){const p=b[l];p.Mf&&(d[l]=p.ea(g))}yield*c.apply(a.ja,
d)}}else this.xT()}vT(){const a=this.Ha,b=this.Lb,d=this.Wa;var c=this.R;const e=c.qb;c=c.da().qa();e.mJ();for(let g=0,k=c.length;g<k;++g){const l=c[g];for(let n=0,p=a.length;n<p;++n)b[n]=a[n].ea(g);d.apply(l.ja,b)}e.kJ()}*W2(){if(zw(this)||jv(this.g))yield this;if(this.Vc.Sg){const b=this.Ha,d=this.Lb,c=this.Wa;var a=this.R;const e=a.qb;a=a.da().qa();e.mJ();for(let g=0,k=a.length;g<k;++g){const l=a[g];for(let n=0,p=b.length;n<p;++n)d[n]=b[n].ea(g);yield*c.apply(l.ja,d)}e.kJ()}else this.vT()}qT(){var a=
this.R;const b=a.Qa,d=a.Zi,c=this.Ha,e=this.Rn,g=this.Lb,k=this.Wa,l=this.Yj;a=a.da().qa();for(let r=0,u=c.length;r<u;++r){var n=c[r];n.Mf||(g[r]=n.ea(0))}for(let r=0,u=a.length;r<u;++r){n=a[r];if(e)for(let x=0,y=c.length;x<y;++x){var p=c[x];p.Mf&&(g[x]=p.ea(r))}p=b?$v(n.H(),d):0;k.apply(n.wd[l+p].ja,g)}}*Q2(){if(zw(this)||jv(this.g))yield this;if(this.Vc.Sg){var a=this.R;const c=a.Qa,e=a.Zi,g=this.Ha,k=this.Rn,l=this.Lb,n=this.Wa,p=this.Yj;a=a.da().qa();for(let r=0,u=g.length;r<u;++r){var b=g[r];
b.Mf||(l[r]=b.ea(0))}for(let r=0,u=a.length;r<u;++r){b=a[r];if(k)for(let x=0,y=g.length;x<y;++x){var d=g[x];d.Mf&&(l[x]=d.ea(r))}d=c?$v(b.H(),e):0;yield*n.apply(b.wd[p+d].ja,l)}}else this.qT()}uT(){const a=this.Ha,b=this.Lb,d=this.Wa,c=this.R.da().qa(),e=[];for(let g=0,k=c.length;g<k;++g){const l=c[g];for(let n=0,p=a.length;n<p;++n)b[n]=a[n].ea(g);e.push(d.apply(l.ja,b))}return Promise.all(e)}*V2(){if(zw(this)||jv(this.g))yield this;if(this.Vc.Sg){const a=this.Ha,b=this.Lb,d=this.Wa,c=this.R.da().qa(),
e=[];for(let g=0,k=c.length;g<k;++g){const l=c[g];for(let n=0,p=a.length;n<p;++n)b[n]=a[n].ea(g);e.push(yield*d.apply(l.ja,b))}return Promise.all(e)}return this.uT()}rT(){var a=this.R;const b=a.Qa,d=a.Zi,c=this.Ha,e=this.Lb,g=this.Wa,k=this.Yj;a=a.da().qa();const l=[];for(let n=0,p=a.length;n<p;++n){const r=a[n];for(let x=0,y=c.length;x<y;++x)e[x]=c[x].ea(n);const u=b?$v(r.H(),d):0;l.push(g.apply(r.wd[k+u].ja,e))}return Promise.all(l)}*R2(){if(zw(this)||jv(this.g))yield this;if(this.Vc.Sg){var a=
this.R;const b=a.Qa,d=a.Zi,c=this.Ha,e=this.Lb,g=this.Wa,k=this.Yj;a=a.da().qa();const l=[];for(let n=0,p=a.length;n<p;++n){const r=a[n];for(let x=0,y=c.length;x<y;++x)e[x]=c[x].ea(n);const u=b?$v(r.H(),d):0;l.push(yield*g.apply(r.wd[k+u].ja,e))}return Promise.all(l)}return this.rT()}async rK(){try{await this.Wa()}catch(a){console.error(`Unhandled exception running script %c${this.qd.Ad.oa()}, event ${this.qd.Pv}, action ${this.wR()+1}:`,"font-size: 1.2em; font-weight: bold;",a),self.Aj&&self.Aj.C3(this),
Gv||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),Gv=!0)}}*VY(){if(zw(this)||jv(this.g))yield this;return this.rK()}wa(){return this.jc&&this.jc.size?{ex:Fw.MK(this.jc)}:null}Aa(a){this.jc&&(this.jc.clear(),this.jc=null);a&&(a=a.ex)&&(this.jc=Fw.AJ(a))}};"use strict";const Nw=self.B,Ow=new Nw.mb;function Pw(a,b){return Nw.compare(this.m().Y(),a,b)}
function Qw(a,b){return Nw.compare(this.m().Z(),a,b)}function Rw(){return Sw(this.m())}function Tw(){var a=this.m();const b=a.Xb();a=Cl(a);return 0>a.la||0>a.ka||a.ca>b.L()||a.aa>b.K()}function Uw(a,b,d){const c=this.da(),e=c.qa();if(!e.length)return!1;let g=e[0];var k=g.m();let l=g,n=Nw.FP(k.Y(),k.Z(),b,d);for(let p=1,r=e.length;p<r;++p)if(g=e[p],k=g.m(),k=Nw.FP(k.Y(),k.Z(),b,d),0===a&&k<n||1===a&&k>n)n=k,l=g;Mt(c,l);return!0}function Vw(a){const b=this.m();b.Y()!==a&&(b.Nj(a),T(b))}
function Ww(a){const b=this.m();b.Z()!==a&&(b.Oj(a),T(b))}function Xw(a,b){const d=this.m();if(d.Y()!==a||d.Z()!==b)Bl(d,a,b),T(d)}function Yw(a,b){if(a&&(a=Zw(a,this.N))){var [d,c]=a.hm(b);b=this.m();if(b.Y()!==d||b.Z()!==c)Bl(b,d,c),T(b)}}function $w(a){if(0!==a){var b=this.m();po(b,ax(b)*a,bx(b)*a);T(b)}}function cx(a,b){if(0!==b){var d=this.m();a=Nw.La(a);po(d,Math.cos(a)*b,Math.sin(a)*b);T(d)}}function dx(){return this.m().Y()}function ex(){return this.m().Z()}
function fx(){return Fk(this.g,this.N)}function gx(a,b){return Nw.compare(this.m().L(),a,b)}function hx(a,b){return Nw.compare(this.m().K(),a,b)}function ix(a){const b=this.m();b.L()!==a&&(b.ih(a),T(b))}function jx(a){const b=this.m();b.K()!==a&&(b.Uh(a),T(b))}function kx(a,b){const d=this.m();if(d.L()!==a||d.K()!==b)d.vd(a,b),T(d)}function lx(){return this.m().L()}function mx(){return this.m().K()}function nx(){return Cl(this.m()).ca}function ox(){return Cl(this.m()).aa}
function px(){return Cl(this.m()).la}function qx(){return Cl(this.m()).ka}function rx(){const a=Cl(this.m());return(a.ca+a.la)/2}function sx(){const a=Cl(this.m());return(a.aa+a.ka)/2}function tx(a,b){return Nw.Zo(this.m().Ka(),Nw.La(b))<=Nw.La(a)}function ux(a){return Nw.Rg(this.m().Ka(),Nw.La(a))}function vx(a,b){a=Nw.La(a);b=Nw.La(b);const d=this.m().Ka();return Nw.Rg(b,a)?Nw.Rg(d,a)&&!Nw.Rg(d,b):!(!Nw.Rg(d,a)&&Nw.Rg(d,b))}
function wx(a){const b=this.m();a=Nw.Od(Nw.La(a));isNaN(a)||b.Ka()===a||(b.Gd(a),T(b))}function xx(a){if(!isNaN(a)&&0!==a){var b=this.m();b.Gd(b.Ka()+Nw.La(a));T(b)}}function yx(a){if(!isNaN(a)&&0!==a){var b=this.m();b.Gd(b.Ka()-Nw.La(a));T(b)}}function zx(a,b){const d=this.m(),c=d.Ka();a=Nw.jI(c,Nw.La(b),Nw.La(a));isNaN(a)||c===a||(d.Gd(a),T(d))}function Ax(a,b,d){const c=this.m(),e=c.Ka();b-=c.Y();d-=c.Z();a=Nw.jI(e,Math.atan2(d,b),Nw.La(a));isNaN(a)||e===a||(c.Gd(a),T(c))}
function Bx(a,b){const d=this.m(),c=d.Ka();a-=d.Y();b-=d.Z();b=Math.atan2(b,a);isNaN(b)||c===b||(d.Gd(b),T(d))}function Cx(){return Nw.Qc(this.m().Ka())}function Dx(a,b){return Nw.compare(Nw.SI(100*this.m().bd()),a,b)}function Ex(){return this.m().Rd()}function Fx(a){const b=this.m();a=2===a?!b.Rd():0!==a;b.Rd()!==a&&(b.hh(a),this.g.M())}function Gx(a){a=Nw.X(a/100,0,1);const b=this.m();if(Zr(b)){if(b.Na.Tm===a)return}else if(b.bd()===a)return;b.Vh(a);this.g.M()}
function Hx(a){$b(Ow,a);a=this.m();Xb(a.yb,Ow)||(Fr(a,Ow),this.g.M())}function Ix(){const a=this.m().yb;return Nw.kE(a.eb,a.kb,a.bb,a.Oa)}function Jx(){return Nw.SI(100*this.m().bd())}function Kx(a){return a?this.m().V()===a:!1}function Lx(a){const b=this.da(),d=b.qa();if(!d.length)return!1;let c=d[0];for(let e=1,g=d.length;e<g;++e){const k=d[e],l=k.m(),n=c.m(),p=l.V().Ja(),r=n.V().Ja();if(0===a){if(p>r||p===r&&Dl(l)>Dl(n))c=k}else if(p<r||p===r&&Dl(l)<Dl(n))c=k}Mt(b,c);return!0}
function Mx(a,b,d){const c=this.m();a=0===a?c.Sa():eo(c);return Nw.compare(a,b,d)}function Nx(){var a=this.m();const b=a.N,d=a.Dl,c=d.J;c.length&&c.at(-1)===b||(d.us(b,!1),d.Ti(b,!1),a.g.M())}function Ox(){var a=this.m();const b=a.N,d=a.Dl;var c=d.J;if(!c.length||c[0]!==b){d.us(b,!1);c=b.m();if(c.V()!==d)throw Error("instance added to wrong layer");d.J.unshift(b);0!==c.Sa()&&(d.Qn=!0);nn(d);a.g.M()}}
function Px(a){if(a){var b=this.m();const d=b.N,c=b.Dl;if(c.Xb()!==a.Xb())throw Error("layer from different layout");a!==c&&(c.us(d,!0),Xo(b,a),a.Ti(d,!0),b.g.M())}}
function Qx(a,b){var d=0===a;if(b){var c=Rx(b,this.ga());if(c){b=this.m();var e=b.N;a=!1;var g=b.Dl;if(c.Yb!==e.Yb){var k=c.m();if(!k)throw Error("expected world instance");k=k.V();g.Ja()!==k.Ja()&&(g.us(e,!0),Xo(b,k),k.Ti(e,!0),a=!0);d=!!d;g=e.m();c=c.m();if(g.V()!==k||c.V()!==k)throw Error("can't arrange Z order unless both objects on this layer");g=Dl(g);c=Dl(c);g===c+(d?1:-1)?e=!1:(Jm.E5(k.J,g),g<c&&c--,d&&c++,c===k.J.length?k.J.push(e):k.J.splice(c,0,e),nn(k),e=!0);(a||e)&&b.g.M()}}}}
function Sx(a){const b=this.m();b.Sa()!==a&&(b.wf(a),this.g.M())}function Tx(){return this.m().V().Ja()}function Ux(){return this.m().V().oa()}function Vx(){return Dl(this.m())}function Wx(){return this.m().Sa()}function Xx(){return eo(this.m())}function Yx(a){if(a=Aq(this.H().Va,a))return a=a.Ja(),this.m().Yf.qp(a)}function Zx(a,b){if(b=Aq(this.H().Va,b)){b=b.Ja();a=1===a;var d=this.m().Yf;d.qp(b)!==a&&(d.sK(b,a),d.Yh(),this.g.M())}}
function $x(a,b,d){if(a=Aq(this.H().Va,a)){b=Math.floor(b);var c=a.gf().Qy(b);c&&("color"===c?($b(Ow,d),d=Ow):"percent"===c&&(d/=100),a=a.Ja(),c=this.m().Yf,c.pz(a,b,d)&&c.qp(a)&&this.g.M())}}const ay=Nw.A(Nw.Rect),by=[],cy=[];let dy=!1,ey=null,fy=!1;const gy=new Set;function hy(a,b,d,c){b.Yb<d.Yb?a.Set(b,d,c):a.Set(d,b,c)}function iy(a,b,d){b.Yb<d.Yb?a.Jr(b,d):a.Jr(d,b)}function jy(a,b,d){return b.Yb<d.Yb?a.ea(b,d):a.ea(d,b)}
function ky(a,b,d,c){if(!b)return!1;a=a.ga();const e=0!==d||0!==c,g=a.m(),k=a.I();var l=k.Xg();const n=l.Je().Te;var p=l.H();l=l.gk;const r=b.da();p=p!==b;ey=b;dy=p&&!l;fy=!1;let u=0,x=0,y=!1;r.lb?(ay.Ca(Cl(g)),ay.offset(d,c),ly(g.V(),b,ay,cy),b=cy):n?0===k.tf().Oe&&!r.$a.length&&r.J.length?b=r.J:(b=r.$a,fy=!0):b=r.J;e&&(u=g.Y(),x=g.Z(),po(g,d,c),T(g));for(const A of b)if(my(a,A)){y=!0;if(l)break;p&&gy.add(A)}e&&(Bl(g,u,x),T(g));Nw.D(cy);return y}
function ny(a,b){if(dy){if(b){a=a.I().lc().Te;b=ey.da();const d=b.J,c=b.$a;b.lb?(Jt(b,gy),a&&(Nw.D(c),Kt(b,gy,ey.qa()))):a?fy?Lt(b,gy):(Kt(b,gy,d),Jt(b,gy)):Jt(b,gy);yv(ey)}gy.clear();ey=null;dy=!1}}
function oy(a){if(this.g.$f)return py.call(this,a);if(!a)return!1;var b=this.g;const d=b.di;var c=b.Ga();const e=c.Zd();var g=c.Xg();c=g.H();var k=g.Fj(),l=g.Wy();g=Nt(e);const n=b.pj,p=n-1,r=g.lc(),u=e.gb(r);let x=k.get("collmemory");x||(x=Nw.A(Nw.jz),k.set("collmemory",x));l.get("collisionCreatedDestroyCallback")||(l.set("collisionCreatedDestroyCallback",!0),b.ib().addEventListener("instancedestroy",F=>{Ic(x,F.instance)}));b=a.da();k=c.da().qa();l=null;for(let F=0;F<k.length;++F){const J=k[F];b.lb?
(ly(J.m().V(),a,Cl(J.m()),by),l=by,qy(d,J,a,l)):l=b.qa();for(let H=0;H<l.length;++H){const L=l[H];if(my(J,L)||ry(d,J,L)){var y=jy(x,J,L),A=!1,D=-2;"number"===typeof y&&(A=!0,D=y);y=!A||D<p;hy(x,J,L,n);y&&(y=r.ae(),ou(y),D=c.da(),A=a.da(),D.lb=!1,A.lb=!1,c===a?(A=D.J,Nw.D(A),A.push(J),A.push(L),yv(c)):(D=D.J,A=A.J,Nw.D(D),Nw.D(A),D.push(J),A.push(L),yv(c),yv(a)),qv(r,g,u),pu(y))}else iy(x,J,L)}Nw.D(by)}e.Za();return!1}
function*py(a){if(!a)return!1;var b=this.g;const d=b.di;var c=b.Ga();const e=c.Zd();var g=c.Xg();c=g.H();var k=g.Fj(),l=g.Wy();g=Nt(e);const n=b.pj,p=n-1,r=g.lc(),u=e.gb(r);let x=k.get("collmemory");x||(x=Nw.A(Nw.jz),k.set("collmemory",x));l.get("collisionCreatedDestroyCallback")||(l.set("collisionCreatedDestroyCallback",!0),b.ib().addEventListener("instancedestroy",F=>{Ic(x,F.instance)}));b=a.da();k=c.da().qa();l=null;for(let F=0;F<k.length;++F){const J=k[F];b.lb?(ly(J.m().V(),a,Cl(J.m()),by),l=
by,qy(d,J,a,l)):l=b.qa();for(let H=0;H<l.length;++H){const L=l[H];if(my(J,L)||ry(d,J,L)){var y=jy(x,J,L),A=!1,D=-2;"number"===typeof y&&(A=!0,D=y);y=!A||D<p;hy(x,J,L,n);y&&(y=r.ae(),ou(y),D=c.da(),A=a.da(),D.lb=!1,A.lb=!1,c===a?(A=D.J,Nw.D(A),A.push(J),A.push(L),yv(c)):(D=D.J,A=A.J,Nw.D(D),Nw.D(A),D.push(J),A.push(L),yv(c),yv(a)),yield*rv(r,g,u),pu(y))}else iy(x,J,L)}Nw.D(by)}e.Za();return!1}function sy(a){return ky(this,a,0,0)}function ty(a,b,d){return ky(this,a,b,d)}
function uy(){return this.m().sg()}function vy(){return this.m().vf()}
function wy(a,b){const d=this.da().qa();if(0===d.length)return!1;const c=a.da();var e=c.qa();if(c.lb){var g=[...xy(this.g,a)];0<g.length&&(e=e.concat(g))}if(0===e.length)return!1;e=new Set(e);g=new Set;for(let l=0,n=d.length;l<n;++l){var k=d[l];if(1===b)for(const p of k.ky())yy(p,a)&&e.has(p)&&g.add(p);else{if(0===b){if(k=k.Ia(),null===k)continue}else k=k.pp();yy(k,a)&&e.has(k)&&g.add(k)}}if(0===g.size)return!1;Jt(c,g);yv(a);return!0}
function zy(a,b){const d=this.da().qa();if(0===d.length)return!1;const c=a.da();var e=c.qa();if(c.lb){var g=[...xy(this.g,a)];0<g.length&&(e=e.concat(g))}if(0===e.length)return!1;e=new Set(e);g=new Set;for(let k=0,l=d.length;k<l;++k){const n=d[k];2===b&&!n.vf()&&yy(n,a)&&e.has(n)&&g.add(n);for(const p of 0===b?n.children():n.Gk())2===b&&p.vf()||yy(p,a)&&e.has(p)&&g.add(p)}if(0===g.size)return!1;Jt(c,g);yv(a);return!0}
function Ay(a,b){const d=this.da().qa();if(0===d.length)return!1;const c=a.da();var e=c.qa();if(c.lb){var g=[...xy(this.g,a)];0<g.length&&(e=e.concat(g))}if(0===e.length)return!1;e=new Set(e);g=[];for(let k=0,l=d.length;k<l;++k){const n=d[k].JD(b);null!==n&&yy(n,a)&&e.has(n)&&g.push(n)}if(0===g.length)return!1;It(c,g);yv(a);return!0}function By(a,b,d){switch(a){default:return Nw.compare(this.N.KD(),b,d);case 1:return Nw.compare(this.N.GD(),b,d)}}
function Cy(a,b,d,c,e,g,k,l,n,p){const r=this.N,u=this.g.Iy().H();for(const x of Dy(a,r,u)){if(!x.pb().hW)break;r.zj(x,{ou:b,pu:d,xr:c,vr:e,ku:g,mu:k,qu:l,nu:n,Wx:p})}}function Ey(a){const b=this.N,d=this.g.Iy().H();for(const c of Dy(a,b,d))b.nm(c)}function Fy(){this.N.sg()&&this.N.Ia().nm(this.N)}function Gy(){return this.N.KD()}function Hy(){return this.N.GD()}function Iy(a,b){a=Math.floor(a);b=Math.floor(b);const d=this.m();2>a||2>b||!isFinite(a)||!isFinite(b)?(Jy(d),T(d)):Ky(d,a,b)}
function Ly(a,b,d,c,e,g,k,l){const n=this.m();n.US(a,b,{mode:0===d?"absolute":"relative",x:c,y:e,Zl:g,ru:k,su:l})&&T(n)}function My(){const a=this.m();return Ny(a)?Oy(a).Jm:0}function Py(){const a=this.m();return Ny(a)?Oy(a).hn:0}function Qy(a){const b=this.m();a=2===a?!b.Rd():0!==a;b.Rd()!==a&&b.hh(a)}function Ry(a,b){Sy(this,"set-css-style",{prop:Ty.DY(a),val:b})}function Uy(a,b){Sy(this,"set-attribute",{name:a,val:""+b})}function Vy(a){Sy(this,"remove-attribute",{name:a})}
function Wy(){Gl(this,{focus:!0})}function Xy(){Gl(this,{focus:!1})}function Yy(){return this.rM}function Zy(a){this.Sj(0!==a)}function az(){return this.xm()}function bz(a,b,d){return Nw.compare(Jr(this.ga(),a),b,d)}function cz(a){return!!Jr(this.ga(),a)}function dz(){return this.ga().Iu()}
function ez(a,b){const d=this.da(),c=d.qa();if(!c.length)return!1;const e=this.Qa;let g=null,k=0;for(let n=0,p=c.length;n<p;++n){const r=c[n];var l=e?r.H().Wv[this.Zi]:0;l=Jr(r,l+b);if(null===g||0===a&&l<k||1===a&&l>k)k=l,g=r}Mt(d,g);return!0}
function fz(a){if(this.g.Xg().gk){{const c=this.da();if(c.lb){c.lb=!1;Et(c);var b=this.qa();for(let e=0,g=b.length;e<g;++e){var d=b[e];d.Yb===a?c.$a.push(d):c.J.push(d)}yv(this);a=!!c.J.length}else{b=c.J;d=0;for(let e=0,g=b.length;e<g;++e){const k=b[e];b[d]=k;k.Yb===a?c.$a.push(k):++d}Nw.lg(b,d);yv(this);a=!!b.length}}}else a=gz(this,a);return a}
function gz(a,b){b=tq(a.I(),b);if(!b)return!1;const d=a.da();if(!d.lb&&!d.J.includes(b))return!1;if(a.Qa){if(hz(b.H(),a))return Mt(d,b),yv(a),!0}else if(b.H()===a)return Mt(d,b),yv(a),!0;return!1}function iz(){lo(this.g,this.N)}function jz(){return!0}function kz(){return!0}function lz(a,b){this.ga().yp(a,b)}function mz(a,b){const d=this.ga(),c=Jr(d,a);"number"===typeof c&&"number"!==typeof b?b=parseFloat(b):"string"===typeof c&&"string"!==typeof b&&(b=b.toString());d.yp(a,c+b)}
function nz(a,b){const d=this.ga(),c=Jr(d,a);"number"===typeof c&&("number"!==typeof b&&(b=parseFloat(b)),d.yp(a,c-b))}function oz(a,b){this.ga().yp(a,b?1:0)}function pz(a){const b=this.ga();b.yp(a,0===Jr(b,a)?1:0)}function qz(a){let b;try{b=JSON.parse(a)}catch(d){console.error("Failed to load from JSON string: ",d);return}a=this.ga();rz(a.I());a.hv("state");a.cc(b,"state");sz(a.I(),"state",{Ila:!0,x5:!0})}function tz(){return JSON.stringify(this.ga().Gc("state"))}
function uz(){return this.ga().H().oa()}function vz(){const a=this.g.tf().JF;let b=a.J.length;for(const d of xy(this.g,a))++b;return b}function wz(){return this.g.tf().JF.da().qa().length}function xz(){return dp(this.N)}function yz(){return this.N.Yb}
Nw.dY=function(a,b){const d=a[1],c=a[4],e=a[5],g=a[6],k=a[7],l=a[8],n=a[10],p=a[11],r=a[12],u=a[13],x=a[14],y=a[15],A=a[16],D=b.G,F=b.Ma,J=b.ob;a[3]&&(D.H9=Pw,D.I9=Qw,D.RR=Rw,D.kba=Tw,D.N0=Uw,F.Nj=Vw,F.Oj=Ww,F.iha=Xw,F.jha=Yw,F.rca=$w,F.qca=cx,J.UK=dx,J.VK=ex,J.GP=fx);c&&(D.G9=gx,D.w9=hx,F.ih=ix,F.Uh=jx,F.vd=kx,J.Fja=lx,J.eaa=mx,J.H8=nx,J.L8=ox,J.K8=px,J.G8=qx,J.I8=rx,J.J8=sx);e&&(D.iY=tx,D.q_=ux,D.p_=vx,F.Gd=wx,F.gfa=xx,F.hfa=yx,F.kfa=zx,F.lfa=Ax,F.xha=Bx,J.t8=Cx);g&&(D.Rd=Ex,D.y9=Dx,F.hh=Fx,F.Vh=
Gx,F.aga=Hx,J.Opacity=Jx,J.o9=Ix);k&&(D.eba=Kx,D.xda=Lx,D.J9=Mx,F.uca=Nx,F.sca=Ox,F.tca=Px,F.dka=Qx,F.wf=Sx,J.Fba=Tx,J.Eba=Ux,J.cka=Vx,J.J2=Wx,J.Nia=Xx);l&&(D.Paa=Yx,F.dga=Zx,F.ega=$x);u&&(D.sg=uy,D.vf=vy,D.vda=wy,D.pda=zy,D.tda=Ay,D.t9=By,F.zj=Cy,F.nm=Ey,F.cea=Fy,J.j9=Gy,J.n8=Hy);x&&(F.aha=Iy,F.US=Ly,J.lca=My,J.mca=Py);n&&(D.Rd=Ex,F.hh=Qy,F.Vfa=Ry,F.fga=Uy,F.bea=Vy);p&&(D.Taa=Yy,F.mga=Wy,F.Tfa=Xy);r&&(D.Bb=az,F.Th=Zy);y&&(D.$_=oy,D.v_=sy,D.w_=ty,b.qR=ny);d||(D.x9=bz,D.IR=cz,D.qda=ez,D.oda=fz,F.s1=
lz,F.b8=mz,F.pia=nz,F.OS=oz,F.Jia=pz,D.a0=jz,D.b0=kz,F.gR=iz,F.ZJ||(F.ZJ=qz),J.pY||(J.pY=tz),J.P9=vz,J.yda=wz,J.laa=xz,J.Xia=yz,J.Ica=uz);A&&(J.zia=dz)};"use strict";const Cu=self.B;function vu(a){return"timer"===a.Fa?a.Oc<=Gk(a.Ra.I()):a.pw}async function wu(a,b){zz(a,b);for(const d of pv(a.pl,b))await gu(a.Ra.I(),d);a.Wn&&a.Wn.Oi()&&Av(a.Wn,a.Tz);mu(a.qf);a.VB=!0}
function Az(a,b){a.Fa="promise";a.fl();b.then(()=>{a.pw=!0}).catch(d=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",d);a.pw=!0})}function zz(a,b){b.mL(a.pl,a.yf);for(const [d,c]of a.Jt.entries())c.mL(d.da());a.Wf&&Rt(b,[...a.Wf]);if(b=a.Wn)vv(b,a.th),b.aN.map((d,c)=>d.Me(a.GM[c])),b.Oi()&&Kv(b,a.Tz)}
Cu.MS=class extends Cu.xa{constructor(a){super();this.Ra=a;this.Fa="";this.Oc=-1;this.WB="";this.pw=!1;this.pl=null;this.yf=0;this.qf=[];this.Wf=null;this.Jt=new Map;this.Wn=null;this.Tz=-1;this.GM=this.th=null;this.VB=!1}j(){this.Fa="";this.Oc=-1;this.WB="";this.GM=this.th=this.Wn=this.pl=null;this.Tz=-1;Cu.D(this.qf);this.Wf&&(this.Wf.clear(),this.Wf=null);for(const a of this.Jt.values())a.j();this.Jt.clear()}fl(){var a=this.Ra,b=a.I().Id,d=a.tf();this.pl=d.lc();this.yf=d.yf+1;if(d=yu(this.pl))this.Wn=
d,this.th=Jv(d),this.GM=d.aN.map(c=>c.pd()),d.Oi()&&(d.Uz.get(d.jA).sQ++,this.Tz=d.jA);for(const c of b)if(b=c.da(),!b.lb||this.pl.qf.includes(c))this.qf.push(c),this.Jt.set(c,Cu.A(Cu.aT,b));a=qu(a);this.Wf=0<a.size?a:null}es(a){for(const b of this.Jt.values())b.es(a)}wa(){const a={},b={t:this.Oc,st:this.WB,s:this.pw,ev:this.pl.fb,sm:this.qf.map(d=>d.fb),dsm:this.Wf?[...this.Wf].map(d=>d.fb):null,sols:a};iv(this.pl,this.yf)&&(b.act=Bu(this.pl,this.yf).fb);for(const [d,c]of this.Jt)a[d.fb.toString()]=
c.wa();return b}};"use strict";const Bz=self.B;Bz.aT=class extends Bz.xa{constructor(a){super();this.R=null;this.DG=!0;this.J=[];a&&(this.R=a.H(),this.DG=a.lb,Bz.Pd(this.J,a.J))}j(){this.R=null;Bz.D(this.J)}mL(a){a.lb=!!this.DG;Bz.Pd(a.J,this.J)}es(a){Bz.Di(this.J,a)}wa(){return{sa:this.DG,insts:this.J.map(a=>a.Yb)}}Aa(a,b){a=a.I();this.DG=!!b.sa;Bz.D(this.J);for(const d of b.insts)(b=tq(a,d))&&this.J.push(b)}};"use strict";const Cz=self.B;
function Dz(a,b){let d=a.get(b);d||(d=new Map,a.set(b,d));return d}function Sv(a,b,d){if(!d)throw Error("missing 'this' binding");let c=a.JT.get(b);if(c)return c;c=b.bind(d);a.JT.set(b,c);return c}function Bw(a,b,d,c){if(!d)throw Error("missing 'this' binding");a=Dz(a.S3,b);let e=a.get(c);if(e)return e;e=b.bind(d,c);a.set(c,e);return e}function Cw(a,b,d,c,e){if(!d)throw Error("missing 'this' binding");a=Dz(a.T3,b);a=Dz(a,c);let g=a.get(e);if(g)return g;g=b.bind(d,c,e);a.set(e,g);return g}
function Dw(a,b,d,c,e,g){if(!d)throw Error("missing 'this' binding");a=Dz(a.U3,b);a=Dz(a,c);a=Dz(a,e);let k=a.get(g);if(k)return k;k=b.bind(d,c,e,g);a.set(g,k);return k}function Ez(a,b){if(!a.qq)throw Error("must be single-global plugin");a.WV=b}
Cz.Kj=class extends Cz.xa{constructor(a){super();this.g=a.sb;this.qq=!!a.pX;this.ue=!!a.z6;this.L4=!!a.x6;this.U4=!!a.N6;this.y4=!!a.p6;this.hW=!!a.n7;this.m5=!!a.m7;this.WV=null;this.JT=new Map;this.S3=new Map;this.T3=new Map;this.U3=new Map}j(){this.g=null}I(){return this.g}ec(){}Hn(){return this.L4}hz(){return this.U4}MJ(){return this.y4}Gj(){if(!this.qq)throw Error("must be single-global plugin");return this.WV.Gj()}};"use strict";const Fz=self.B;
function Gz(a,b,d){Hz(a.g,a.bq,b,c=>{const e=a.bN.get(c.elementId);d(e,c)})}Fz.ofa=class extends Fz.Kj{constructor(a,b){super(a);this.bq=b;this.X4=0;this.bN=new Map;Gz(this,"elem-focused",d=>{d.rM=!0});Gz(this,"elem-blurred",d=>{d&&(d.rM=!1)})}j(){super.j()}};"use strict";const Iz=self.B;
Iz.qm=class extends Iz.xa{constructor(a){super();this.R=a;this.g=a.I();this.sk=a.pb()}j(){this.sk=this.g=this.R=null}H(){return this.R}I(){return this.g}pb(){return this.sk}$b(){return this.R.$b()}ec(){}Bu(){}mJ(){}kJ(){}In(){}mm(){}hE(){}fK(){}Ke(){return null}zy(a,b,d){a=Iz.A(Iz.Event,a,b);a.tr=this;d&&Object.assign(a,d);this.H().Mh(a)}};"use strict";const Jz=self.B;function Kz(a,b){for(const [d,c]of b)a.hJ(d,c)}function Lz(a,b,d){Uc(a.g,a.bq,b,d)}function Mz(a,b,d){return Hk(a.g,a.bq,b,d)}
function Nz(a,b,d){a.g.yl?Lz(a,b,d):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:a.bq,handler:b,data:d,responseId:null})}
Jz.hs=class extends Jz.xa{constructor(a,b){super();this.N=a;this.bq=b;this.g=a.I();this.R=this.N.H();this.qb=this.R.qb;this.Mo=this.No=null;this.zl=this.ro=!1;this.yd=null;this.Px=!1}j(){this.Px=!0;this.Hp();this.ys();this.Mo=this.No=null;this.yd&&(this.yd.j(),this.yd=null);this.qb=this.R=this.g=this.N=null}Dp(){return this.Px}ga(){return this.N}I(){return this.g}H(){return this.R}pb(){return this.qb.pb()}Dn(){return Sk(this.N)}pa(a){return this.g.pa(a,this.N,null)}yy(a){return this.g.yy(a,this.N,
null)}Vd(a){return this.g.Vd(a,this.N,null)}hJ(a,b){Hz(this.g,this.bq,a,b)}jf(){}cv(){}Bg(){this.ro||(this.No||(this.No=()=>this.jf()),this.g.ib().addEventListener("tick",this.No),this.ro=!0)}Hp(){this.ro&&(this.g.ib().removeEventListener("tick",this.No),this.ro=!1)}lv(){this.zl||(this.Mo||(this.Mo=()=>this.cv()),this.g.ib().addEventListener("tick2",this.Mo),this.zl=!0)}ys(){this.zl&&(this.g.ib().removeEventListener("tick2",this.Mo),this.zl=!1)}Gc(){return null}cc(){}ac(){}Le(){}cK(a,b,d){if(0!==
b){var c=this.ac(a);if("number"!==typeof c)throw Error("expected number");this.Le(a,c+b,d)}}Ke(){return null}zy(a,b,d){if(this.N.Re){var c=this.Dn();a=Jz.A(Jz.Event,a,b);a.instance=c;d&&Object.assign(a,d);c.dispatchEvent(a)}}};"use strict";const Oz=self.B;function Pz(a){if(!a.ix){a.ix=()=>a.Pu();a.zH=()=>a.mS();var b=a.g.ib();b.addEventListener("rendererontextlost",a.ix);b.addEventListener("renderercontextrestored",a.zH)}}
Oz.Tu=class extends Oz.hs{constructor(a,b){super(a,b);this.Xa=a.m();this.zH=this.ix=null}j(){if(this.ix){const a=this.g.ib();a.removeEventListener("renderercontextlost",this.ix);a.removeEventListener("renderercontextrestored",this.zH);this.zH=this.ix=null}this.Xa=null;super.j()}Pu(){}mS(){}m(){return this.Xa}eh(){return!1}ah(){if(!this.eh())throw Error("original size not known");const a=this.Yd();if(a)return a.L()}$g(){if(!this.eh())throw Error("original size not known");const a=this.Yd();if(a)return a.K()}Yd(){return null}LD(){var a=
this.Yd();return a&&(a=a.Jb())?[a.L(),a.K()]:[100,100]}MD(){const a=this.Yd();return a?a.Vk():null}aE(){const a=this.Yd();return a?a.pq:!1}hm(){const a=this.N.m();return[a.Y(),a.Z(),eo(a)]}xp(){return!0}};"use strict";const Ty=self.B,Qz=Ty.A(Ty.Rect);function Sy(a,b,d){d||(d={});d.elementId=a.FF;Lz(a,b,d)}function Gl(a,b){b||(b={});b.elementId=a.FF;Nz(a,"focus",b)}function Rz(a,b){b=!!b;a.HU!==b&&(a.HU=b,Sy(a,"set-visible",{isVisible:b}))}
Ty.nfa=class extends Ty.Tu{constructor(a,b){super(a,b);a=this.pb();b=a.X4++;a.bN.set(b,this);this.FF=b;this.HU=!0;this.M3=this.rM=!1;this.N3=-.2;this.yw=Ty.A(Ty.Rect,0,0,-1,-1);a=this.g.$;this.$U=a.Xo;this.ZU=a.Wo;this.Bg()}j(){this.pb().bN.delete(this.FF);Sy(this,"destroy");this.FF=-1;super.j()}jf(){a:{var a=this.m();const c=a.V();var b=Cl(a);let [e,g]=ko(c,b.ca,b.aa),[k,l]=ko(c,b.la,b.ka);b=this.g.$;var d=b.Kc;const n=b.xc;if(a.Rd()&&c.Rd()){a=this.g.$.OD();if("Android"!==Ty.W.Fc||"scale-inner"!==
a&&"scale-outer"!==a&&"crop"!==a){if(0>=k||0>=l||e>=d||g>=n){Rz(this,!1);break a}1>e&&(e=1);1>g&&(g=1);k>=d&&(k=d-1);l>=n&&(l=n-1)}Qz.set(e,g,k,l);a=b.Xo;d=b.Wo;Qz.Wd(this.yw)&&this.$U===a&&this.ZU===d?Rz(this,!0):(this.yw.Ca(Qz),this.$U=a,this.ZU=d,Rz(this,!0),a=null,this.M3&&(a=c.Sk()+this.N3),Sy(this,"update-position",{left:Math.round(this.yw.ca)+b.Gy(),top:Math.round(this.yw.aa)+b.Hy(),width:Math.round(this.yw.width()),height:Math.round(this.yw.height()),fontSize:a}))}else Rz(this,!1)}}};"use strict";
const Sz=self.B,Nl=self.RZ;Sz.Qu=class extends Sz.xa{constructor(a){super();this.g=a.sb;this.WN=Sz.A(Sz.lJ);this.dH=Sz.A(Sz.lJ);this.OA=null;this.h5=a.qna||null}j(){this.dH.j();this.WN.j();this.g=null}I(){return this.g}ec(){}FJ(){return Kc(this.WN)}Ti(a){this.dH.Cc(a)}us(a){this.dH.Jr(a)}qa(){return Kc(this.dH)}};"use strict";const Tz=self.B;Tz.Su=class extends Tz.xa{constructor(a){super();this.g=a.I();this.Jd=a;this.R=a.H();this.Vi=a.Nh();this.Vi.WN.Cc(this.R)}j(){this.Vi=this.R=this.Jd=this.g=null}ec(){}pg(){return this.Jd}H(){return this.R}I(){return this.g}Nh(){return this.Vi}};
"use strict";const Uz=self.B;
Uz.Ru=class extends Uz.xa{constructor(a,b){super();this.Zz=a;this.bq=b;this.N=a.N;this.g=a.I();this.Jd=a.pg();this.qb=this.Jd.qb;this.OU=this.zl=this.ro=!1;this.yd=null}j(){this.Hp();this.ys();this.OU&&(this.g.Ds.Rh(this),this.OU=!1);this.yd&&(this.yd.j(),this.yd=null);this.qb=this.Jd=this.g=this.N=this.Zz=null}Nh(){return this.Jd.Nh()}H(){return this.N.H()}m(){return this.N.m()}I(){return this.g}pg(){return this.Jd}Dn(){return this.Zz.Dn()}pa(a){return this.g.pa(a,this.N,this.Jd)}yy(a){return this.g.yy(a,
this.N,this.Jd)}Vd(a){return this.g.Vd(a,this.N,this.Jd)}jf(){}cv(){}Bg(){this.ro||(this.g.Pp.Cc(this),this.ro=!0)}Hp(){this.ro&&(this.g.Pp.Rh(this),this.ro=!1)}lv(){this.zl||(this.g.Qp.Cc(this),this.zl=!0)}ys(){this.zl&&(this.g.Qp.Rh(this),this.zl=!1)}hJ(a,b){Hz(this.g,this.bq,a,b)}Gc(){return null}cc(){}ac(){}Le(){}cK(a,b){if(0!==b){var d=this.ac(a);if("number"!==typeof d)throw Error("expected number");this.Le(a,d+b)}}Ke(){return null}zy(a,b,d){if(this.Zz.Re){var c=this.Dn();a=Uz.A(Uz.Event,a,b);
a.wka=c;a.instance=c.instance;d&&Object.assign(a,d);c.dispatchEvent(a)}}};"use strict";const Vz=self.B;Vz.C={};Vz.ua={};function Wz(a,b){const d=Iv(a.g,b[0]);if(!d)throw Error("missing plugin");Vz.dY(b,d);b=Vz.A(d,{sb:a.g,pX:b[1],z6:b[2],x6:b[5],p6:b[8],N6:b[9],n7:b[13],m7:b[14]});b.ec();a.K3.push(b);a.DV.set(d,b)}function Xz(a){a.Ae=Vz.A(Vz.C.hb,{sb:a.g,pX:!0});a.Ae.ec()}
Vz.X0=class extends Vz.xa{constructor(a){super();this.g=a;this.K3=[];this.DV=new Map;this.Ae=null;this.H3=[];this.OL=new Map;this.UU=this.GO=null}Ty(){return this.Ae}VD(){return this.GO}};"use strict";const Yz=self.B,Zz=new Set;function $z(a){a.Es&&(URL.revokeObjectURL(a.Es),a.Es="")}function aA(a,b){a.Ql=b[0];a.Qq=b[1];a.zt=b[2];a.At=b[3];a.O=b[4];a.P=b[5];a.pq=b[6];a.MA=!0}function bA(a,b,d){if(a.Se)throw Error("already got asset");d=Object.assign({},d,{url:a.Ql,size:a.Hj()});a.Se=b.eE(d)}
function cA(a,b,d){if(a.Se)throw Error("already loaded asset");a.Ql=d;const c={};Yz.$D(d)&&(c.$C="remote");bA(a,b,c);return ym(a.Se)}async function dA(a,b){b||(b=await Em(a.Se));const d=Yz.Lh(a.O,a.P),c=d.getContext("2d");a.pq?(c.rotate(Math.PI/-2),c.translate(-a.P,0),c.drawImage(b,a.zt,a.At,a.P,a.O,0,0,a.P,a.O)):c.drawImage(b,a.zt,a.At,a.O,a.P,0,0,a.O,a.P);return d}async function eA(a,b){if(a.Es)return a.Es;b=await dA(a,b);b=await Yz.uD(b);a.Es=URL.createObjectURL(b);return a.Es}
Yz.az=class extends Yz.xa{constructor(){super();this.JM=0;this.Ql="";this.P=this.O=this.At=this.zt=this.Qq=0;this.MA=this.pq=!1;this.Se=null;this.Lo="";this.jj=Yz.A(Yz.Rect);this.Dt=Yz.A(Yz.ed);this.Es="";new self.FR(this);Zz.add(this)}j(){this.Jj();this.Se=null;Zz.delete(this);$z(this)}static Pu(){for(const a of Zz)a.Lo="",a.jj.set(0,0,0,0),a.Dt.ef(a.jj)}Hj(){return this.Qq}L(){return this.O}K(){return this.P}cz(){return this.Se&&this.Se.cz()}async wp(a,b){if(!this.Se)throw Error("no asset");if(this.Lo)throw Error("already loaded texture");
var d=this.JM;this.Lo="loading";a=await this.Se.wp(a,b);if(this.JM!==d)return null;if(!a)return this.Lo="",null;this.Lo="loaded";this.MA||(this.O=a.L(),this.P=a.K(),this.MA=!0);this.jj.set(this.zt,this.At,this.zt+(this.pq?this.P:this.O),this.At+(this.pq?this.O:this.P));this.jj.Ik(a.L(),a.K());this.Dt.ef(this.jj);if(this.pq){d=this.Dt;b=d.Hb;const c=d.Eb;d.Hb=d.kc;d.Eb=d.qc;d.kc=d.uc;d.qc=d.wc;d.uc=d.sc;d.wc=d.tc;d.sc=b;d.tc=c}return a}Jj(){this.Lo&&(this.Se&&this.Se.Jj(),this.Lo="",this.jj.set(0,
0,0,0),this.Dt.ef(this.jj))}Jb(){return this.Se?this.Se.Jb():null}Vk(){return this.jj}Ju(){return this.Dt}};"use strict";const fA=self.B;function gA(a,b,d){return Promise.all(a.Bd.map(c=>c.$b().wp(b,d)))}function hA(a){for(const b of a.Bd)b.$b().Jj()}function iA(a,b){b=Math.floor(b);if(0>b||b>=a.Bd.length)throw new RangeError("invalid frame");return a.Bd[b]}
fA.lY=class extends fA.xa{constructor(a){super();this.Ta=a[0];this.j5=a[1];this.dB=!!a[2];this.It=a[3];this.OV=a[4];this.K4=!!a[5];this.fb=a[6];this.Bd=a[7].map(b=>fA.A(fA.kY,b));this.z4=new self.NZ(this)}j(){for(const a of this.Bd)a.j();fA.D(this.Bd)}oa(){return this.Ta}Uk(){return this.j5}Mi(){return this.It}};"use strict";const jA=self.B;function kA(a,b){b=Math.floor(b);return 0>b||b>=a.iG.length?null:a.iG[b]}
jA.kY=class extends jA.xa{constructor(a){super();this.hi=jA.A(jA.az);aA(this.hi,a);this.wA=a[7];this.wV=jA.A(jA.Cp,a[8],a[9]);this.iG=a[10].map(d=>jA.A(jA.g_,this,d));this.XM=new Map;for(var b of this.iG)this.XM.set(b.oa().toLowerCase(),b);this.Is=null;b=a[11];6<=b.length&&(this.Is=jA.A(jA.Ir,b));this.QH=a[12]?a[12]:"";this.A4=new self.OZ(this)}j(){this.Is&&(this.Is.j(),this.Is=null);this.hi.j();this.hi=null}$b(){return this.hi}Ki(){return this.wV.fa}Li(){return this.wV.ba}Ny(){return this.iG.length}};
"use strict";const lA=self.B;lA.g_=class extends lA.xa{constructor(a,b){super();this.Ta=b[0];this.nO=lA.A(lA.Cp,b[1],b[2])}j(){}oa(){return this.Ta}Y(){return this.nO.fa}Z(){return this.nO.ba}};"use strict";const Ew=self.B,mA=self.Aj,nA=self.$y;function*Rk(a){yield*a.J;yield*xy(a.g,a)}function Zo(a){return oA(a,Ew.ua.jda)}function ep(a){if(a.Zs&&!a.Qa){var b=a.J,d=0;for(let c=b.length;d<c;++d)b[d].WM=d;b=a.g.mq;for(const c of b)c.H()===a&&(b=d++,c.WM=b);a.Zs=!1}}
function Hq(a,b){return a.vl.findIndex(d=>d.name===b)}function yq(a,b){b=Math.floor(b);if(0>b||b>=a.vl.length)throw new RangeError("invalid instance variable index");return a.vl[b].name}function zq(a,b){b=Math.floor(b);if(0>b||b>=a.vl.length)throw new RangeError("invalid instance variable index");return a.vl[b].type}function Iq(a,b){a=a.NL.get(b.toLowerCase());return"undefined"===typeof a?-1:a}
function yv(a){if(a.oN&&!a.Qa){ep(a);var b=a.da(),d=b.J,c=b.lb,e=a.g.tf();e=e&&e.lc()&&e.lc().Te;for(const l of a.ei.Rm)if(l!==a){ep(l);var g=l.da();g.lb=!!c;if(!c){var k=g.J;Ew.D(k);for(const n of d)k.push(pA(l,dp(n)));if(e){k=b.$a;g=g.$a;Ew.D(g);for(const n of k)g.push(pA(l,dp(n)))}}}}}function zu(a,b){return(a=a.WT.get(b.toLowerCase()))&&a.Bb()?a:null}function $v(a,b){return a.LF[b]}function Zw(a,b){a=a.da().qa();return 0<a.length?a[dp(b)%a.length]:null}
function Rx(a,b){if(b&&b.Sc()&&b.H()!==a)for(const d of b.Cd)if(d.H()===a)return d;a=a.da().qa();return a.length?a[0]:null}function*Dy(a,b,d){a=a.da().qa();const c=a.length,e=d.da(),g=d.da().qa(),k=g.length;var l=dp(b);if(d.Qa||!e.lb)l=g.indexOf(b);b=Math.ceil(c/k);d=c%k;0===d||l<d?l*=b:(l=d*b+(l-d)*(b-1),--b);for(let n=l,p=l+b;n<p;++n)yield a[n]}function hz(a,b){return a.wM.has(b)}
function qA(a,b){const d=a.g.BB++,c=Ew.A(Ew.Instance,{sb:a.g,mQ:a,uid:d});c.IE(b[16],[]);a.g.kt.set(d,c);a.J.push(c)}function rA(a,b){for(let d=1,c=b.length;d<c;++d){const e=ln(a.g,b[d]);a.ho.push(e);a.Ss.add(e);e.Yi.push(a);e.wM.add(a)}}
function sA(a){var b=0;if(!a.Qa)for(var d of a.Yi)for(var c of d.HT){var e=c.oa().toLowerCase();a.uv.set(e,c);a.NL.set(e,b);a.bF.push(c);++b}for(var g of a.HT)d=g.oa().toLowerCase(),a.uv.set(d,g),a.NL.set(d,b),a.bF.push(g),++b;for(var k of a.bF)a.rW.add(k.Nh().constructor);if(!a.Qa&&a.Yi.length){b=a.g.hU;Ew.zI(a.Wv,b,0);Ew.zI(a.LF,b,0);Ew.zI(a.xM,b,0);b=[];d=k=g=0;for(const l of a.Yi)if(c=l.Zi,a.Wv[c]=g,g+=l.vl.length,a.LF[c]=k,k+=l.Q3,a.xM[c]=d,d+=l.q4,(c=l.Va)&&a.Va)for(const n of c.Ii()){c=b;e=
c.push;const p=tA.A(tA.iR,a.Va,[n.le,n.Ta],-1);p.Zc=n.Zc;p.Rb=n.Rb;e.call(c,p)}if(a.Va&&(a=a.Va,b.length)){a.bi=b.concat(a.bi);for(const l of b)a.EF.set(l.oa().toLowerCase(),l);for(let l=0,n=a.bi.length;l<n;++l)a.bi[l].qL(l)}}}function oA(a,b){return b&&a.rW.has(b)}function uA(a){return a.vl.map(b=>b.ju)}function vA(a,b){return a.vl.findIndex(d=>d.ju===b)}function sl(a){return a.vl.map(b=>b.B6)}function wA(a){return a.Va&&0<a.Va.bi.length}
function xA(a,b){if(!a.Jc)throw Error("no animations");return a.UE.get(b.toLowerCase())||null}function yA(a){if(a.Jc){if(!a.Jc)throw Error("no animations");a=iA(a.Jc[0],0).$b();return[a.L(),a.K()]}return a.hi?[a.hi.L(),a.hi.K()]:[100,100]}function pA(a,b){var d=a.J;if(b<d.length)return d[b];b-=d.length;d=a.g.mq;for(const c of d)if(c.H()===a){if(0===b)return c;--b}return null}function zA(a){if(a.WE&&a.ue){for(const b of a.J)AA(b.m());for(const b of a.g.mq)b.H()===a&&AA(b.m());a.WE=!1}}
Ew.fE=class extends Ew.xa{constructor(a,b,d){super();const c=Iv(a,d[1]);this.g=a;this.sk=a.Gq.DV.get(c)||null;this.qb=null;this.UA=c.Instance;this.ta=b;this.fb=d[11];this.Ta=d[0];this.kB=this.g.Tk(d[14]);this.I4=!!d[9];this.Qa=!!d[2];this.uN=!!d[10];this.vl=d[3].map(e=>({ju:e[0],type:e[1],name:e[2],B6:a.Tk(e[3])}));this.Q3=d[4];this.q4=d[5];this.ue=this.sk.ue;this.Ub=Ew.A(Ew.Event.ib);this.Va=null;this.kF=Ew.A(Ew.F1,a.gj,a.fj);this.WE=!0;this.Rz=!1;this.Ss=this.ho=null;this.Zi=-1;this.xM=this.LF=
this.Wv=this.wM=this.Yi=null;this.oN=!1;this.ei=null;this.HT=d[8].map(e=>Ew.VQ.Ea(this,e));this.bF=[];this.uv=new Map;this.NL=new Map;this.rW=new Set;this.WT=new Map;this.Ll=Ew.A(Ew.C1,this);this.VE=this.UE=this.Jc=this.hi=this.ei=this.Ms=null;this.xx=0;this.jc=new Map;this.Ek=new Map;this.J=[];this.Zs=!0;this.sk.MJ()&&(this.Va=Ew.A(Ew.Kr,this,d[12]));d[6]&&(this.hi=Ew.A(Ew.az),aA(this.hi,d[6]));if(d[7]){this.Jc=d[7].map(e=>Ew.A(Ew.lY,e));this.UE=new Map;this.VE=new Map;for(const e of this.Jc)this.UE.set(e.oa().toLowerCase(),
e),this.VE.set(e.fb,e)}this.Qa?(this.ho=[],this.Ss=new Set,this.Zi=this.g.hU++):(this.Yi=[],this.wM=new Set,this.Wv=[],this.LF=[],this.xM=[]);this.qb=Ew.A(c.xf,this,d[15]);this.cN=this.QA=null;this.Lf=Ew.A(Ew.Event.ib);if(b=this.qb.Ke()){if(this.QA=new b(this),!(this.QA instanceof nA))throw new TypeError("script interface class must derive from IObjectClass");}else this.QA=new nA(this);this.g.aI&&!this.Qa&&!this.uN&&this.ue||this.ec();this.sk.qq&&(Ez(this.sk,this),qA(this,d));this.WG=null}static Ea(a,
b,d){return Ew.A(Ew.fE,a,b,d)}j(){this.Ub.j();this.Ub=null;this.hi&&(this.hi.j(),this.hi=null);if(this.Jc){for(const a of this.Jc)a.j();Ew.D(this.Jc);this.UE.clear();this.VE.clear()}this.WG=null;this.Ll.j();this.Ll=null;this.jc.clear();this.Ek.clear();this.g=this.ei=null}Sc(){return this.oN}ib(){return this.Ub}ec(){this.Qa||this.qb.ec()}In(a){if(this.Qa)return Promise.resolve();this.xx++;return 1===this.xx?this.qb.In(a)||Promise.resolve():Promise.resolve()}mm(){if(!this.Qa){this.xx--;if(0>this.xx)throw Error("released textures too many times");
0===this.xx&&this.qb.mm()}}hE(){if(this.Qa)throw Error("not applicable to family");this.qb.hE()}fK(a){return this.Qa?Promise.resolve():this.qb.fK(a)}I(){return this.g}pb(){return this.sk}oa(){return this.Ta}Tk(){return this.kB}Ja(){return this.ta}Qf(){return this.I4}MJ(){return this.sk.MJ()}da(){return this.Ll.da()}$b(){return this.hi}Gj(){if(!this.sk.qq)throw Error("not a single-global plugin");return this.J[0]}qa(){return this.J}*TC(){yield*this.J}Ti(a){this.J.push(a)}Bu(a){this.qb.Bu(a)}Fj(){this.jc||
(this.jc=new Map);return this.jc}Wy(){this.Ek||(this.Ek=new Map);return this.Ek}wa(){const a={instances:this.J.map(b=>b.Gc())};this.jc&&this.jc.size&&(a.ex=Ew.MK(this.jc));return a}Aa(a){this.jc&&(this.jc.clear(),this.jc=null);var b=a.ex;b&&(this.jc=Ew.AJ(b));b=this.J;a=a.instances;for(let d=0,c=Math.min(b.length,a.length);d<c;++d)b[d].cc(a[d]);for(let d=a.length,c=b.length;d<c;++d)lo(this.g,b[d]);for(let d=b.length,c=a.length;d<c;++d){b=a[d];let e=null;if(this.ue&&(e=Oo(this.g.ub(),b.w.l),!e))continue;
oo(this.g,this.Ms||this,e,!1,0,0,!0).cc(b)}this.WG=a;this.Zs=!0}Lz(){for(let a=0,b=this.J;a<b;++a)this.J[a].Lz()}Mh(a){var b=this.g;(b=b.Sb&&!Wk(b.Ga()))&&mA.LK();this.Lf.dispatchEvent(a);b&&mA.jJ()}};"use strict";const BA=self.B;function np(a){return a.Rm.some(b=>b.ue)}BA.RY=class extends BA.xa{constructor(a,b){super();this.g=a;this.Rm=b;for(const d of this.Rm)d.oN=!0,d.ei=this}j(){this.g=null}I(){return this.g}};"use strict";const tl=self.B,CA=self.Aj,DA=self.Ni,EA=[];let FA=0;
const GA=new WeakMap,HA=new WeakMap;function Sk(a){var b;if(!(b=a.Re)){var d=a.Xa?self.Ec:DA;const c=a.ja.Ke(),e=(b=a.nf.cN)||c||d;DA.fl(a);a.Re=new e;DA.fl(null);if(c&&!(a.Re instanceof d))throw new TypeError(`script interface class '${c.name}' does not extend the right base class '${d.name}'`);if(b&&(d=c||d,!(a.Re instanceof d)))throw new TypeError(`setInstanceClass(): class '${b.name}' does not extend the right base class '${d.name}'`);b=a.Re}return b}
function Vk(a){const b=new Set;b.add(a);const d=a.m();if(d&&d.vf())for(const c of a.Gk())if(b.add(c),c.Sc())for(const e of c.Cd)b.add(e);if(a.Sc())for(const c of a.Cd)b.add(c);for(const c of b.values())kp(c)}function ul(a){const b=a.ne;return-1===b?a.I().ne:b}function ip(a){var b=a.m();if(b&&(b=IA(b)))for(const d of b)if(b=tq(a.g,d[2])){const c=d[3];a.zj(b,{ou:!!(c>>0&1),pu:!!(c>>1&1),xr:!!(c>>2&1),vr:!!(c>>3&1),ku:!!(c>>4&1),Wx:!!(c>>5&1),qu:!!(c>>6&1),mu:!!(c>>7&1),nu:!!(c>>8&1)})}}
function jp(a,b,d){if(b=b.get(a))for(const c of b.sceneGraphJson.children){b=d.get(c.index);if(!b)continue;const e=c.flags;a.zj(b,{ou:!!(e>>0&1),pu:!!(e>>1&1),xr:!!(e>>2&1),vr:!!(e>>3&1),ku:!!(e>>4&1),Wx:!!(e>>5&1),qu:!!(e>>6&1),mu:!!(e>>7&1),nu:!!(e>>8&1)})}}function kp(a){a.nf.cN&&Sk(a);if(JA(a,"instancecreate")){const b=a.H(),d=new tl.Event("instancecreate");d.instance=Sk(a);b.Mh(d);for(const c of b.Yi)c.Mh(d);a.g.Mh(d)}a.g.pa(a.pb().constructor.G.a0,a,null)}
function dp(a){ep(a.nf);return a.WM}function uq(a){return 0!==(a.F&1)}function dr(a,b){a=a.wd;for(let d=0,c=a.length;d<c;++d)if(a[d].pg().fb===b)return d;return-1}function Jr(a,b){b|=0;a=a.Jg;if(0>b||b>=a.length)throw new RangeError("invalid instance variable");return a[b]}function Pu(a){for(const b of a.Cd)Ht(b.H().da(),b)}function yy(a,b){b.Qa?(a=a.H(),b=b.Ss.has(a)):b=a.H()===b;return b}function KA(a,b){0<b.length&&(a.Jg=[],tl.Pd(a.Jg,b))}
function LA(a){const b=a.nf.vl.length;if(0!==b){a.Jg=[];var d=[0,0,""];for(let c=0;c<b;++c)a.Jg.push(d[zq(a.nf,c)])}}function MA(a,b,d){b<<=16;a.F=d?a.F|b:a.F&~b}function NA(a,b){return 0!==(a.F&b<<16)}function OA(a,b,d,c){const e=(g,k)=>{k=k||g.H();const l=b.get(k);l?l.add(g):b.set(k,new Set([g]))};e(a,d);if(a.Sc())for(const g of a.Cd)e(g);if(c)for(const g of a.Gk())e(g)}function PA(a){if(!a.pb().hW)throw Error("object does not support scene graph");}
function QA(a,b){a=a.m();if(!a)return[];const d=b.oa();return a.He().map(c=>c.ga()).filter(c=>c.H().oa()===d)}function RA(a,b){a=a.Cd;if(null===a||0===a.length)return!1;for(const d of a)if(d.H()===b)return d;return null}function JA(a,b){const d=a.H();if(d.Lf.eo.has(b))return!0;for(const c of d.Yi)if(c.Lf.eo.has(b))return!0;return a.g.Lf.eo.has(b)?!0:!1}
tl.Instance=class extends tl.xa{constructor(a){super();this.g=a.sb;this.nf=a.mQ;this.Re=this.ja=this.Xa=null;this.WM=0;this.Yb=a.uid;this.IV=FA++;this.F=0;this.wd=this.Jg=EA;var b=this.nf.bF;0<b.length&&(this.wd=b.map((d,c)=>tl.A(tl.rD,{sb:this.g,vP:d,instance:this,index:c})));this.Cd=this.nf.Sc()?[]:null;this.ne=-1;this.Ub=null;b=this.pb();b.hz()&&(this.F|=4);if(b.ue)if(this.Xa=tl.A(tl.H2,this,a.GI),a.WX)this.Xa.En(a.WX);else{SA(this.Xa);const [d,c]=yA(this.nf);this.Xa.vd(d,c);wA(this.H())&&TA(this.Xa.Yf)}a.jX?
KA(this,a.jX):LA(this)}j(){this.Re&&(this.Re.Gz(),this.Re=null);if(0<this.wd.length){for(var a of this.wd)a.j();tl.D(this.wd)}this.ja.j();this.ja=null;if(a=GA.get(this))a.clear(),GA.delete(this);if(a=HA.get(this))a.clear(),HA.delete(this);this.Cd&&tl.D(this.Cd);this.Ub&&(this.Ub.j(),this.Ub=null);this.nf=this.g=null;0<this.Jg.length&&tl.D(this.Jg);this.Xa&&(this.Xa.j(),this.Xa=null)}IE(a,b){if(this.ja)throw Error("already got sdk instance");for(let d=0,c=this.wd.length;d<c;++d)this.wd[d].IE(b?b[d]:
null);this.ja=tl.A(this.nf.UA,this,a);if(!(this.ja instanceof tl.hs))throw Error("sdk type must derive from SDKInstanceBase");!this.pb().ue&&this.nf.cN&&Sk(this);for(let d=0,c=this.wd.length;d<c;++d);}m(){return this.Xa}I(){return this.g}sz(a){a=+a;if(0>a||!isFinite(a))a=0;this.ne=a;wA(this.H())&&UA(this.g,this,!0)}ib(){this.Ub||(this.Ub=tl.A(tl.Event.ib));return this.Ub}ng(a){this.ja.ng(a)}ec(a){this.ja.ec(a)}Wk(){return 0!==(this.F&2)}gL(){this.F|=1}hz(){return 0!==(this.F&4)}Yd(){return this.ja.Yd()}LD(){return this.ja.LD()}MD(){return this.ja.MD()}aE(){return this.ja.aE()}hm(a){return this.ja.hm(a)}H(){return this.nf}xp(){return this.ja.xp()}sg(){return null!==
this.Ia()}Ia(){var a=this.m();return a?(a=a.Ia())?a.ga():null:null}pp(){var a=this.m();return a?(a=a.pp())?a.ga():null:null}*ky(){const a=this.m();if(a)for(const b of a.ky())yield b.ga()}LJ(a){if(!a)return!1;for(const b of this.children())if(b===a)return!0;return!1}vf(){const a=this.m();return a?a.vf():!1}He(){const a=this.m();return a?a.He().map(b=>b.ga()):[]}*children(){const a=this.m();if(a)for(const b of a.children())yield b.ga()}*Gk(){const a=this.m();if(a)for(const b of a.Gk())yield b.ga()}KD(){const a=
this.m();return a?a.KD():0}GD(){const a=this.m();return a?a.GD():0}JD(a){const b=this.m();return b?(a=b.JD(a))?a.ga():null:null}zj(a,b){PA(this);PA(a);this.m().zj(a.m(),b||{})}nm(a){const b=this.m();b&&b.nm(a.m())}Jy(){const a=this.m();return a?a.Jy():!1}Iu(){var a=this.g.nj;a=a?a.lo?(a=a.lo.get(this))?a:"":"":"";return a}Sc(){return null!==this.Cd}pb(){return this.nf.pb()}g3(a){const b=this.Jg[a];return 0===zq(this.nf,a)?!!b:b}yp(a,b){a|=0;const d=this.Jg;if(0>a||a>=d.length)throw new RangeError("invalid instance variable");
switch(zq(this.nf,a)){case 0:d[a]=b?1:0;break;case 1:d[a]="number"===typeof b?b:parseFloat(b);break;case 2:d[a]="string"===typeof b?b:b.toString();break;default:throw Error("unknown instance variable type");}}Fj(){let a=GA.get(this);if(a)return a;a=new Map;GA.set(this,a);return a}Wy(){let a=HA.get(this);if(a)return a;a=new Map;HA.set(this,a);return a}Gc(a="full"){const b={};"full"===a?b.uid=this.Yb:b.c3=!0;if("visual-state"!==a){var d=GA.get(this);d&&d.size&&(b.ex=tl.MK(d));-1!==this.ne&&(b.mts=this.ne);
if(0<this.nf.vl.length){d={};var c=uA(this.nf);for(let e=0,g=this.Jg.length;e<g;++e)d[c[e].toString()]=this.Jg[e];b.ivs=d}if(this.wd.length){d={};for(const e of this.wd)(c=e.Gc())&&(d[e.pg().fb.toString()]=c);b.behs=d}}this.Xa&&(b.w=this.Xa.wa(a));(a=this.ja.Gc())&&(b.data=a);return b}hv(a="full"){this.Xa&&this.Xa.hv(a)}Ui(a,b="full",d=null){this.Xa&&this.Xa.Ui(a,b,d)}hL(a,b="full",d=null){this.Xa&&this.Xa.hL(a,b,d)}Lz(){this.pb().ue&&this.Xa.Lz()}cc(a,b="full"){if("full"===b)this.Yb=a.uid;else if(!a.c3)return;
if("visual-state"!==b){var d=GA.get(this);d&&(d.clear(),GA.delete(this));if(d=a.ex)d=tl.AJ(d),GA.set(this,d);this.ne=a.hasOwnProperty("mts")?a.mts:-1;if(d=a.ivs)for(const [g,k]of Object.entries(d))if(d=vA(this.nf,parseInt(g,10)),!(0>d||d>=this.Jg.length)){var c=k;null===c&&(c=NaN);this.Jg[d]=c}}if(this.pb().ue){d=a.w;var e=d.l;this.Xa.V().fb!==e&&(c=this.Xa.V(),(e=Oo(c.Xb(),e))?(Xo(this.Xa,e),c.us(this,!0),e.Ti(this,!0),nn(e),T(this.Xa)):"full"===b&&lo(this.g,this));this.Xa.Aa(d,b)}if("visual-state"!==
b&&(d=a.behs))for(const [g,k]of Object.entries(d))d=dr(this,parseInt(g,10)),0>d||d>=this.wd.length||this.wd[d].cc(k);(a=a.data)&&this.ja.cc(a,b)}Mh(a){if(this.Re){var b=Sk(this);a.instance=b;var d=this.g;(d=d.Sb&&!Wk(d.Ga()))&&CA.LK();b.dispatchEvent(a);d&&CA.jJ()}}};"use strict";const VA=self.B;
function rp(a){let b;b=0|Number(0!==(a.F&8388608))<<8;b|=Number(Zr(a))<<7;b|=Number(0!==(a.F&32768))<<6;b|=Number(a.Jy())<<5;b|=Number(0!==(a.F&16384))<<4;b|=Number(Tr(a))<<3;b|=Number(Pr(a))<<2;b|=Number(WA(a))<<1;return b|=Number(XA(a))<<0}function Qr(a){return 0===a.LH?Number.EPSILON:a.LH}
function Sr(a){if(Pr(a.Cb)){var b=a.Lc;a=b.L();let d=Qr(b.Na);0===a&&(a=Number.EPSILON);return d===Number.EPSILON&&a===Number.EPSILON?1:d===Number.EPSILON&&a!==Number.EPSILON&&(b=b.ga().ja,b.eh())?1+a/b.ah():a/d}return 1}function Ur(a){return 0===a.IH?Number.EPSILON:a.IH}function Vr(a){if(Tr(a.Cb)){var b=a.Lc;a=b.K();let d=Ur(b.Na);0===a&&(a=Number.EPSILON);return d===Number.EPSILON&&a===Number.EPSILON?1:d===Number.EPSILON&&a!==Number.EPSILON&&(b=b.ga().ja,b.eh())?1+a/b.$g():a/d}return 1}
function YA(a,b){a.Tm=a.Cb.bd();a.KH=a.Tm;a.Lc=b;a.lH=b?b.Ka():0}function ZA(a){a.vf()&&a.qj&&1!==a.Gv.length&&a.Gv.sort((b,d)=>{b=a.qj.get(b.ga());d=a.qj.get(d.ga());return VA.Rc(b)&&VA.Rc(d)?b-d:0})}function $A(a,b){return a.Gv.map(d=>aB(d,d,b))}
function aB(a,b,d){a=a.ga();const c={};c.uid=a.Yb;let e="";XA(b)&&(e+="x");WA(b)&&(e+="y");Pr(b)&&(e+="w");Tr(b)&&(e+="h");0!==(b.F&16384)&&(e+="a");0!==(b.F&32768)&&(e+="z");b.Jy()&&(e+="d");Zr(b)&&(e+="o");0!==(b.F&8388608)&&(e+="v");c.f=e;c.offsets={x:b.fa,y:b.ba,z:b.Ed,w:b.rf,h:b.mf,a:b.Oa};c.data=bB(a);c.oci=a.H().Ja();"state"===d?(c.inst=a.Gc(),c.instIndex=NaN):(c.instIndex=a.H().qa().indexOf(a),c.inst=null);return c}
function bB(a){let b=a.m().V().$M.get(a.Yb);if(!b)return null;b=JSON.parse(JSON.stringify(b));const d=[];for(const c of[...a.He()]){const e=c.m();d.push([e.Xb().fb,e.V().Ja(),c.Yb,rp(e),c.H().Sc()?1:0,Dl(e),bB(c)])}VA.Xk(b[0][14])?b[0][14][1]=d:(b[0][14]=[],b[0][14][0]=511,b[0][14][1]=d,b[0][14][2]=Dl(a.m()));return b}
function cB(a){const b={};b.ou=a.includes("x");b.pu=a.includes("y");b.xr=a.includes("w");b.vr=a.includes("h");b.ku=a.includes("a");b.qu=a.includes("z");b.Wx=a.includes("d");b.mu=a.includes("o");b.nu=a.includes("v");return b}function dB(a,b){if(VA.Rc(a.instIndex))return ln(b,a.oci).WG[a.instIndex];if(VA.Pi(a.inst))return JSON.parse(a.inst);if(a.inst)return a.inst}function eB(a,b,d,c,e=!0){a.Cb.zj(b,cB(d.f))&&e&&(c.has(b)||fB(b,d.offsets),c.add(b));ZA(a)}
function gB(a,b){return a.filter(d=>d.H().oa()===b.oa()).length}function hB(a,b){if(VA.Rc(b.oci)){var d=a.Cb;a=d.I();if(b.data)d=oo(a,b.data,d.V(),!1,0,0,!1,!0);else{const c=ln(a,b.oci);d=Tk(a,c,d.V(),0,0,!0)}if(d)return b=dB(b,a),d.cc(b),b=d.m(),cn(b.V(),d,!0),b}}
VA.m1=class extends VA.xa{constructor(a){super();this.Cb=a;this.Lc=null;this.Gv=[];this.LH=a.L();this.IH=a.K();this.ox=this.nx=1;this.lH=0;this.Tm=1;this.KH=a.bd();this.qj=this.Be=null}j(){this.qj=this.Be=this.Lc=null;VA.D(this.Gv)}Ia(){return this.Lc}vf(){return 0<this.Gv.length}He(){return this.Gv}wa(a){var b=this.LH,d=this.IH,c=this.nx,e=this.ox,g=this.lH,k=this.Tm,l=this.KH;var n=this.Lc&&this.Lc.ga()&&!uq(this.Lc.ga())?aB(this.Lc,this.Cb,a):null;return{sw:b,sh:d,sx:c,sy:e,psa:g,oo:k,so:l,p:n,
c:$A(this,a)}}Aa(a){this.LH=a.sw;this.IH=a.sh;this.nx=a.sx;this.ox=a.sy;this.lH=a.psa;this.Tm=a.oo;this.KH=a.so}Ui(a,b){const d=this.Cb,c=d.I(),e=new Set;if(a.p&&!this.Lc){var g=tq(c,a.p.uid);if(g){var k=g.m();g.LJ(this.Cb.ga())?this.Lc=k:(g.zj(this.Cb.ga(),cB(a.p.f)),e.has(this.Cb)||fB(this.Cb,a.p.offsets),e.add(this.Cb),ZA(g.m().Na))}else VA.Rc(a.p.oci)&&(g=ln(c,a.p.oci),g=Tk(c,g,d.V(),0,0,!0))&&(k=dB(a.p,c),g.cc(k),cn(g.m().V(),g),g.zj(d.ga(),cB(a.p.f)),ZA(g.m().Na))}g=[];for(var l of a.c)(k=tq(c,
l.uid))&&g.push(k);l=0;for(const r of a.c){if(k=tq(c,r.uid)){if(this.Be&&this.Be[l]){var n=this.Be[l];if(n.H()!==k.H()){l++;continue}if(uq(n)){l++;continue}k=a.c[l];b&&b.x5?eB(this,n.m(),k,e,!0):eB(this,n.m(),k,e,!1);l++;continue}var p=k.H();n=gB(g,p);p=QA(d.ga(),p).length;if(n===p){if(k=d.ga().JD(l).m())e.has(k)||fB(k,r.offsets),e.add(k);l++;continue}if(k.sg()){k=hB(this,r);eB(this,k,r,e);l++;continue}eB(this,k.m(),r,e)}else if(this.Be&&this.Be[l]){k=this.Be[l];n=ln(c,VA.Rc(r.oci)?r.oci:r[1]);if(k.H()!==
n){l++;continue}if(uq(k)){l++;continue}n=a.c[l];eB(this,k.m(),n,e)}else k=hB(this,r),eB(this,k,r,e);l++}}};"use strict";const Xr=self.B,iB=Xr.A(Xr.Rect),jB=Xr.A(Xr.ed),kB=Xr.A(Xr.Event,"bboxchange",!1),Er=Xr.A(Xr.mb,0,0,0,0),ag=Xr.A(Xr.Ir),lB=Xr.A(Xr.mb,1,1,1,1),mB=Xr.A(Xr.Rect,0,0,-1,-1),nB=Xr.A(Xr.Rect,0,0,-1,-1),oB=new Set(["absolute","relative"]),pB=[];let qB=!0;const rB=new WeakMap,sB=new WeakMap;
function T(a){a.F|=65554;a.R.WE=!0;a.g.M();hn(a.Dl)&&(tB(a,a.QL,a.RL,!0),a.F&=-3,uB(a));0!==(a.F&4)&&a.N.ib().dispatchEvent(kB);if(null!==a.Na){a=a.Na.He();for(let b=0,d=a.length;b<d;++b)T(a[b])}}
function Bl(a,b,d){b=+b;d=+d;if(0!==(a.F&3072)){const e=XA(a),g=WA(a),k=a.Na,l=b-a.Y(),n=d-a.Z();var c=-vB(a);if(0===c)a.fa=e?a.fa+l/Sr(k):b,a.ba=g?a.ba+n/Vr(k):d;else{const p=Math.sin(c);c=Math.cos(c);a.fa=e?g?a.fa+(c*l-p*n)/Sr(k):a.fa+c*l/Sr(k):b;a.ba=g?e?a.ba+(p*l+c*n)/Vr(k):a.ba+c*n/Vr(k):d}}else a.fa=b,a.ba=d}function Cl(a){wB(a);return a.QL}function Dl(a){Pn(a.Dl);return a.wj}function El(a,b,d){return Cl(a).Fh(b,d)&&xB(a).Fh(b,d)?a.Wk()?void 0:yB(a)?zB(a).Fh(b-a.Y(),d-a.Z()):!0:!1}
function mo(a){const b=a.NB;b!==mB&&(a.V().gx.Ln(a.N,b,null),a.NB=mB)}function po(a,b,d){b=+b;d=+d;0!==(a.F&3072)?Bl(a,a.Y()+b,a.Z()+d):(a.fa+=b,a.ba+=d)}function bo(a,b,d,c){d&&0!==a.Wc?a=vo(a,io(a.V())):0===a.Sa()||c?a=oc(b,Cl(a)):(b=a.V(),d=eo(a),d>=b.Ie()/tn(b)?a=!1:(un(b,d,iB),a=oc(iB,Cl(a))));return a}
function vo(a,b){var d=Cl(a);const c=d.ca,e=d.la,g=d.aa;d=d.ka;const k=eo(a);a=k+a.Wc;return jf(c,g,k,e,d,a,b.aV)&&jf(c,g,k,e,d,a,b.nW)&&jf(c,g,k,e,d,a,b.PV)&&jf(c,g,k,e,d,a,b.IT)&&jf(c,g,k,e,d,a,b.XN)&&jf(c,g,k,e,d,a,b.iU)}function eo(a){return a.V().Sa()+a.Sa()}function dn(a){a=sB.get(a);return Xr.Rc(a)?a:NaN}function Xo(a,b,d){(d=d&&a.Dl!==b)&&mo(a);a.Dl=b;d&&uB(a);0!==a.Sa()&&(a.Dl.Qn=!0)}function Nr(a,b,d=!1){b=+b;d?a.fa+=b:XA(a)?a.Nj(a.Y()+b):a.fa+=b}
function Or(a,b,d=!1){b=+b;d?a.ba+=b:WA(a)?a.Oj(a.Z()+b):a.ba+=b}function Pr(a){return 0!==(a.F&4096)}function Tr(a){return 0!==(a.F&8192)}function Wr(a,b,d){b=+b;d?a.mf+=b:Tr(a)?a.Uh(a.K()+b):a.mf+=b;Yr(a)}function Zr(a){return 0!==(a.F&4194304)}function Sw(a){const b=a.V();if(wn(b))return vo(a,io(b));const d=b.Xb();return bo(a,yn(b),ao(d),d.Kg)}function ax(a){AB(a);return a.eM}function bx(a){AB(a);return a.EO}function Fr(a,b){Xb(a.yb,b)||(Vb(Er,b),Er.a=a.bd(),BB(a))}
function Jy(a){a.qk&&(a.qk.GQ.j(),a.qk.OX.j(),a.qk=null,CB(a))}function Ky(a,b,d){b=Math.floor(b);d=Math.floor(d);if(!a.ga().pb().m5)throw Error("object does not support mesh");Jy(a);a.qk={GQ:Xr.A(Xr.T.XR,b,d),OX:Xr.A(Xr.T.XR,b,d),fQ:null}}function Ny(a){return null!==a.qk}function Oy(a){if(!Ny(a))throw Error("no mesh");return a.qk.GQ}
function AA(a){if(0!==(a.F&16)&&a.dh()&&0===(a.F&256)){var b=Cl(a),d=a.R.kF,c=a.jF;iB.set(d.dl(b.ca),d.el(b.aa),d.dl(b.la),d.el(b.ka));c.Wd(iB)||(b=a.N,c===nB?(d.Ln(b,null,iB),a.jF=Xr.A(Xr.Rect,iB)):(d.Ln(b,c,iB),c.Ca(iB)),a.F&=-17)}}function SA(a){a.fa=0;a.ba=0;a.Ed=0;a.rf=0;a.mf=0;a.Wc=0;a.Oa=0;a.EO=0;a.eM=1;a.Sw=0;a.Tw=0;DB(a)}function IA(a){return(a=rB.get(a))?a.zP:null}function XA(a){return 0!==(a.F&1024)}function WA(a){return 0!==(a.F&2048)}
function fB(a,b){b&&(a.fa=b.x,a.ba=b.y,a.Ed=b.z,a.rf=b.w,a.mf=b.h,a.Oa=b.a,Yr(a),T(a))}function EB(a){a.Na&&(a.Na.j(),a.Na=null)}function GB(a){a.Be&&(a.Be.length=0);a.Be=null;a.qj=null;const b=a.Ia();b&&GB(b);a.rC=-1}function BB(a){var b=Er;a.yb.Wd(b)||(a.yb===lB?(a.yb=Xr.A(Xr.mb,b),a.Js=Xr.A(Xr.mb,b),Zb(a.Js)):Yb(b,1,1,1,1)?(a.yb=lB,a.Js=lB):(a.yb.set(b),a.Js.set(b),Zb(a.Js)),DB(a))}
function DB(a){if(qB){var b=a.g.Ba();a.Mt&&Ff(b,a.Mt);var d=0!==(a.F&524288)?b.gC||"<point>":b.Lt||"<default>",c=a.em(),e=a.Js,g=a.Sa();const k=Gf(d,c,e,g);let l=b.Nt.get(k);l||(l=lf.A(lf.T.J1,b,d,c,e,g),b.Nt.set(k,l));++l.Nc;a.Mt=l}}function HB(a,b){Pr(a)&&0>a.pp().L()&&(b=Xr.Od(Xr.IW(b,a.pp().Ka()+Math.PI)));Tr(a)&&0>a.pp().K()&&(b=Xr.IW(b,a.pp().Ka()));return b}function IB(a){return 0!==(a.F&16384)&&a.Hn()?Xr.Od(IB(a.Ia())+a.Oa):a.Oa}
function vB(a){return 0!==(a.F&16384)?HB(a,IB(a.Ia())-a.Na.lH):0}function JB(a){DB(a);if(a.vf()){a=a.He();for(let b=0,d=a.length;b<d;b++){const c=a[b];0!==(c.F&32768)&&JB(c)}}}function Yr(a){a.F|=262144;if(a.vf()){a=a.He();for(let b=0,d=a.length;b<d;b++)Yr(a[b])}}function KB(a,b){if(0>b)throw new RangeError("invalid depth");a.Wc=b}function AB(a){const b=a.F;if(0!==(b&262144)){var d=a.Ka();a.EO=Math.sin(d);a.eM=Math.cos(d);a.F=b&-262145}}
function LB(a){if(a.vf()){a=a.He();for(let d=0,c=a.length;d<c;d++){const e=a[d];var b=e.bd();Vb(Er,e.yb);Er.a=b;BB(e);LB(e)}}}function MB(a,b){if(a.LJ(b))return!0;for(const d of a.He())if(MB(d,b))return!0;return!1}function NB(a,b){if(!a.sg())return!1;a=a.Ia();return a===b?!0:NB(a,b)}function OB(a,b){b?(PB(b,null),PB(a,b)):(a.Na&&YA(a.Na,null),a.vf()||EB(a))}
function QB(a){RB(a);if(!a.Be){var b=[...a.children()];b.length&&(a.Be=[],a.qj=new WeakMap);let d=0;for(const c of b)b=c.ga(),a.Be.push(b),a.qj.set(b,d),d++}(a=a.Ia())&&QB(a)}function SB(a){QB(a);var b=[...a.children()];for(const d of b)a.nm(d);(b=a.Ia())&&b.nm(a);a.F&=-12647937}function RB(a){if(-1===a.rC){var b=[...a.ky()];a.rC=b.length;for(const d of b)RB(d);a=[...a.children()];for(const d of a)RB(d)}}function PB(a,b){a.Na||(a.Na=Xr.A(Xr.m1,a));b&&YA(a.Na,b)}
function uB(a){const b=a.V();if(hn(b)&&0===(a.F&256)){var d=b.gx,c=Cl(a),e=a.NB;iB.set(d.dl(c.ca),d.el(c.aa),d.dl(c.la),d.el(c.ka));e.Wd(iB)||(c=a.N,e===mB?(d.Ln(c,null,iB),a.NB=Xr.A(Xr.Rect,iB)):(d.Ln(c,e,iB),e.Ca(iB)),b.CG=!1)}}function TB(a){const b=a.jF;b!==nB&&(a.R.kF.Ln(a.N,b,null),a.jF=nB)}function $B(a,b){b=!!b;a.dh()!==b&&(a.Gb(8,b),b?T(a):TB(a))}
function tB(a,b,d,c){const e=a.Y(),g=a.Z();var k=a.L(),l=a.K();const n=a.Ka();gc(b,e-a.Sw*k,g-a.Tw*l,k,l);if(c&&Ny(a)){c=a.qk.GQ;k=Math;l=k.min;Xf(c);k=l.call(k,c.nV,0);l=Math;var p=l.min;Xf(c);l=p.call(l,c.oV,0);p=Math;var r=p.max;Xf(c);p=r.call(p,c.iV,1);r=Math;var u=r.max;Xf(c);r=u.call(r,c.jV,1);u=b.width();const x=b.height();b.offsetLeft(k*u);b.offsetTop(l*x);b.la+=+((p-1)*u);b.ka+=+((r-1)*x);Xf(c);a.Wc=c.kV}0===n?d.ef(b):(b.offset(-e,-g),sc(d,b,bx(a),ax(a)),d.offset(e,g),d.NP(b));b.normalize()}
function wB(a){const b=a.F;0!==(b&2)&&(tB(a,a.QL,a.RL,!0),a.F=b&-3)}function xB(a){wB(a);return a.RL}function aC(a,b){var d=a.Y();a=a.Z();d=Math.round(d)-d;a=Math.round(a)-a;if(0===d&&0===a)return b;jB.Ca(b);jB.offset(d,a);return jB}function CB(a){a.Gb(131072,!0);a=a.Gx;null!==a&&(a.width=NaN)}function bC(a,b){a.HH=b;CB(a);Ny(a)&&(a.qk.fQ=null)}function yB(a){return null!==a.HH||Ny(a)}
function zB(a){{var b=a.L();var d=a.K(),c=a.Ka(),e=bx(a),g=ax(a);let r=a.Gx;null===r&&(r={vX:Xr.A(Xr.Ir),width:NaN,height:NaN,angle:NaN},a.Gx=r);const u=r.vX;if(r.width!==b||r.height!==d||r.angle!==c){var k=a.HH;if(Ny(a)){const x=a.Ki(),y=a.Li();var l=Oy(a),n=a.qk.fQ;n||(k?(ag.Ca(k),ag.offset(x,y)):Cc(ag,Ac),n=$f(l),a.qk.fQ=n);a=[];n=n.xe;for(let F=0,J=n.length;F<J;F+=2){const [H,L]=bg(l,n[F],n[F+1]);a.push(H,L)}l=a;n=[];a=l[0];k=l[1];let A=a-l.at(-2),D=k-l.at(-1);for(let F=0,J=l.length;F<J;F+=2){var p=
(F+2)%J;const H=l[p];p=l[p+1];const L=H-a,Y=p-k,da=1E-7>Math.abs(Y)&&1E-7>Math.abs(D)&&Math.sign(L)===Math.sign(A);(!(1E-7>Math.abs(L)&&1E-7>Math.abs(A)&&Math.sign(Y)===Math.sign(D)||da)&&.001<Math.abs(L/A-Y/D)||0==L&&0===Y)&&n.push(a,k);a=H;k=p;A=L;D=Y}6<=n.length&&n.length<l.length&&Uf.Pd(l,n);Cc(u,l);u.offset(-x,-y);Fc(u,b,d,e,g)}else k?(u.Ca(k),Fc(u,b,d,e,g)):Dc(u,xB(a),-a.Y(),-a.Z());r.width=b;r.height=d;r.angle=c}b=u}return b}function cC(a){if(!Ny(a))throw Error("no mesh");return a.qk.OX}
Xr.H2=class extends Xr.xa{constructor(a,b){super();this.N=a;this.R=a.H();this.g=a.I();this.Dl=b;this.wj=-1;this.F=196635;this.R.pb().Hn()&&(this.F|=128);this.Tw=this.Sw=this.eM=this.EO=this.Oa=this.Wc=this.mf=this.rf=this.Ed=this.ba=this.fa=NaN;this.QL=Xr.A(Xr.Rect);this.RL=Xr.A(Xr.ed);this.jF=nB;this.NB=mB;this.Ck=this.Gx=this.HH=null;this.Js=this.yb=lB;this.Yf=this.Mt=null;wA(this.N.H())&&(this.Yf=Xr.A(Xr.i_,this.N,this));this.qj=this.Be=this.Na=null;this.rC=-1;this.qk=null}gL(){this.F|=256}j(){this.Mt&&
(Ff(this.g.Ba(),this.Mt),this.Mt=null);this.HH=null;this.Gx&&(this.Gx.vX.j(),this.Gx=null);this.Ck&&(this.Ck.clear(),this.Ck=null);Jy(this);this.Yf&&this.Yf.j();this.sg()&&this.Ia().nm(this);if(this.vf()){const a=[...this.He()];for(const b of a)this.nm(b)}EB(this);GB(this);rB.delete(this);sB.delete(this);this.Dl=this.g=this.R=this.N=null}En(a){qB=!1;Bl(this,a[0],a[1]);this.wf(a[2]);this.vd(a[3],a[4]);this.Wc=0;this.Hn()?this.Gd(a[6]):this.Oa=0;cc(Er,a[7]);BB(this);this.Lj(a[8]);this.Mj(a[9]);this.te(a[10]);
if(this.Yf){var b=this.Yf,d=a[12],c=0;for(var e of d)b.Ld.push(b.fL(c,e)),++c;b.mv();b.Yh()}a[14]&&rB.set(this,{zP:a[14][1],PQ:a[14][2]});if(a[15]){d=a[15];Ky(this,d[0],d[1]);b=Oy(this);d=d[2];for(let g=0,k=d.length;g<k;++g){c=d[g];for(let l=0,n=c.length;l<n;++l){e=c[l];const p=Yf(b,l,g);p.Nj(e[0]);p.Oj(e[1]);p.wf(e[2]);p.Ch=e[3];p.Eh=e[4]}}}a[16]&&(b=a[16][0],a=a[16][1],d=!!a,c=!d,e=this.g.nj,d&&e&&zt(e,this.ga(),a),c&&e&&zt(e,this.ga(),b));qB=!0;DB(this)}I(){return this.g}H(){return this.R}ga(){return this.N}Nj(a){a=
+a;if(XA(this)){const b=this.Na;a-=this.Y();const d=-vB(this);0===d?this.fa+=a/Sr(b):(this.fa+=Math.cos(d)*a/Sr(b),WA(this)&&(this.ba+=Math.sin(d)*a/Vr(b)))}else this.fa=a}Y(){if(XA(this)){let a=this.fa;const b=this.Na,d=this.Ia(),c=vB(this);0===c?a*=Sr(b):(a=a*Sr(b)*Math.cos(c),WA(this)&&(a-=this.ba*Vr(b)*Math.sin(c)));return d.Y()+a}return this.fa}Oj(a){a=+a;if(WA(this)){const b=this.Na;a-=this.Z();const d=-vB(this);0===d?this.ba+=a/Vr(b):(XA(this)&&(this.fa-=Math.sin(d)*a/Sr(b)),this.ba+=Math.cos(d)*
a/Vr(b))}else this.ba=a}Z(){if(WA(this)){let a=this.ba;const b=this.Na,d=this.Ia(),c=vB(this);0===c?a*=Vr(b):(a=a*Vr(b)*Math.cos(c),XA(this)&&(a+=this.fa*Sr(b)*Math.sin(c)));return d.Z()+a}return this.ba}wf(a){a=+a;0!==(this.F&32768)&&(a-=this.Ia().Sa());this.Ed!==a&&(this.Ed=a,JB(this),a=this.V(),0!==this.Ed&&(a.Qn=!0),nn(a))}Sa(){return 0!==(this.F&32768)?this.Ia().Sa()+this.Ed:this.Ed}ih(a){a=+a;if(Pr(this)){const b=this.L();this.rf=0===b?Number.EPSILON:a/b*this.rf}else this.rf=a;Yr(this)}lm(a,
b){a=+a;b?this.rf+=a:Pr(this)?this.ih(this.L()+a):this.rf+=a;Yr(this)}L(){if(Pr(this)){const a=this.Ia(),b=a.L();return Qr(a.Na)===Number.EPSILON?(Qr(this.Na)+b)*this.rf:b*this.rf}return this.rf}Uh(a){a=+a;if(Tr(this)){const b=this.K();this.mf=0===b?Number.EPSILON:a/b*this.mf}else this.mf=a;Yr(this)}K(){if(Tr(this)){const a=this.Ia(),b=a.K();return Ur(a.Na)===Number.EPSILON?(Ur(this.Na)+b)*this.mf:b*this.mf}return this.mf}vd(a,b){a=+a;b=+b;if(Pr(this)){const d=this.L();this.rf=0===d?Number.EPSILON:
a/d*this.rf}else this.rf=a;Tr(this)?(a=this.K(),this.mf=0===a?Number.EPSILON:b/a*this.mf):this.mf=b;Yr(this)}Hn(){return 0!==(this.F&128)}Gd(a){a=+a;this.Hn()&&(0!==(this.F&16384)&&(a-=this.Ia().Ka()),a=Xr.Od(a),this.Oa!==a&&(this.Oa=a,Yr(this)))}Ka(){return 0!==(this.F&16384)&&this.Hn()?HB(this,Xr.Od(IB(this.Ia())+this.Oa)):this.Oa}Lj(a){this.Sw=+a}Ki(){return this.Sw}Mj(a){this.Tw=+a}Li(){return this.Tw}Vh(a){a=Xr.X(+a,0,1);if(Zr(this)){if(this.Na.Tm===a)return;this.Na.Tm=a;a=this.bd()}else if(this.yb.a===
a)return;Vb(Er,this.yb);Er.a=a;BB(this);LB(this)}bd(){return Zr(this)?this.Ia().bd()*this.Na.Tm:this.yb.a}RD(){return this.Js}Jy(){return 0!==(this.F&512)}zj(a,b){if(a===this||a.sg()||MB(this,a)||NB(this,a))return!1;var d=a.Y();const c=a.Z();var e=a.L();const g=a.K(),k=a.Ka(),l=a.Sa(),n=a.bd();OB(a,this);a.Gb(1024,b.ou);a.Gb(2048,b.pu);a.Gb(4096,b.xr);a.Gb(8192,b.vr);a.Gb(16384,b.ku);a.Gb(32768,b.qu);a.Gb(4194304,b.mu);a.Gb(8388608,b.nu);a.Gb(512,b.Wx);b.ou&&(a.fa=d-this.Y(),b.xr&&(a.fa/=this.L()/
Qr(this.Na)));b.pu&&(a.ba=c-this.Z(),b.vr&&(a.ba/=this.K()/Ur(this.Na)));b.xr&&(d=this.L(),0===d||d===Number.EPSILON?(a.rf=1,a.Na.nx=1):(a.rf=e/this.L(),a.Na.nx=a.rf));b.vr&&(e=this.K(),0===e||e===Number.EPSILON?(a.mf=1,a.Na.ox=1):(a.mf=g/this.K(),a.Na.ox=a.mf));b.ku&&(a.Oa=k-this.Ka());b.qu&&(a.Ed=l-this.Sa());b.mu&&(a.Na.Tm=n);b.nu&&a.hh(this.Rd());this.Na.He().push(a);T(this);LB(this);return!0}nm(a){if(a.Ia()===this){var b=a.Y(),d=a.Z(),c=a.L(),e=a.K(),g=a.Ka(),k=a.Sa(),l=a.bd();OB(a,null);a.F&=
-12647937;Bl(a,b,d);a.vd(c,e);a.Gd(g);a.wf(k);a.Vh(l);b=this.Na.He();d=b.indexOf(a);-1!==d&&b.splice(d,1);0!==b.length||this.sg()||EB(this);a.vf()||EB(a);T(this)}}sg(){return null!==this.Ia()}Ia(){const a=this.Na;return null!==a?a.Ia():null}pp(){let a=this;for(;a.sg();)a=a.Ia();return a}*ky(){let a=this.Ia();for(;a;)yield a,a=a.Ia()}LJ(a){return this.He().includes(a)}vf(){const a=this.Na;return null!==a?a.vf():!1}He(){const a=this.Na;return null!==a?a.He():pB}children(){return this.He()}*Gk(){for(const a of this.children())yield a,
yield*a.Gk()}KD(){return this.He().length}GD(){return[...this.Gk()].length}JD(a){const b=this.He();a=Math.floor(+a);return 0>a||a>=b.length?null:b[a]}Ku(){return this.yb===lB}te(a){a|=0;if(0>a||31<a)throw new RangeError("invalid blend mode");this.em()!==a&&(this.F=this.F&-2080374785|a<<26,DB(this))}em(){return(this.F&2080374784)>>26}V(){return this.Dl}Xb(){return this.V().Xb()}Gb(a,b){this.F=b?this.F|a:this.F&~a}Rd(){return 0!==(this.F&1)}hh(a){this.Gb(1,a);if(this.vf())for(const b of this.He())0!==
(b.F&8388608)&&b.hh(a)}dh(){return 0!==(this.F&8)}CE(a,b){this.Gb(32,a);this.Ck&&this.Ck.clear();if(b.trim()){this.Ck||(this.Ck=new Set);for(const d of b.split(" "))d&&this.Ck.add(d.toLowerCase())}else this.Ck=null}fz(a){const b=0!==(this.F&32),d=this.Ck;if(!a||!d)return!b;for(const c of d)if(a.has(c))return b;return!b}US(a,b,d){a=Math.floor(a);b=Math.floor(b);var c=d.mode||"absolute";if(!oB.has(c))throw Error("invalid mode");c="relative"===c;let e=d.x,g=d.y;const k=d.Zl;let l="number"===typeof d.ru?
d.ru:c?0:-1;d="number"===typeof d.su?d.su:c?0:-1;if(!Ny(this))return!1;const n=Oy(this),p=Yf(n,a,b);if(null===p)return!1;let r=!1;"number"===typeof k&&p.Sa()!==k&&(p.wf(k),r=!0);c&&(e+=a/(n.Jm-1),g+=b/(n.hn-1));-1!==l||c?(c&&(l+=a/(n.Jm-1)),l=Xr.X(l,0,1)):l=p.Ch;-1!==d||c?(c&&(d+=b/(n.hn-1)),d=Xr.X(d,0,1)):d=p.Eh;if(p.Y()===e&&p.Z()===g&&p.Ch===l&&p.Eh===d)return r;p.Nj(e);p.Oj(g);p.Ch=l;p.Eh=d;CB(this);return!0}Wk(){return this.N.Wk()}Yy(){return 0!==(this.F&64)}wa(a){const b={x:this.Y(),y:this.Z(),
w:this.L(),h:this.K(),l:this.V().fb,zi:Dl(this)};0!==this.Sa()&&(b.ze=this.Sa());0!==this.Ka()&&(b.a=this.Ka());this.Ku()||(b.c=this.yb.toJSON());.5!==this.Ki()&&(b.oX=this.Ki());.5!==this.Li()&&(b.oY=this.Li());0!==this.em()&&(b.bm=this.em());this.Rd()||(b.v=this.Rd());this.dh()||(b.ce=this.dh());0!==(this.F&4)&&(b.be=0!==(this.F&4));this.Yf&&(b.fx=this.Yf.wa());const d=0!==(this.F&32);d&&(b.sfi=d);this.Ck&&(b.sft=[...this.Ck].join(" "));this.Na&&"visual-state"!==a&&(b.sgi=this.Na.wa(a),rB.has(this)&&
(b.sgcd=rB.get(this).zP,b.sgzid=rB.get(this).PQ));Ny(this)&&(b.mesh=Oy(this).Gc());return b}Lz(){GB(this);SB(this);PB(this,null);if(this.Na){var a=this.Na,b=this.qj;a.Be=this.Be;a.qj=b}}hv(a){"visual-state"!==a&&SB(this)}Ui(a,b="full",d=null){a.hasOwnProperty("sgi")&&"visual-state"!==b&&0===(this.F&256)&&this.Na.Ui(a.sgi,d)}hL(a,b="full"){a.hasOwnProperty("sgi")&&"visual-state"!==b&&0===(this.F&256)&&(a=this.Na,a.Be=null,a.qj=null,GB(this),T(this))}Aa(a,b){qB=!1;this.Nj(a.x);this.Oj(a.y);this.ih(a.w);
this.Uh(a.h);this.wj=a.zi|0;this.wf(a.hasOwnProperty("ze")?a.ze:0);this.Gd(a.hasOwnProperty("a")?a.a:0);a.hasOwnProperty("c")?cc(Er,a.c):a.hasOwnProperty("o")?(Vb(Er,this.yb),Er.a=a.o):Sb(Er,1,1,1,1);BB(this);this.Lj(a.hasOwnProperty("oX")?a.oX:.5);this.Mj(a.hasOwnProperty("oY")?a.oY:.5);this.te(a.hasOwnProperty("bm")?a.bm:0);this.hh(a.hasOwnProperty("v")?a.v:!0);$B(this,a.hasOwnProperty("ce")?a.ce:!0);var d=a.hasOwnProperty("be")?a.be:!1;this.Gb(4,d);this.CE(a.hasOwnProperty("sfi")?a.sfi:!1,a.hasOwnProperty("sft")?
a.sft:"");this.Yf&&a.hasOwnProperty("fx")&&this.Yf.Aa(a.fx);if(!a.hasOwnProperty("sgi")&&"visual-state"!==b&&this.Be)for(var c of this.Be)uq(c)||lo(this.g,c);a.hasOwnProperty("sgi")&&"visual-state"!==b&&(PB(this,null),c=this.Na,c.Aa(a.sgi),d=this.qj,c.Be=this.Be,c.qj=d,a.sgcd&&Xr.Rc(a.sgzid)&&rB.set(this,{zP:a.sgcd,PQ:a.sgzid}));a.hasOwnProperty("mesh")?(d=a.mesh,Ky(this,d.cols,d.rows),Oy(this).cc(d)):Jy(this);T(this);qB=!0;DB(this);"visual-state"!==b&&(b=this.g,d=this.ga(),d.m()&&(b.nG.set(d,a),
b.VA.push(d)))}};"use strict";const dC=self.B;
dC.VQ=class extends dC.xa{constructor(a,b){super();const d=a.I(),c=d.Gq,e=Iv(d,b[1]);if(!c.OL.has(e)){const g=Iv(c.g,b[1]);if(!g)throw Error("missing behavior");const k=Vz.A(g,{sb:c.g});k.ec();c.H3.push(k);c.OL.set(g,k);!c.GO&&Vz.ua.ur&&k instanceof Vz.ua.ur?c.GO=k:!c.UU&&Vz.ua.C6&&k instanceof Vz.ua.C6&&(c.UU=k)}this.g=d;this.R=a;this.Vi=c.OL.get(e)||null;this.qb=null;this.UA=e.Instance;this.fb=b[2];this.Ta=b[0];this.kB=this.g.Tk(b[3]);this.qb=dC.A(e.xf,this);this.ec()}static Ea(a,b){return dC.A(dC.VQ,
a,b)}j(){this.Vi=this.g=null;this.qb.j();this.UA=this.qb=null}ec(){this.qb.ec()}I(){return this.g}H(){return this.R}Nh(){return this.Vi}oa(){return this.Ta}Tk(){return this.kB}};"use strict";const eC=self.B,fC=self.Rr;
eC.rD=class extends eC.xa{constructor(a){super();this.g=a.sb;this.Jd=a.vP;this.Vi=this.Jd.Nh();this.N=a.instance;this.ta=a.index;this.Re=this.ja=null;this.Vi.Ti(this.N)}j(){this.Re&&(this.Re.Gz(),this.Re=null);this.Vi.us(this.N);this.ja.j();this.N=this.Vi=this.Jd=this.g=this.ja=null}IE(a){if(this.ja)throw Error("already got sdk instance");this.ja=eC.A(this.Jd.UA,this,a)}I(){return this.g}pg(){return this.Jd}Nh(){return this.Vi}Ag(){return this.ta}Gc(){return this.ja.Gc()}cc(a){return this.ja.cc(a)}static KK(a,
b){var d=a.N,c=b.N;const e=d.H().Ja(),g=c.H().Ja();if(e!==g)return e-g;d=d.IV;c=c.IV;return d!==c?d-c:a.Zz.Ag()-b.Zz.Ag()}Dn(){var a;if(!(a=this.Re)){const b=(a=this.ja.Ke())||fC;fC.fl(this);this.Re=new b;fC.fl(null);if(a&&!(this.Re instanceof fC))throw new TypeError(`script interface class '${a.name}' does not extend the right base class '${fC.name}'`);a=this.Re}return a}};"use strict";const gC=self.B;function Aq(a,b){return a.EF.get(b.toLowerCase())||null}
function hC(a,b){b=Math.floor(+b);if(0>b||b>=a.bi.length)throw new RangeError("invalid effect type index");return a.bi[b]}
gC.Kr=class extends gC.xa{constructor(a,b){super();this.Cb=a;this.bi=[];this.$h=[];this.EF=new Map;this.Ld=[];this.Xf=[];this.FL=new Set;this.Xw=!0;for(const d of b)a=gC.A(gC.iR,this,d,this.bi.length),this.bi.push(a),this.EF.set(a.oa().toLowerCase(),a),3<=d.length&&this.Ld.push(this.fL(a,d[2]));this.I().AT.push(this)}j(){for(const a of this.Xf)a.j();gC.D(this.Xf);gC.D(this.bi);gC.D(this.$h);this.EF.clear();gC.D(this.Ld);this.Cb=null}wm(a){a.Sd()&&(this.Xf=this.bi.map(b=>{b=b.gf();return 0<b.sF?gC.A(gC.T.lT,
b):null}),this.mv());for(const b of this.FL)b.wm(a)}fL(a,b){a.Rb=!!b[0];a=b.slice(1);for(let d=0,c=a.length;d<c;++d)if(b=a[d],Array.isArray(b)){const e=gC.A(gC.mb);cc(e,b);a[d]=e}return a}I(){return this.Cb.I()}Yh(){gC.D(this.$h);let a=!0;for(const b of this.bi)b.Rb&&(this.$h.push(b),b.gf().Xw||(a=!1));this.Xw=a}Ii(){return this.bi}qp(a){return hC(this,a).Rb}sK(a,b){hC(this,a).Rb=!!b}Yy(){return 0<this.$h.length}yR(a){return this.Ld[a]}LE(a){return a<this.Xf.length?this.Xf[a]:this.Ld[a]}xR(a,b){if(0>
a||a>=this.Ld.length)return null;a=this.Ld[a];return 0>b||b>=a.length?null:a[b]}pz(a,b,d){if(0>a||a>=this.Ld.length)return!1;const c=this.Ld[a];if(0>b||b>=c.length)return!1;const e=c[b];if(e instanceof gC.mb){if(Xb(e,d))return!1;Vb(e,d)}else{if(e===d)return!1;c[b]=d}a<this.Xf.length&&sj(this.Xf[a],b,d);return!0}mv(){const a=this.Ld,b=this.Xf;for(let d=0,c=Math.min(a.length,b.length);d<c;++d){const e=b[d],g=a[d];for(let k=0,l=g.length;k<l;++k)sj(e,k,g[k])}}static LS(a){return a&&a instanceof gC.mb?
{t:"color",v:a.toJSON()}:a}static WR(a){if(null===a)return NaN;if("object"===typeof a){if("color"===a.t){const b=gC.A(gC.mb);cc(b,a.v);return b}throw Error("invalid effect parameter type");}return a}Gc(){return this.bi.map(a=>({name:a.oa(),active:a.Rb,params:this.Ld[a.Ja()].map(gC.Kr.LS)}))}cc(a){for(const b of a)if(a=Aq(this,b.name))a.Rb=!!b.active,this.Ld[a.Ja()]=b.params.map(gC.Kr.WR);this.Yh();this.mv()}};"use strict";const tA=self.B;
tA.iR=class extends tA.xa{constructor(a,b,d){super();this.Va=a;this.le=b[0];this.Ta=b[1];this.ta=d;this.Zc=null;this.Rb=!0}j(){this.Zc=this.Va=null}wm(a){a=a.kx.get(this.le)||null;if(!a)throw Error("failed to find shader program '"+this.le+"'");this.Zc=a}oa(){return this.Ta}qL(a){this.ta=a}Ja(){return this.ta}I(){return this.Va.I()}gf(){return this.Zc}};"use strict";const iC=self.B;
function TA(a){for(const c of a.Va.Ii()){var b=a.Ld,d=b.push;const e=[];for(let g=0,k=c.Zc.AR();g<k;++g){const l=c.Zc.Qy(g);if("float"===l||"percent"===l)e.push(0);else if("color"===l)e.push(tA.A(tA.mb,1,1,1,1));else throw new TypeError("unknown effect parameter type");}d.call(b,e)}a.mv()}
iC.i_=class extends iC.xa{constructor(a,b){super();this.N=a;this.GW=b;this.Va=a.H().Va;this.GC=this.ZN=!0;this.FW=this.EW=this.BW=!1;this.qh=iC.A(iC.T.og,a.I().$.xA,{xI:(d,c)=>{c=c.Xp;const e=c.m();d.rm(e.RD());If(d,eo(e));c.ng(d);If(d,0)},dX:d=>{const c=d.MD(),[e,g]=d.LD();return{HX:c,IX:e,FX:g}},BI:d=>this.LE(d)});this.Jp=[];this.$h=[];this.Xw=!0;this.Ld=[];this.Xf=[];this.wm(a.I().Ba());for(let d=0,c=this.Va.Ii().length;d<c;++d)this.Jp.push(!0);this.Yh();this.Va.FL.add(this)}j(){this.Va.FL.delete(this);
for(const a of this.Xf)a&&a.j();iC.D(this.Xf);this.qh.j();this.qh=null;iC.D(this.Jp);iC.D(this.$h);iC.D(this.Ld);this.Va=this.N=null}wm(a){a.Sd()&&(this.Xf=this.Va.Ii().map(b=>{b=b.gf();return 0<b.sF?iC.A(iC.T.lT,b):null}))}fL(a,b){this.Jp[a]=b[0];a=b.slice(1);for(let d=0,c=a.length;d<c;++d)if(b=a[d],Array.isArray(b)){const e=iC.A(iC.mb);cc(e,b);a[d]=e}return a}Yg(){this.Ez();return this.qh}I(){return this.N.I()}Yh(){iC.D(this.$h);const a=this.GW,b=this.Va.Ii(),d=this.$h,c=this.Jp;let e=!0;for(let g=
0,k=b.length;g<k;++g)if(c[g]){const l=b[g];d.push(l);l.gf().Xw||(e=!1)}this.Xw=e;a.Gb(64,!!d.length);this.ZN=!0}Ez(){const a=this.N;var b=this.GW;const d=b.Ku(),c=0<b.Wc;b=0!==b.Ka()||0>b.L()||0>b.K();const e=a.aE();if(this.ZN||d!==this.GC||c!==this.BW||b!==this.EW||e!==this.FW||this.qh.AB)ik(this.qh,this.$h.map(g=>g.gf()),{$x:this.$h.map(g=>g.Ja()),IP:!d||a.hz(),kX:c,EI:e,nX:b}),this.ZN=!1,this.GC=d,this.BW=c,this.EW=b,this.FW=e}yR(a){return this.Ld[a]}LE(a){return a<this.Xf.length?this.Xf[a]:this.Ld[a]}xR(a,
b){if(0>a||a>=this.Ld.length)return null;a=this.Ld[a];return 0>b||b>=a.length?null:a[b]}pz(a,b,d){if(0>a||a>=this.Ld.length)return!1;const c=this.Ld[a];if(0>b||b>=c.length)return!1;const e=c[b];if(e instanceof iC.mb){if(Xb(e,d))return!1;Vb(e,d)}else{if(e===d)return!1;c[b]=d}a<this.Xf.length&&sj(this.Xf[a],b,d);return!0}mv(){const a=this.Ld,b=this.Xf;for(let d=0,c=b.length;d<c;++d){const e=b[d],g=a[d];for(let k=0,l=g.length;k<l;++k)sj(e,k,g[k])}}qp(a){return this.Jp[a]}sK(a,b){this.Jp[a]=!!b}Ii(){return this.Va.Ii()}wa(){return this.Va.Ii().map(a=>
({name:a.oa(),active:this.Jp[a.Ja()],params:this.Ld[a.Ja()].map(gC.Kr.LS)}))}Aa(a){for(const b of a)if(a=Aq(this.Va,b.name))this.Jp[a.Ja()]=b.active,this.Ld[a.Ja()]=b.params.map(gC.Kr.WR);this.Yh();this.mv()}};"use strict";const jC=self.B,kC=[],lC=[],mC=jC.A(jC.Ir),nC=jC.A(jC.Ir),oC=jC.A(jC.ed);jC.A(jC.Rect);jC.A(jC.Rect);let pC=null,qC=null,rC=null;
function ly(a,b,d,c){a=a?1!==a.Gf||1!==a.Hf:!1;if(b.Qa)for(const e of b.ho)a||e.Rz?jC.Rl(c,e.qa()):(zA(e),e.kF.oE(d,c));else a||b.Rz?jC.Rl(c,b.qa()):(zA(b),b.kF.oE(d,c))}
function my(a,b){if(!a||!b||a===b)return!1;a=a.m();b=b.m();if(!a.dh()||!b.dh())return!1;var d=a.V(),c=b.V();if(d===c||d.Gf===c.Gf&&d.Hf===c.Hf&&d.ye===c.ye&&d.zk===c.zk&&d.Uf===c.Uf&&d.Ph()===c.Ph()&&d.Qh()===c.Qh())b=sC(a,b);else if(d=a.Wk(),c=b.Wk(),d&&!c)b=tC(a,b);else if(c&&!d)b=tC(b,a);else if(c||d)b=!1;else{c=a.V();d=b.V();mC.Ca(zB(a));nC.Ca(zB(b));var e=mC.xe;for(let g=0,k=e.length;g<k;g+=2){const l=g+1,n=e[l],[p,r]=ko(c,e[g]+a.Y(),n+a.Z());e[g]=p;e[l]=r}a=nC.xe;for(let g=0,k=a.length;g<k;g+=
2){c=g+1;e=a[c];const [l,n]=ko(d,a[g]+b.Y(),e+b.Z());a[g]=l;a[c]=n}mC.mo=!0;nC.mo=!0;b=Gc(mC,nC,0,0)}return b}function qy(a,b,d,c){for(const [e,g]of a.bx){if(b===e)a=g;else if(b===g)a=e;else continue;yy(a,d)&&(c.includes(a)||c.push(a))}}function ry(a,b,d){if(!a.bx.length)return!1;for(const [c,e]of a.bx)if(b===c&&d===e||b===e&&d===c)return!0;return!1}function uC(a,b,d){const c=b.m(),e=d.m();c&&e&&c.dh()&&e.dh()&&a.bx.push([b,d])}
function sC(a,b){if(!oc(Cl(a),Cl(b))||!uc(xB(a),xB(b))||a.Wk()&&b.Wk())return!1;if(a.Wk())return vC(a,b);if(b.Wk())return vC(b,a);if(!yB(a)&&!yB(b))return!0;const d=zB(a),c=zB(b);return Gc(d,c,b.Y()-a.Y(),b.Z()-a.Z())}
function vC(a,b,d,c,e,g,k){g=void 0!==g?g:Cl(b);const l=a.Y(),n=a.Z();var p=a.ga().ja;d=void 0!==d?d:b.Y();c=void 0!==c?c:b.Z();a=yB(b);k=void 0!==k?k:xB(b);p.vR(g,lC);for(let x=0,y=lC.length;x<y;++x){var r=lC[x];p=r.BR();if(pc(g,p,l,n)&&(oC.ef(p),oC.offset(l,n),uc(oC,k)))if(a){var u=void 0!==e?e:zB(b);let A=d,D=c;void 0!==e&&(A=b.Y(),D=b.Z());if(r=r.GJ()){if(Gc(r,u,A-(l+p.ca),D-(n+p.aa)))return jC.D(lC),!0}else if(Dc(mC,oC,0,0),Gc(mC,u,A,D))return jC.D(lC),!0}else if(u=r.GJ()){if(Dc(mC,k,0,0),Gc(u,
mC,-(l+p.ca),-(n+p.aa)))return jC.D(lC),!0}else return jC.D(lC),!0}jC.D(lC);return!1}function tC(a,b){var d=a.V(),c=b.V();pC||(pC=jC.A(jC.Ir));qC||(qC=jC.A(jC.Rect));rC||(rC=jC.A(jC.ed));var e=b.Y(),g=b.Z();const [k,l]=ko(c,e,g),[n,p]=xn(d,k,l);d=n-e;g=p-g;qC.Ca(Cl(b));qC.offset(d,g);if(!oc(Cl(a),qC))return!1;rC.Ca(xB(b));rC.offset(d,g);if(!uc(xB(a),rC))return!1;pC.Ca(zB(b));c=pC.xe;for(let r=0,u=c.length;r<u;r+=2)e=r+1,c[r]+=d,c[e]+=g;pC.mo=!0;return vC(a,b,n,p,pC,qC,rC)}
function wC(a,b,d,c){const e=b.da();var g=a.g.lc();if(!g)throw Error("cannot call outside event");g=g.Te;const k=new Map,l=u=>{let x=k.get(u);"undefined"===typeof x&&(x=rn(u),k.set(u,x));return x};if(e.lb){e.lb=!1;jC.D(e.J);g&&jC.D(e.$a);for(var n of b.qa()){a=n.m();var p=a.V(),r=!1;if(l(p)&&Sw(a)){const [u,x]=xn(p,d,c,eo(a));r=El(a,u,x)}r?e.J.push(n):g&&e.$a.push(n)}}else{n=!1;g?0===a.g.tf().Oe&&!e.$a.length&&e.J.length?a=e.J:(a=e.$a,n=!0):a=e.J;p=0;for(let u=0,x=a.length;u<x;++u){r=a[u];const y=
r.m(),A=y.V();let D=!1;if(l(A)&&Sw(y)){const [F,J]=xn(A,d,c,eo(y));D=El(y,F,J)}D?n?e.J.push(r):a[p++]=r:n?a[p++]=r:g&&e.$a.push(r)}a.length=p}yv(b);k.clear();return Ft(e)}function xC(a,b,d,c){if(a=a.g.VD()){a=a.FJ();for(const e of a)ly(b,e,d,c)}}function yC(a,b){const d=b.m();xC(a,d.V(),Cl(d),kC);for(const c of kC)if(a.fz(c,b)&&my(b,c))return jC.D(kC),c;jC.D(kC);return null}
function zC(a){var b=AC;if(!a)return!1;var d=a.m();if(!d.dh()||!oc(Cl(d),b))return!1;if(a.Wk()){a:{const e=d.Y();d=d.Z();a.ja.vR(b,lC);for(let g=0,k=lC.length;g<k;++g){var c=lC[g];a=c.BR();if(pc(b,a,e,d))if(c=c.GJ()){if(mC.ef(b,0,0),Gc(c,mC,-(e+a.ca),-(d+a.aa))){jC.D(lC);b=!0;break a}}else{jC.D(lC);b=!0;break a}}jC.D(lC);b=!1}return b}oC.ef(b);if(!uc(xB(d),oC))return!1;if(!yB(d))return!0;mC.ef(b,d.Y(),d.Z());b=zB(d);return Gc(mC,b,0,0)}
function BC(a,b,d,c,e){let g=2,k=!1;var l=!1;const n=b.m();let p=n.Y(),r=n.Z();for(;16>=g;)l=1/g,g*=2,po(n,d*l*(k?1:-1),c*l*(k?1:-1)),T(n),my(b,e)||yC(a,b)?l=k=!0:(l=k=!1,p=n.Y(),r=n.Z());l&&(Bl(n,p,r),T(n))}function CC(a,b,d,c,e){e=e||50;const g=b.m(),k=g.Y(),l=g.Z();let n=null,p=null;for(let r=0;r<e;++r)if(Bl(g,k+d*r,l+c*r),T(g),!my(b,n))if(n=yC(a,b))p=n;else if(!n)return p&&BC(a,b,d,c,p),!0;Bl(g,k,l);T(g);return!1}
function DC(a,b,d,c,e){e=e||50;const g=b.m(),k=g.Y(),l=g.Z();let n=null,p=null;for(let r=0;r<e;++r)for(let u=0;2>u;++u){const x=2*u-1;Bl(g,k+d*r*x,l+c*r*x);T(g);if(!my(b,n))if(n=yC(a,b))p=n;else return p&&BC(a,b,d*x,c*x,p),!0}Bl(g,k,l);T(g);return!1}jC.LY=class extends jC.xa{constructor(a){super();this.g=a;this.bx=[]}j(){this.g=null}fz(a,b){return 0!==(a.F&8)&&(!b||b.m().fz(a.Fj().get("solidTags")))}};"use strict";const EC=self.B;
EC.F1=class extends EC.xa{constructor(a,b){super();this.ZL=a;this.YL=b;this.Dg=EC.A(EC.jz)}j(){this.Dg.j();this.Dg=null}np(a,b,d){let c=this.Dg.ea(a,b);return c?c:d?(c=EC.A(EC.FZ,this,a,b),this.Dg.Set(a,b,c),c):null}dl(a){a=Math.floor(a/this.ZL);return isFinite(a)?a:0}el(a){a=Math.floor(a/this.YL);return isFinite(a)?a:0}Ln(a,b,d){if(b)for(let c=b.ca,e=b.la;c<=e;++c)for(let g=b.aa,k=b.ka;g<=k;++g){if(d&&d.Fh(c,g))continue;const l=this.np(c,g,!1);l&&(l.Rh(a),l.Gn()&&this.Dg.Jr(c,g))}if(d)for(let c=
d.ca,e=d.la;c<=e;++c)for(let g=d.aa,k=d.ka;g<=k;++g)b&&b.Fh(c,g)||this.np(c,g,!0).RJ(a)}oE(a,b){let d=this.dl(a.ca);const c=this.el(a.aa),e=this.dl(a.la);a=this.el(a.ka);if(isFinite(e)&&isFinite(a))for(;d<=e;++d)for(let g=c;g<=a;++g){const k=this.np(d,g,!1);k&&k.yJ(b)}}};"use strict";const FC=self.B;FC.FZ=class extends FC.xa{constructor(a,b,d){super();this.fa=b;this.ba=d;this.J=FC.A(FC.lJ)}j(){this.J.j();this.J=null}Gn(){return this.J.Gn()}RJ(a){this.J.Cc(a)}Rh(a){this.J.Jr(a)}yJ(a){FC.Rl(a,Kc(this.J))}};
"use strict";const GC=self.B;function HC(a,b,d,c,e){e=e.xe;for(let g=0,k=e.length;g<k;g+=2){const l=(g+2)%k;IC(a,b,e[g]+d,e[g+1]+c,e[l]+d,e[l+1]+c)}}function IC(a,b,d,c,e,g){const k=GC.yX(a.x1,a.y1,a.x2,a.y2,d,c,e,g);0<=k&&k<a.df&&(a.df=k,a.RC=b.Yb,a.PP=d-e,a.QP=c-g)}
GC.e1=class{constructor(){this.dy=this.dx=this.y2=this.x2=this.y1=this.x1=0;this.rect=new GC.Rect;this.df=2;this.RC=null;this.Nf=this.Zx=this.Yx=this.QP=this.PP=this.au=0;this.fu=1;this.gu=0;this.OI=1;this.QI=0}fd(){this.df=2}Set(a,b,d,c){this.x1=a;this.y1=b;this.x2=d;this.y2=c;this.dx=d-a;this.dy=c-b;this.rect.set(a,b,d,c);this.rect.normalize();this.df=2;this.RC=null;this.Nf=this.Zx=this.Yx=this.QP=this.PP=this.au=0;this.fu=1;this.gu=0;this.OI=1;this.QI=0;return this}};"use strict";
const JC=self.B,KC=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),LC=new Set(["high","low"]),MC=self.Gi.Vl,NC=MC.create(),OC=JC.A(JC.ed),Sf=JC.A(JC.Rect);function to(a,b){if(!a.Ba().Qj())return null;let d=a.FN.get(b);d||(d={name:b.oa(),JQ:JC.A(JC.T.jT,a.sf),uI:0,rX:0},a.FN.set(b,d));return d.JQ}function PC(a,b,d){a.pP=b;a.nP=d}async function QC(a){await a.sf.gE();await a.wm();await RC(a.g);console.log("[Construct] WebGL context restored")}
async function SC(a,b){b={powerPreference:a.KM,depth:a.g.To,failIfMajorPerformanceCaveat:b,UX:a.g.Nx,NW:a.g.uW,KC:a.g.cP};a.Ci=JC.A(JC.T.D2,{kQ:a.pP,HP:a.nP});await a.Ci.Ea(a.ci,b)}function TC(a,b){b&&"string"===typeof b.message&&b.message.startsWith("renderer-unavailable")||console.error(`Error creating ${a} renderer: `,b)}
async function UC(a,b){b={powerPreference:a.KM,ZW:!0,depth:a.g.To,KC:a.g.cP,failIfMajorPerformanceCaveat:b,kQ:a.pP,HP:a.nP};a.LU&&(b.dQ=1);"Android"===JC.W.Fc&&"Chromium"===JC.W.Jh&&75>JC.W.wy&&(console.warn("[Construct] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),b.dQ=1);"standard"===a.g.Hv?b.alpha=!0:(b.alpha=!1,b.cQ=!0);a.sf=JC.A(JC.T.w2,a.ci,b);await a.sf.Sr()}
async function VC(a){await a.wm();await RC(a.g);console.log("[Construct] WebGPU device restored")}async function WC(a){if(a.DH){const b=[];for(const [d,c]of Object.entries(a.DH))c.src=c.y7,b.push(a.Ci.zD(Object.assign({tu:JC.T.HE.Du(),name:d},c)));await Promise.all(b)}}
async function XC(a){if(a.DH){const b=[];for(const [d,c]of Object.entries(a.DH)){let e;if(c.gX&&2<=a.sf.ad)c.src=c.gX,e=Cg();else{if(!c.fX)throw Error(`shader '${d}' does not support WebGL 1`);c.src=c.fX;e=JC.T.GE.Du()}b.push(a.sf.zD(Object.assign({tu:e,name:d},c)))}await Promise.all(b);a.sf.to=null;Ef(a.sf)}a.sf.Qj()&&(a.$F=JC.A(JC.T.jT,a.sf))}function YC(a){return a.kw?a.n4:a.OD()}function ZC(a,b){if(!KC.has(b))throw Error("invalid fullscreen mode");a.mU=b;a=a.g.nb;wp(a);xp(a)}
function $C(a,b){if(!LC.has(b))throw Error("invalid fullscreen scaling quality");a.iP=b;wp(a.g.nb)}function aD(a){switch(a){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}function bD(a,b){const d=a.xc,c=a.Kc/2,e=d/2;b.tm(a.wF);a=Df(b,c,e,b.Ie(d),c,e,d);b.ls(a)}
function*cD(a){for(const b of vp(a.g.nb))for(const d of b.jd){const c=a.FN.get(d);c&&(yield c)}}
function dD(a){if(a.GH){var b=a.ci,d=a.XV,c=JC.X(Math.floor(d.ca),0,b.width),e=JC.X(Math.floor(d.aa),0,b.height),g=d.width();g=0===g?b.width-c:JC.X(Math.floor(g),0,b.width-c);d=d.height();d=0===d?b.height-e:JC.X(Math.floor(d),0,b.height-e);(0!==c||0!==e||g!==b.width||d!==b.height)&&0<g&&0<d&&(b=JC.Lh(g,d),b.getContext("2d").drawImage(a.ci,c,e,g,d,0,0,g,d));JC.uD(b,a.GH,a.FO).then(k=>{a.bC&&URL.revokeObjectURL(a.bC);a.bC=URL.createObjectURL(k);a.aC=null;a.YV(a.bC)});a.GH="";a.FO=1}}
async function eD(a){var b=(new URL("splash-images/splash-logo.svg",a.g.zO)).toString();b=await JC.xn(b);b=await fD(a.g,b);return await a.Ba().xy(b,{cD:"high"})}async function gD(a,b){b=(new URL(b,a.g.zO)).toString();b=await JC.xn(b);return await a.Ba().xy(b,{cD:"high"})}
function hD(a,b){const d=a.Ba();2===b?(a.ti=JC.A(JC.T.rE,a.Ba()),lh(a.ti,"Arial"),a.ti.tK(16),qh(a.ti,"center"),rh(a.ti,"center"),a.ti.vd(300,200)):0===b?(b=a.g.Gw)&&b.wp(d).catch(c=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",c)):4===b&&(eD(a).then(c=>{"done"===a.Ml?d.Wg(c):a.Bh.aD=c}).catch(c=>console.warn("Failed to load splash image: ",c)),gD(a,"splash-images/splash-poweredby-512.png").then(c=>{"done"===a.Ml?d.Wg(c):a.Bh.fD=c}).catch(c=>console.warn("Failed to load splash image: ",
c)),gD(a,"splash-images/splash-website-512.png").then(c=>{"done"===a.Ml?d.Wg(c):a.Bh.lD=c}).catch(c=>console.warn("Failed to load splash image: ",c)))}function iD(a){Uc(a.g,"runtime","hide-cordova-splash")}
function jD(a){if(-1!==a.dg){var b=a.Ba();b.$u();a.dg=-1;var d=a.g.Nb.OM,c=a.g.Fw;3!==c&&(bD(a,b),b.Bj(0,0,0,0),Yh(b),Ef(b),b.Ud(null));if(0===c)kD(a,d);else if(1===c)lD(a,d,120,0);else if(2===c)mD(a,d);else if(3!==c)if(4===c)nD(a,d);else throw Error("invalid loader style");b.mp();a.dg=requestAnimationFrame(()=>jD(a))}}function oD(a){a.rB=Date.now();a.g.ib().addEventListener("loadingprogress",a.KN);a.dg=requestAnimationFrame(()=>jD(a));3!==a.g.Fw&&iD(a)}
async function pD(a){const b=a.Ba();a.wq=1;const d=a.g.Fw;4===d&&await a.bW;a.HO=null;a.bW=null;-1!==a.dg&&(cancelAnimationFrame(a.dg),a.dg=-1);a.g.ib().removeEventListener("loadingprogress",a.KN);a.KN=null;a.ti&&(a.ti.j(),a.ti=null);var c=a.g;c.Gw&&(c.Gw.j(),c.Gw=null);b.$u();a.Bh.aD&&(b.Wg(a.Bh.aD),a.Bh.aD=null);a.Bh.fD&&(b.Wg(a.Bh.fD),a.Bh.fD=null);a.Bh.lD&&(b.Wg(a.Bh.lD),a.Bh.lD=null);b.Bj(0,0,0,0);b.mp();a.Ml="done";a.hq=b.Df;3===d&&iD(a)}
function kD(a,b){const d=a.Ba();var c=a.g.Gw;if(c)if(c=c.Jb()){var e=c.L(),g=c.K(),k=a.Kc/2,l=a.xc/2,n=e/2;g/=2;var p=k-n,r=l-g;k+=n;l+=g;OC.set(p,r,k,r,k,l,p,l);d.Ud(c);d.ed(OC);lD(a,b,e,g+16)}else lD(a,b,120,0);else lD(a,b,120,0)}function lD(a,b,d,c){const e=a.Ba();e.$k(e.fC);b?e.wg(1,0,0,1):e.wg(.118,.565,1,1);b=a.Kc/2;const g=a.xc/2,k=d/2;gc(Sf,b-k,g-4+c,Math.floor(d*a.wq),8);e.Rect(Sf);gc(Sf,b-k,g-4+c,d,8);Sf.offset(-.5,-.5);kc(Sf,.5,.5);e.wg(0,0,0,1);Rf(e);kc(Sf,1,1);e.wg(1,1,1,1);Rf(e)}
function mD(a,b){b?(b=a.ti,Tb(Yg,1,0,0),b.rm(Yg)):(b=a.ti,Tb(Yg,.6,.6,.6),b.rm(Yg));a.ti.Yu(Math.round(100*a.wq)+"%");var d=a.Kc/2,c=a.xc/2;b=d-150;var e=c-100;d+=150;c+=100;OC.set(b,e,d,e,d,c,b,c);b=a.Ba();b.Ud(a.ti.Jb());b.Yk(OC,a.ti.Vk())}
function nD(a,b){const d=a.Ba(),c=a.Bh.aD,e=a.Bh.fD,g=a.Bh.lD,k=Date.now();0===a.JO&&(a.rB=k);const l=a.g.Wr()||a.g.F4&&"cordova"!==a.g.rh,n=l?0:200,p=l?0:3E3;let r=1;"fade-in"===a.Ml?r=Math.min((k-a.rB)/300,1):"fade-out"===a.Ml&&(r=Math.max(1-(k-a.IO)/300,0));d.$k(d.fC);d.wg(.231*r,.251*r,.271*r,r);Sf.set(0,0,a.Kc,a.xc);d.Rect(Sf);const u=Math.ceil(a.Kc),x=Math.ceil(a.xc);let y;256<a.xc?(d.wg(.302*r,.334*r,.365*r,r),y=Math.max(.005*x,2),gc(Sf,0,.8*x-y/2,u,y),d.Rect(Sf),b?d.wg(r,0,0,r):d.wg(.161*
r,.953*r,.816*r,r),b=u*a.wq,gc(Sf,.5*u-b/2,.8*x-y/2,b,y),d.Rect(Sf),d.wg(r,r,r,r),Ef(d),e&&(b=1.5*JC.X(.22*x,105,.6*u),y=b/8,gc(Sf,.5*u-b/2,.2*x-y/2,b,y),d.Ud(e),d.Rect(Sf)),c&&(y=b=Math.min(.395*x,.95*u),gc(Sf,.5*u-b/2,.485*x-y/2,b,y),d.Ud(c),d.Rect(Sf)),g&&(b=1.5*JC.X(.22*x,105,.6*u),y=b/8,gc(Sf,.5*u-b/2,.868*x-y/2,b,y),d.Ud(g),d.Rect(Sf))):(d.wg(.302*r,.334*r,.365*r,r),y=Math.max(.005*x,2),gc(Sf,0,.85*x-y/2,u,y),d.Rect(Sf),b?d.wg(r,0,0,r):d.wg(.161*r,.953*r,.816*r,r),b=u*a.wq,gc(Sf,.5*u-b/2,.85*
x-y/2,b,y),d.Rect(Sf),d.wg(r,r,r,r),Ef(d),c&&(y=b=.55*x,gc(Sf,.5*u-b/2,.45*x-y/2,b,y),d.Ud(c),d.Rect(Sf)));a.JO++;"fade-in"===a.Ml&&300<=k-a.rB&&2<=a.JO&&(a.Ml="wait",a.cW=k);"wait"===a.Ml&&k-a.cW>=p&&1<=a.wq&&(a.Ml="fade-out",a.IO=k);("fade-out"===a.Ml&&k-a.IO>=300+n||l&&1<=a.wq&&500>k-a.rB)&&a.HO()}
JC.IY=class extends JC.xa{constructor(a){super();this.g=a;this.ci=null;this.RU=!1;this.Ci=this.sf=null;this.KM="high-performance";this.LU=!1;this.Tp=this.Sp=this.mh=this.nh=this.xc=this.Kc=this.Wo=this.Xo=0;this.ir="normalized";this.kU=0;this.pP=1;this.nP=1E4;this.Qs=!0;this.zd=this.Kd=this.iW=0;this.n4=this.mU="letterbox-scale";this.m4=this.l4=0;this.wF=MC.create();this.fk=this.iP="high";this.kw=!1;this.rv=[];this.AC=new Set;this.DH=self.C3_Shaders;this.xA=JC.A(JC.T.$Y,{bX:()=>[this.gm(),this.fm()],
cX:()=>{const b={Zb:this.g.Ob};"low"===this.fk&&(b.width=this.gm(),b.height=this.fm());return this.Fy(b)},AX:b=>{this.ds(b)},getTime:()=>Gk(this.I()),zX:()=>this.I().M()});this.gi=this.hq=0;this.cw=NaN;this.$F=null;this.FN=new Map;this.KA=NaN;this.iI=new Map;this.GH="";this.FO=1;this.XV=JC.A(JC.Rect);this.bC="";this.YV=this.aC=null;this.rB=0;this.dg=-1;this.wq=0;this.KN=b=>this.wq=b.progress;this.ti=null;this.Bh={aD:null,fD:null,lD:null};this.IO=this.cW=this.JO=0;this.Ml="fade-in";this.HO=null;this.bW=
new Promise(b=>this.HO=b)}async Lh(a){this.ci=a.canvas;Hz(this.g,"runtime","window-resize",c=>this.lL(c));Hz(this.g,"runtime","fullscreenchange",c=>{this.kw=!!c.isFullscreen;this.vd(c.innerWidth,c.innerHeight,!0);this.g.M()});Hz(this.g,"runtime","fullscreenerror",c=>{this.kw=!!c.isFullscreen;this.vd(c.innerWidth,c.innerHeight,!0);this.g.M()});this.ci.addEventListener("webglcontextlost",c=>{console.log("[Construct] WebGL context lost");c.preventDefault();this.rv=[];this.AC.clear();this.xA.ge();this.sf.ge();
this.g.OE()});this.ci.addEventListener("webglcontextrestored",()=>QC(this));this.kw=!!a.isFullscreen;var b=navigator.gpu&&this.RU;let d=!1;if(b)try{await SC(this,!0)}catch(c){TC("WebGPU",c),this.Ci=null}if(!this.Ba())try{await UC(this,!0)}catch(c){TC("WebGL",c),this.sf=null}this.Ba()||(d=!0);if(!this.Ba()&&b)try{await SC(this,!1)}catch(c){TC("WebGPU",c),this.Ci=null}if(!this.Ba())try{await UC(this,!1)}catch(c){TC("WebGL",c),this.sf=null}b=this.Ba();if(!b)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");
b.aG=!!d;this.Ci&&(this.Ci.nQ=()=>{console.log("[Construct] WebGPU device lost");this.rv=[];this.AC.clear();this.xA.ge();this.g.OE()},this.Ci.oQ=()=>VC(this));"normalized"===this.ir?b.ir=!1:(b.ir=!0,b.uK(this.kU));this.vd(a.windowInnerWidth,a.windowInnerHeight,!0);await this.wm()}async wm(){this.Ci?await WC(this):this.sf&&await XC(this);const a=this.Ba();a.yK(this.Qs);a.Qj()&&(this.cw=0);for(const b of this.g.AT){for(const d of b.Ii())d.wm(a);b.wm(a);b.Yh()}}j(){this.ci=this.sf=this.g=null}lL(a){const b=
this.g;if(null===b.Md){var d=a.devicePixelRatio;b.yl&&(self.devicePixelRatio=d);null===b.Md&&(b.Em=d);this.kw=!!a.isFullscreen;this.vd(a.innerWidth,a.innerHeight);b.M();d=new JC.Event("window-resize");d.data=a;fd(b.ib(),d);a=new JC.Event("resize");a.Kka=this.Kc;a.Jka=this.xc;a.Xka=this.nh;a.Wka=this.mh;b.Mh(a);b.Sb&&(ku(b)||self.Aj.Naa())&&b.gs()}}vd(a,b,d=!1){a=Math.floor(a);b=Math.floor(b);if(0>=a||0>=b)throw Error("invalid size");if(this.Xo!==a||this.Wo!==b||d){this.Xo=a;this.Wo=b;d=YC(this);if("letterbox-scale"===
d){var c=this.g.yn(),e=this.g.gj,g=this.g.fj,k=e/g;a/b>k?(this.Kc=Math.round(b*k),this.xc=b,this.Sp=Math.floor((a-this.Kc)/2),this.Tp=0):(this.Kc=a,this.xc=Math.round(a/k),this.Sp=0,this.Tp=Math.floor((b-this.xc)/2));this.nh=Math.round(this.Kc*c);this.mh=Math.round(this.xc*c);qD(this.g,e,g)}else"letterbox-integer-scale"===d?(c=this.g.yn(),1!==c&&(a+=1,b+=1),e=this.g.gj,g=this.g.fj,k=e/g,k=a/b>k?b*k*c/e:a/k*c/g,1<k?k=Math.floor(k):1>k&&(k=1/Math.ceil(1/k)),this.nh=Math.round(e*k),this.mh=Math.round(g*
k),this.Kc=this.nh/c,this.xc=this.mh/c,this.Sp=Math.max(Math.floor((a-this.Kc)/2),0),this.Tp=Math.max(Math.floor((b-this.xc)/2),0),qD(this.g,e,g)):"off"===d?(c=this.g.yn(),this.Kc=this.g.jg,this.xc=this.g.cf,this.nh=Math.round(this.Kc*c),this.mh=Math.round(this.xc*c),this.kw?(this.Sp=Math.floor((a-this.Kc)/2),this.Tp=Math.floor((b-this.xc)/2)):this.Tp=this.Sp=0,qD(this.g,this.g.jg,this.g.cf)):(c=this.g.yn(),this.Kc=a,this.xc=b,this.nh=Math.round(this.Kc*c),this.mh=Math.round(this.xc*c),this.Tp=this.Sp=
0,a=this.Sk(),qD(this.g,this.Kc/a,this.xc/a));"high"===this.iP?(this.Kd=this.nh,this.zd=this.mh,this.fk="high"):("off"===YC(this)?(a=this.g.jg,b=this.g.cf):(a=this.g.gj,b=this.g.fj),this.nh<a||this.mh<b?(this.Kd=this.nh,this.zd=this.mh,this.fk="high"):(this.Kd=a,this.zd=b,this.fk="low","scale-inner"===d?(d=a/b,a=this.Xo/this.Wo,a<d?this.Kd=this.zd*a:a>d&&(this.zd=this.Kd/a)):"scale-outer"===d&&(d=a/b,a=this.Xo/this.Wo,a>d?this.Kd=this.zd*a:a<d&&(this.zd=this.Kd/a))));this.ci.width=this.nh;this.ci.height=
this.mh;Uc(this.g,"canvas","update-size",{marginLeft:this.Sp,marginTop:this.Tp,styleWidth:this.Kc,styleHeight:this.xc,displayScale:this.Sk()});d=this.Ba();d.vd(this.nh,this.mh,!0);for(var l of this.rv)d.fR(l);JC.D(this.rv);Bf(d,this.wF,this.gm()/this.fm());l=this.g.nb;wp(l);xp(l)}}I(){return this.g}OD(){return this.mU}gm(){return this.Kd}fm(){return this.zd}yK(a){this.Qs=!!a}Qr(){return this.sf}jm(){return this.Ci}Ba(){return this.Ci||this.sf}Gu(){return"low"===this.fk?1/this.g.yn():this.Sk()}Sk(){const a=
YC(this);if("off"===a||"crop"===a)return 1;const b=this.g.gj,d=this.g.fj,c=b/d,e=this.nh/this.mh;return"scale-inner"!==a&&e>c||"scale-inner"===a&&e<c?this.xc/d:this.Kc/b}Ly(){return"low"===this.fk?1:this.Sk()}Ky(){return"low"===this.fk?1:this.g.yn()}Gy(){return this.Sp}Hy(){return this.Tp}Fy(a){a.depth=this.g.To;const b=this.rv,d=b.findIndex(e=>e.KR(a));let c;-1!==d?(c=b[d],b.splice(d,1)):c=this.Ba().dR(a);this.AC.add(c);return c}ds(a){if(!this.AC.has(a))throw Error("render target not in use");this.AC.delete(a);
this.rv.push(a)}PD(){return this.cw}$S(a,b,d,c,e,g){this.GH=a;this.FO=b;gc(this.XV,d,c,e,g);return this.aC?this.aC:this.aC=new Promise(k=>{this.YV=k})}};"use strict";const V=self.B,rD=self.Aj,sD={messagePort:null,runtimeBaseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let tD=!0;function Uc(a,b,d,c){a.wB.postMessage({type:"event",component:b,handler:d,data:c,responseId:null},void 0)}function Fk(a,b){return b&&-1!==b.ne?a.Ps*b.ne:a.vA}
function Gk(a){return a.YF.ea()}function Hk(a,b,d,c){const e=a.W4++,g=new Promise((k,l)=>{a.GB.set(e,{resolve:k,reject:l})});a.wB.postMessage({type:"event",component:b,handler:d,data:c,responseId:e},void 0);return g}function Tk(a,b,d,c,e,g,k){if(k&&a.nj){const l=yt(a.nj,b,k);if(l)return b=oo(a,l,d,!1,c,e,!1,g,void 0,g),zt(a.nj,b,k),b}return oo(a,b,d,!1,c,e,!1,g,void 0,g)}
function Xk(a){if(a.cG){for(const b of a.mq){const d=b.H();d.Ti(b);for(const c of d.Yi)c.Ti(b),c.Zs=!0}V.D(a.mq);a.Ub.Uu(!0);for(const [b,d]of a.oG.entries())uD(a,b,d),d.clear();a.oG.clear();a.Ub.Uu(!1);a.cG=!1;a.M()}}function ln(a,b){b=Math.floor(b);if(0>b||b>=a.Id.length)throw new RangeError("invalid index");return a.Id[b]}
function lo(a,b){if(!a.lt.has(b)){var d=b.H(),c=a.oG.get(d);if(c){if(c.has(b))return;c.add(b)}else c=new Set,c.add(b),a.oG.set(d,c);a.Sb&&rD.Baa(b);b.gL();a.cG=!0;if(b.Sc())for(const e of b.Cd)lo(a,e);for(const e of b.children())e.Jy()&&lo(a,e);0<a.nb.lw||a.hk||(d=a.Ga(),Uk(d,!0),b.g.pa(b.pb().constructor.G.b0,b,null),Uk(d,!1));a=0<a.nb.lw;b.Re&&(d=new tl.Event("destroy"),d.u6=a,b.Mh(d));if(JA(b,"instancedestroy")){d=b.H();c=new tl.Event("instancedestroy");c.instance=Sk(b);c.u6=a;d.Mh(c);for(const e of d.Yi)e.Mh(c);
b.g.Mh(c)}}}
function oo(a,b,d,c,e,g,k,l,n,p){var r=null;let u=null;b instanceof V.fE?(u=b,u.Qa&&(r=u.ho,u=r[Math.floor(a.ax()*r.length)]),r=u.Ms):(r=b,u=ln(a,r[1]));b=u.pb().ue;if(a.mi&&b&&!u.uN)return null;const x=d;b||(d=null);var y=c&&!k&&r&&!a.kt.has(r[2])?r[2]:a.BB++;const A=r?r[0]:null,D=V.A(V.Instance,{sb:a,mQ:u,GI:d,WX:A,jX:r?r[3]:null,uid:y});a.kt.set(y,D);y=null;b&&(y=D.m(),"undefined"!==typeof e&&"undefined"!==typeof g&&(y.Nj(e),y.Oj(g)),u.WE=!0);if(d){p||d.Ti(D,!0);if(1!==d.Gf||1!==d.Hf)u.Rz=!0;Uo(d.Xb(),
u)}a.cO++;let F=!0;n&&(n=n.H(),n.Sc()&&u.Sc()&&u.ei===n.ei&&(F=!1));if(u.Sc()&&!c&&!k&&F){for(var J of u.ei.Rm)J!==u&&(n=oo(a,J,x,!1,y?y.Y():e,y?y.Z():g,!0,!1,void 0,p),D.Cd.push(n));for(var H of D.Cd){H.Cd.push(D);for(const L of D.Cd)H!==L&&H.Cd.push(L)}}b&&!c&&l&&vD(a,D,A,y,d,e,g,p);if(u.Sc()&&!c&&!k&&l)for(const L of D.Cd)if(c=L.m())J=L.pb(),H=L.H().Ms[0],J.ue?vD(a,L,H,c,d,c.Y(),c.Z(),p):vD(a,L,H,c,d,void 0,void 0,p);!k&&l&&("undefined"===typeof e&&(e=A[0]),"undefined"===typeof g&&(g=A[1]),d=y.pp(),
e=e-y.Y()+d.Y(),g=g-y.Z()+d.Z(),Bl(d,e,g));u.Zs=!0;g=r?V.AP(r[5]):null;r=r?r[4].map(L=>V.AP(L)):null;b&&A&&A[13]&&(D.F|=2);D.IE(g,r);a.mq.push(D);a.cG=!0;a.Sb&&rD.Aaa(D);return D}function U(a){return a.$n.length?a.$n.at(-1):a.ub()}function so(a){return a.Sb&&a.Ba().Qj()&&so(rD)}function ap(a,b){return a.bO.get(b)||null}function bp(a){a.kt.clear();for(const b of a.Id)if(!b.Qa)for(const d of b.qa())a.kt.set(d.Yb,d)}
function tq(a,b){if(a.hk)throw Error("cannot call while loading state - wait until afterload event");return a.kt.get(b)||null}function eu(a){if(!a.$n.length)throw Error("layout stack empty");a.$n.pop()}function gu(a,b){return a.$f?gu(rD,b):Promise.resolve()}function ku(a){return a.Sb?ku(rD):!1}function Wu(a){return a.Sb&&Wu(rD)}function jv(a){return a.$f?rD.Q8():!1}function Dv(a,b){b?a.kM--:a.kM++;a.$f=a.Sb&&a.V3&&0===a.kM}
function Iv(a,b){b=Math.floor(b);a=a.gH;if(0>b||b>=a.length)throw Error("invalid object reference");return a[b]}function*xy(a,b){for(const d of a.mq)b.Qa?hz(d.H(),b)&&(yield d):d.H()===b&&(yield d)}function rz(a){a.nG=new WeakMap;V.D(a.VA)}function sz(a,b="full",d=null){a.VA.sort(a.E1);for(const c of a.VA)c.Ui(a.nG.get(c),b,d);for(const c of a.VA)c.hL(a.nG.get(c),b,d);rz(a)}
function Hz(a,b,d,c){let e=a.qM.get(b);e||(e=new Map,a.qM.set(b,e));if(e.has(d))throw Error(`[Runtime] Component '${b}' already has handler '${d}'`);e.set(d,c)}function UA(a,b,d){d?a.jw.has(b)||(d=V.A(V.gz),d.vJ(a.YF),a.jw.set(b,d)):a.jw.delete(b)}function qD(a,b,d){if(a.jg!==b||a.cf!==d)a.jg=b,a.cf=d,a=a.nb,wp(a),xp(a)}async function RC(a){await So(a.ub(),null,a.Ba());a.Ub.dispatchEvent(V.A(V.Event,"renderercontextrestored"));wD(a,!1);a.M()}
async function fD(a,b){var d=d||2048;var c=c||2048;return a.yl?(await Hk(a,"runtime","raster-svg-image",{blob:b,imageWidth:2048,imageHeight:2048,surfaceWidth:d,surfaceHeight:c,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(b,2048,2048,d,c)}
async function xD(a){const b=V.A(V.mE);var d=[];const c=new Map;for(const e of a.Jc)for(const g of e.Bd){const k=g.$b().Se;c.has(k)||(c.set(k,null),d.push(b.Cc(async()=>{const l=await Em(k);c.set(k,l)})))}await Promise.all(d);d=[];for(const e of a.Jc)for(const g of e.Bd)d.push(b.Cc(async()=>{var k=g.$b();const l=c.get(k.Se);k=await dA(k,l);return{X5:await createImageBitmap(k)}}));a=await Promise.all(d);for(const e of c.values())e instanceof ImageBitmap&&e.close&&e.close();return{RP:a}}
async function yD(a,b){return await a.nD("OpusDecode",{arrayBuffer:b},[b])}
function zD(a,b){if(a.QU){var d=b.component,c=b.handler,e=b.data,g=b.dispatchOpts,k=!(!g||!g.dispatchRuntimeEvent);g=!(!g||!g.dispatchUserScriptEvent);var l=b.responseId;if("runtime"===d&&(k&&(b=new V.Event(c),b.data=e,fd(a.Ub,b)),g)){b=new V.Event(c,!0);for(const [n,p]of Object.entries(e))b[n]=p;a.Mh(b)}if(b=a.qM.get(d))if(b=b.get(c)){k=null;try{k=b(e)}catch(n){console.error(`Exception in '${d}' handler '${c}':`,n);null!==l&&AD(a,l,!1,""+n);return}null!==l&&(k&&k.then?k.then(n=>AD(a,l,!0,n)).catch(n=>
{console.error(`Rejection from '${d}' handler '${c}':`,n);AD(a,l,!1,""+n)}):AD(a,l,!0,k))}else k||g||console.warn(`[Runtime] No DOM handler '${c}' for component '${d}'`);else k||g||console.warn(`[Runtime] No DOM event handlers for component '${d}'`)}else a.hP.push(b)}function AD(a,b,d,c){a.wB.postMessage({type:"result",responseId:b,isOk:d,result:c})}
async function BD(a){if(!a.Nb.gW["audio/webm; codecs=opus"]){var b=null;try{b=a.yN&&a.Nb.mw?await nm(a.Nb,a.vV,"buffer"):await a.Nb.Cy(a.vV)}catch(d){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",d);return}b?a.ot.jt.postMessage({type:"_send_buffer",buffer:b,id:"opus-decoder-wasm"},[b]):a.ot.jt.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"});await CD(a,[a.Z4])}}
async function DD(a,b){b=b.project;a.qH=b[0];a.HV=b[16];a.rO=b[31];var d=b[39]||"loading-logo.png";a.jk=!!b[9];a.gj=a.jg=b[10];a.fj=a.cf=b[11];a.jH=a.gj/2;a.kH=a.fj/2;a.Hv=b[36];a.XF=b[37];"low-latency"===a.Hv&&"Android"===V.W.Fc&&("cordova"===a.rh||"playable-ad"===a.rh||"instant-games"===a.rh)&&77>=V.W.wy&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),
a.Hv="standard");a.To=!!b[40];a.Ob=b[14];a.Nx=b[15];a.uW=b[42];a.cP=b[17];a.aI=!!b[18];a.Fw=b[19];a.BB=b[21];a.CV=b[22];const c=a.Nb;im(c,b[45]);um(c,b[7],b[25]);c.mV=b[8];c.AU=b[28];em.Pd(c.jP,b[29]);c.jP.length&&c.YG.push(sm(c));if(0===a.Fw){let n="";a.Wr()?jm(c,d)&&(n=lm(c,d)):n="flat"===c.$i?c.AU+d:d;n&&(a.Gw=c.eE({url:n}))}a.$&&(ZC(a.$,aD(b[12])),$C(a.$,b[23]?"high":"low"),a.$.yK(0!==b[24]),a.$.KM=b[34],a.$.iW=b[41],a.$.RU=!!b[13],a.$.ir=b[30],PC(a.$,b[46],b[47]),a.$.kU=b[26],a.$.LU=!!b[48]);
(d=b[43])&&await ED(a,d);Xz(a.Gq);a.gH=self.YQ();for(var e of b[2])Wz(a.Gq,e);a.gH=self.YQ();FD(a);for(var g of b[3])e=V.fE.Ea(a,a.Id.length,g),a.Id.push(e),a.Rw.set(e.oa().toLowerCase(),e),a.bO.set(e.fb,e);for(const n of b[4])rA(a.Id[n[0]],n);for(var k of b[27])g=k.map(n=>a.Id[n]),a.I3.push(V.A(V.RY,a,g));for(const n of a.Id)sA(n);for(const n of b[5])a.nb.Ea(n);if(k=b[1])if(k=up(a.nb,k))a.nb.MF=k;for(var l of b[33])a.Tb.Ea(l);for(const n of b[35])a.SO.Ea(n);for(const n of b[44])a.nj.Ea(n);xt(a.nj)||
(a.nj.j(),a.nj=null);GD(a);for(const n of b[6])a.Ra.Ea(n);a.Ra.oc();HD(a);V.D(a.gH);Xk(a);l="any";b=b[20];1===b?l="portrait":2===b&&(l="landscape");Uc(a,"runtime","set-target-orientation",{targetOrientation:l})}async function ID(a,b){a.$&&(await a.$.Lh(b),hD(a.$,a.Fw))}async function JD(a,b){try{await b(a.ul)}catch(d){console.error("[C3 runtime] Error in runOnStartup function: ",d)}}
async function ED(a,b){const d=b.format;"image-sequence"===d?a.Md=new self.T8(a,b):"image-sequence-gif"===d?a.Md=new self.S8(a,b):"webm"===d?a.Md=new self.V8(a,b):"mp4"===d&&(a.Md=new self.U8(a,b));a.XF="unlimited-frame";ZC(a.$,"off");a.Em=1;self.devicePixelRatio=1;await Hk(a,"runtime","set-exporting-to-video",{message:a.Md.X$(0),duration:a.Md.wA})}function FD(a){for(const b of self.CY){const d=V.first(Object.keys(b));a.TU.push(d)}}
function GD(a){const b={};for(const d of a.Id)b[d.Tk()]={value:d.QA,enumerable:!0,writable:!1};Object.create(Object.prototype,b);a.ul=new self.ZZ(a);a.sW={tick:KD(a,"tick")}}function HD(a){const b={};for(const d of a.Ga().DL)b[d.Tk()]=bu(d);Object.defineProperties(a.ul.n6,b)}function LD(a,b){a.SE.push(b)}
async function CD(a,b){b=await Promise.all(b.map(async d=>{const c=V.$D(d)&&(new URL(d)).origin!==location.origin,e="cordova"===a.rh&&a.Nb.mw;return c||e||a.Wr()||"playable-ad"===a.rh?(d=await a.Nb.xn(d),URL.createObjectURL(d)):V.cE(d)?(new URL(d,a.zO)).toString():d}));a.ot.jt.postMessage({type:"_import_scripts",scripts:b})}function MD(a){a.pa(V.C.hb.G.p0,null,null);Uc(a,"runtime","register-sw")}function*ND(a){for(const b of a.Id)b.Qa||(yield*b.TC())}
function vD(a,b,d,c,e,g,k,l){var n=(n=rB.get(c))?n.PQ:NaN;var p=IA(c);c=b.m();sB.set(c,n);if(p){"undefined"===typeof g&&(g=d[0]);"undefined"===typeof k&&(k=d[1]);n=new Set;c=d[0];d=d[1];for(const D of p){var r=D[0],u=D[1],x=D[2];p=D[3];var y=!!D[4];const F=D[5];var A=D[6];u=A?A:(a.nb.nB.get(r)||null).V(u).$M.get(x);r=ln(a,u[1]);x=!!RA(b,r);A=n.has(r);x&&!A&&y?(y=RA(b,r),x=g+u[0][0]-c,u=k+u[0][1]-d,Bl(y.m(),x,u),u=y.m(),sB.set(u,F),b.zj(y,{ou:!!(p>>0&1),pu:!!(p>>1&1),xr:!!(p>>2&1),vr:!!(p>>3&1),ku:!!(p>>
4&1),Wx:!!(p>>5&1),qu:!!(p>>6&1),mu:!!(p>>7&1),nu:!!(p>>8&1)}),n.add(r)):(r=oo(a,u,e,!1,g+u[0][0]-c,k+u[0][1]-d,!1,!0,b,l),y=r.m(),sB.set(y,F),b.zj(r,{ou:!!(p>>0&1),pu:!!(p>>1&1),xr:!!(p>>2&1),vr:!!(p>>3&1),ku:!!(p>>4&1),Wx:!!(p>>5&1),qu:!!(p>>6&1),mu:!!(p>>7&1),nu:!!(p>>8&1)}))}}}
function uD(a,b,d){for(const e of d){var c=a.Rs.instancedestroy;c.instance=e;a.Ub.dispatchEvent(c);a.kt.delete(e.Yb);a.jw.delete(e);if(c=e.m())TB(c),mo(c),c.gL();a.lt.add(e);a.cO--}V.Di(b.qa(),d);b.Zs=!0;a.pG.add(b);0===b.qa().length&&(b.Rz=!1);for(const e of b.Yi)V.Di(e.qa(),d),e.Zs=!0,a.pG.add(e);if(b.pb().ue){a=new Set([...d].map(e=>e.m().V()));for(const e of a)0!==d.size&&0<Jm.Di(e.J,d)&&(0===e.J.length&&(e.Qn=!1),nn(e))}}
function wD(a,b){if(null===a.Md){var d=a.Xr();a.qx+=b?1:-1;0>a.qx&&(a.qx=0);b=a.Xr();!d&&b?(console.log("[Construct] Suspending"),-1!==a.dg&&(self.cancelAnimationFrame(a.dg),a.dg=-1),-1!==a.Fo&&(V.HY(a.Fo),a.Fo=-1),a.Ub.dispatchEvent(V.A(V.Event,"suspend")),a.pa(V.C.hb.G.C0,null,null)):d&&!b&&(console.log("[Construct] Resuming"),d=performance.now(),a.QG=d,a.Vs=d,a.QF=0,a.EA=0,a.ZG=0,a.uo=0,a.Ub.dispatchEvent(V.A(V.Event,"resume")),a.pa(V.C.hb.G.v0,null,null),ku(a)||a.jf(d))}}
function OD(a){const b=a.p5;"vsync"===a.XF?-1===a.dg&&(a.dg=self.requestAnimationFrame(b.uX)):"unlimited-tick"===a.XF?(-1===a.Fo&&(a.Fo=V.nK(b.o7)),-1===a.dg&&(a.dg=self.requestAnimationFrame(b.d7))):-1===a.Fo&&(a.Fo=V.nK(b.uX))}function*PD(a){Id(a.Pp,!0);for(const b of a.Pp){const d=b.jf();V.sp(d)&&(yield*d)}Id(a.Pp,!1)}function*QD(a){Id(a.Ds,!0);for(const b of a.Ds)V.sp()&&(yield*void 0);Id(a.Ds,!1)}function*RD(a){Id(a.Qp,!0);for(const b of a.Qp){const d=b.cv();V.sp(d)&&(yield*d)}Id(a.Qp,!1)}
async function SD(a){const b=a.Ra,d=a.Sb;Xk(a);Uk(b,!0);a.$n.push(a.ub());d&&rD.bv();if(a.$f)await uu(b);else if(b.vi.length){var c=b.tf(),e=!1;b.Go++;for(let k=0,l=b.vi.length;k<l;++k){const n=b.vi[k];if(vu(n)){zz(n,c);var g=n.pl;g.gl(c,c.yf)&&Ru(g);n.Wn&&n.Wn.Oi()&&Av(n.Wn,n.Tz);mu(n.qf);n.VB=!0}n.VB&&(e=!0)}e&&(tu(b),c.fd(null));b.Go--}d&&rD.fY();eu(a);Uk(b,!1);Xk(a);Uk(b,!0)}
async function TD(a){const b=a.Sb,d=a.$f,c=a.Ub,e=a.Rs,g=a.sW;b&&rD.bv();if(d)await UD(a,PD(a));else{Id(a.Pp,!0);for(const k of a.Pp)k.jf();Id(a.Pp,!1)}if(d)await UD(a,QD(a));else{Id(a.Ds,!0);for(const k of a.Ds);Id(a.Ds,!1)}b&&rD.cY();b&&rD.bv();d?await UD(a,gd(a.Ub,e.tick)):c.dispatchEvent(e.tick);b&&rD.gY();Uk(a.Ra,!1);a.Mh(g.tick)}
async function VD(a){a.SB&&(Xk(a),await WD(a,a.SB),XD(a));a.qB&&(await YD(a,a.qB),XD(a),a.Sb&&rD.aia());if(null!==a.Ew){Xk(a);try{await ZD(a,a.Ew),a.pt=a.Ew,await a.Vd(V.C.hb.G.iS,null),a.pt=""}catch(b){console.error("[Construct] Failed to load state from JSON string: ",b),await a.Vd(V.C.hb.G.jS,null)}XD(a)}}async function $D(a){const b=a.nb;let d=0;for(;b.hj&&10>d++;)await aE(a,b.hj)}
async function bE(a){const b=a.Ra,d=a.Ub,c=a.Rs,e=a.Sb,g=a.$f;e&&rD.bv();if(g)await fu(b,a.nb);else{var k=a.nb;for(const l of b.ov)l.ew=!1;b.Go++;for(const l of vp(k))if(k=l.Ad)b.g.$n.push(l),k.Da(),eu(b.g);b.Go--}e&&rD.fY();jC.D(a.di.bx);cE(a);a.rN=!1;Uk(b,!0);e&&rD.bv();if(g)await UD(a,RD(a));else{Id(a.Qp,!0);for(const l of a.Qp)l.cv();Id(a.Qp,!1)}e&&rD.cY();e&&rD.bv();g?await UD(a,gd(a.Ub,c.tick2)):d.dispatchEvent(c.tick2);e&&rD.gY();Uk(b,!1);g&&await lu(b)}
async function UD(a,b){if(b)for(const d of b)await gu(a,d)}function cE(a){if(0!==a.lt.size){var b=a.Ub;b.Uu(!0);for(var d of a.pG)d.Ll.es(a.lt);a.pG.clear();d=a.Ra;var c=a.lt;for(const e of d.vi)e.es(c);for(const e of a.lt)e.j();a.lt.clear();b.Uu(!1)}}
async function aE(a,b){const d=a.Ub,c=a.nb.ub();await op(c);if(b!==c&&a.Ba())for(const e of c.oj)e.Qf()||b.et.has(e)||(e.mm(),c.oj.delete(e));c===b&&qp(a.Ra);jC.D(a.di.bx);cE(a);d.dispatchEvent(a.Rs.beforelayoutchange);V.uy.RS(!0);await So(b,c,a.Ba());V.uy.RS(!1);await gp(b,!1);d.dispatchEvent(a.Rs.layoutchange);a.M();a.rN=!0;Xk(a);a.Md&&Lq(a.Md.rb.Ji())}function dE(a){var b=a.Ba();a=a.cf;return b.ir?1:a/(2*b.vx)/b.Ie(a)}
function eE(a,b){if(!a.zU.has(b)){var d=()=>{Ie(a.Ko,b)};a.zU.set(b,d);b.ib().addEventListener("animationframeimagechange",d)}d=He(a.Ko,b);d.QM||Me(d).then(()=>a.M());return d}async function WD(a,b){const d=await fE(a);try{await gE(a).setItem(b,d),console.log("[Construct] Saved state to storage ("+d.length+" chars)"),a.pt=d,await a.Vd(V.C.hb.G.w0,null),a.pt=""}catch(c){console.error("[Construct] Failed to save state to storage: ",c),await a.Vd(V.C.hb.G.x0,null)}}
function XD(a){a.SB="";a.qB="";a.Ew=null}async function YD(a,b){try{const d=await gE(a).getItem(b);if(!d)throw Error("empty slot");console.log("[Construct] Loaded state from storage ("+d.length+" chars)");await ZD(a,d);a.pt=d;await a.Vd(V.C.hb.G.iS,null);a.pt=""}catch(d){console.error("[Construct] Failed to load state from storage: ",d),await a.Vd(V.C.hb.G.jS,null)}}
async function ZD(a,b){var d=a.nb;b=JSON.parse(b);if(b.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!b.c3save)throw Error("not valid C3 save data");if(1<b.version)throw Error("C3 save data from future version");rz(a);a.Ub.dispatchEvent(V.A(V.Event,"beforeload"));for(var c of ND(a))oA(c.H(),Ew.ua.bK)||c.hv();c=b.rt;a.YF.Set(c.time);c.hasOwnProperty("timeRaw")&&a.JA.Set(c.timeRaw);a.FC.Set(c.walltime);a.ne=c.timescale;a.pj=c.tickcount;a.Rq=Date.now()-c.start_time_offset;var e=
c.running_layout;a.hk=!0;var g=!1;if(e!==a.ub().fb)if(g=d.nB.get(e)||null)await aE(a,g),g=!0;else return;for(const [p,r]of Object.entries(b.layouts))(e=d.nB.get(parseInt(p,10))||null)&&e.Aa(r);for(const [p,r]of Object.entries(b.types))e=ap(a,parseInt(p,10)),!e||e.Qa||oA(e,Ew.ua.bK)||e.Aa(r);for(var k of a.nb.Uj)for(const p of k.Rx())pn(p,!1),nn(p),fn(p),p.BG=!0,p.gB=!0,p.hB=!0;Xk(a);bp(a);a.hk=!1;if(g){for(const p of ND(a))ip(p);for(var [l]of Object.entries(b.types))k=ap(a,parseInt(l,10)),!k||k.Qa||
oA(k,Ew.ua.bK)||k.Lz()}a.BB=c.next_uid;a.Ra.Aa(b.events);for(const p of a.Id)if(!p.Qa&&p.Sc())for(const r of p.qa()){l=dp(r);for(const u of p.ei.Rm)if(u!==p){k=u.qa();if(0>l||l>=k.length)throw Error("missing sibling instance");r.Cd.push(k[l])}}a.Tb.Aa(b.timelines);wp(d);xp(d);a.Ub.dispatchEvent(V.A(V.Event,"afterload"));sz(a);for(var [n]of Object.entries(b.types))if(d=ap(a,parseInt(n,10)))d.WG=null;n=KD(a,"load");n.saveData=b.user_script_data;await a.un(n);a.M()}
function gE(a){a.BO||(a.BO=localforage.DP({name:"c3-savegames-"+a.rO,description:a.qH}));return a.BO}
async function fE(a){const b={c3save:!0,version:1,rt:{time:Gk(a),timeRaw:a.JA.ea(),walltime:a.FC.ea(),timescale:a.ne,tickcount:a.pj,next_uid:a.BB,running_layout:a.ub().fb,start_time_offset:Date.now()-a.Rq},types:{},layouts:{},events:a.Ra.wa(),timelines:a.Tb.wa(),user_script_data:null};for(var d of a.Id)d.Qa||oA(d,Ew.ua.bK)||(b.types[d.fb.toString()]=d.wa());for(const c of a.nb.Uj)b.layouts[c.fb.toString()]=c.wa();d=KD(a,"save");d.saveData=null;await a.un(d);b.user_script_data=d.saveData;return JSON.stringify(b)}
function KD(a,b){b=V.A(V.Event,b,!1);b.sb=a.ul;return b}function hE(a){a.ZT||(a.ZT=!0,Uc(a,"runtime","enable-device-orientation"))}function iE(a){a.YT||(a.YT=!0,Uc(a,"runtime","enable-device-motion"))}
V.KS=class extends V.xa{constructor(a){a=Object.assign({},sD,a);super();this.wB=a.messagePort;this.zO=a.runtimeBaseUrl;this.yl=!!a.isInWorker;tD=a.ife;this.rh=a.exportType;this.yN=!!a.isiOSCordova;this.M4=!!a.isWebView2Wrapper;this.F4=!!a.isFBInstantAvailable;this.Z4=a.opusWasmScriptUrl;this.vV=a.opusWasmBinaryUrl;this.$f=this.V3=this.Sb=!("preview"!==this.rh||!a.isDebug);this.kM=0;this.SE=[];this.G3=[];this.rO=this.HV=this.qH="";this.fj=this.gj=0;this.Em=self.devicePixelRatio;this.Fw=this.cf=this.jg=
this.kH=this.jH=0;this.aI=!1;this.mi=!0;this.cP=this.uW=this.Nx=!1;this.Gw=null;this.Nb=V.A(V.rY,this,a);this.nb=V.A(V.G_,this);this.Ra=V.A(V.dZ,this);this.Gq=V.A(V.X0,this,a.wrapperComponentIds);this.di=V.A(V.LY,this);this.Tb=V.A(V.V1,this);this.SO=V.A(V.X1,this);this.nj=V.A(V.M1,this);this.Ko=V.A(V.O1,{k6:b=>{const d=[];for(const c of b.Jc)for(const e of c.Bd)b=e.$b(),d.push({source:e,width:b.L(),height:b.K(),tag:e.QH});return{RP:d}},j6:b=>xD(b)});this.zU=new Map;this.Id=[];this.Rw=new Map;this.bO=
new Map;this.hU=0;this.I3=[];this.AT=[];this.$n=[];this.mq=[];this.oG=new Map;this.cG=!1;this.BB=this.cO=0;this.kt=new Map;this.lt=new Set;this.pG=new Set;this.gH=[];this.TU=[];this.$=null;this.To=!1;this.XF="vsync";this.Hv="standard";this.Ob="trilinear";this.jk=!1;this.YN=!0;this.vN=this.CV=!1;this.Md=null;this.p5={uX:b=>{this.Fo=this.dg=-1;this.jf(b)},o7:b=>{this.Fo=-1;this.jf(b,!1,"skip-render")},d7:()=>{this.dg=-1;this.gs()}};this.Fo=this.dg=-1;this.Vq=this.pj=0;this.yU=this.cB=this.dG=!1;this.rN=
!0;this.qx=0;this.ax=()=>Math.random();this.vA=this.Ps=this.QG=this.Rq=0;this.ne=1;this.pV=30;this.YF=V.A(V.gz);this.JA=V.A(V.gz);this.FC=V.A(V.gz);this.jw=new Map;this.QF=-1;this.ZG=this.uo=this.EA=this.Vs=0;this.hk=!1;this.qB=this.SB="";this.Ew=null;this.pt="";this.BO=this.qO=null;this.Ub=V.A(V.Event.ib);this.qM=new Map;this.GB=new Map;this.W4=0;this.QU=this.YT=this.ZT=!1;this.hP=[];this.Rs={pretick:V.A(V.Event,"pretick",!1),tick:V.A(V.Event,"tick",!1),tick2:V.A(V.Event,"tick2",!1),instancedestroy:V.A(V.Event,
"instancedestroy",!1),beforelayoutchange:V.A(V.Event,"beforelayoutchange",!1),layoutchange:V.A(V.Event,"layoutchange",!1)};this.Rs.instancedestroy.instance=null;this.Lf=V.A(V.Event.ib);this.sW=null;this.Pp=V.A(V.bs,V.rD.KK);this.Ds=V.A(V.bs,V.rD.KK);this.Qp=V.A(V.bs,V.rD.KK);this.ot=V.A(V.C_,this,a.jobScheduler);a.canvas&&(this.$=V.A(V.IY,this));this.wB.onmessage=b=>this._OnMessageFromDOM(b.data);Hz(this,"runtime","visibilitychange",b=>{wD(this,b.hidden)});Hz(this,"runtime","wrapper-extension-message",
b=>{if(-1!==b.asyncId){const d=b.asyncId;this.GB.get(d).resolve(b.params);this.GB.delete(d)}else zD(this,{component:"wrapper-extension:"+b.componentId,handler:b.messageId,data:b.params,responseId:null})});Hz(this,"runtime","opus-decode",b=>yD(this,b.arrayBuffer));Hz(this,"runtime","get-remote-preview-status-info",()=>{const b=this.Ba();return{fps:this.EA,cpu:this.ZG,gpu:this.PD(),layout:this.ub()?this.ub().oa():"",renderer:b.Ij()?b.Kx:Zi(b)}});Hz(this,"runtime","js-invoke-function",b=>this.ME(b));
Hz(this,"runtime","go-to-last-error-script",self.goToLastErrorScript);Hz(this,"runtime","offline-audio-render-completed",b=>{this.Md.Qca(b)});this.Ub.addEventListener("window-blur",b=>{this.Wr()&&this.CV&&!V.W.tp&&!b.data.parentHasFocus&&(wD(this,!0),this.vN=!0)});this.Ub.addEventListener("window-focus",()=>{this.vN&&(wD(this,!1),this.vN=!1)});this.Tb.iJ();this.nj.iJ();this.ul=null;this.FU=new WeakMap;this.fA={keyboard:null,sX:null,KQ:null};this.nG=new WeakMap;this.VA=[]}static Ea(a){return V.A(V.KS,
a)}j(){V.D(this.Id);this.Rw.clear();this.bO.clear();this.nb.j();this.nb=null;this.Ra.j();this.Ra=null;this.Gq.j();this.Gq=null;this.Nb.j();this.Nb=null;this.di.j();this.di=null;this.Tb.j();this.Tb=null;this.SO.j();this.SO=null;this.nj.j();this.nj=null;this.Ko.j();this.Ko=null;this.$&&(this.$.j(),this.$=null);this.Ub.j();this.Ub=null}_OnMessageFromDOM(a){var b=a.type;if("event"===b)zD(this,a);else if("result"===b){b=a.responseId;const d=a.isOk;a=a.result;const c=this.GB.get(b);d?c.resolve(a):c.reject(a);
this.GB.delete(b)}else throw Error(`unknown message '${b}'`);}async En(a){this.Sb?await rD.En(this):self.Aj&&self.Aj.zaa(this);var [b]=await Promise.all([this.Nb.pR("data.json"),BD(this),this.ot.En()]);await DD(this,b);await ID(this,a);this.Wr()||console.info("Made with Construct, the game and app creator :: https://www.construct.net");this.Qr()?(b=this.Qr(),console.info(`[C3 runtime] Hosted in ${this.yl?"worker":"DOM"}, rendering with WebGL ${b.ad} [${b.Kx}] (${b.ET.desynchronized?"desynchronized":
"standard"} compositing)`)):this.jm()&&console.info(`[C3 runtime] Hosted in ${this.yl?"worker":"DOM"}, rendering with WebGPU [${Zi(this.jm())}]`);this.Ba().aG&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.QU=!0;for(const d of this.hP)zD(this,d);V.D(this.hP);this.$&&oD(this.$);for(const d of a.runOnStartupFunctions)this.SE.push(JD(this,d));await Promise.all([rm(this.Nb),
...this.SE]);V.D(this.SE);if(this.Nb.OM)this.$&&iD(this.$);else return this.$&&await pD(this.$),await ed(this.Ub,new V.Event("beforeruntimestart")),await this.$u(),this.wB.postMessage({type:"runtime-ready"}),this}async $u(){this.dG=!0;this.Rq=Date.now();if(this.aI){for(var a of this.Id)a.Qa||a.uN||!a.ue||a.ec();rm(this.Nb).then(()=>{this.mi=!1;MD(this)})}else this.mi=!1;this.Nb.uU=!0;this.Sb&&rD.mfa(tD);for(const b of this.nb.Uj)mp(b);null!==this.Md&&await this.Md.En({width:this.$.nh,height:this.$.mh});
a=tp(this.nb);await So(a,null,this.Ba());await gp(a,!0);this.Vs=performance.now();this.aI||MD(this);(await Hk(this,"runtime","before-start-ticking")).isSuspended&&null===this.Md?this.qx++:this.jf()}Tk(a){a=Math.floor(a);const b=this.TU;if(0>a||a>=b.length)throw Error("invalid prop reference");return b[a]}Ga(){return this.Ra}Zd(){return this.Ra.Zd()}tf(){return this.Ra.tf()}lc(){return this.Ra.lc()}Xg(){return this.Ra.Xg()}Iy(){return this.Ra.Iy()}Ty(){return this.Gq.Ty()}ib(){return this.Ub}Mh(a){a.sb=
this.ul;const b=this.Sb&&!Wk(this.Ra);b&&rD.LK();this.Lf.dispatchEvent(a);b&&rD.jJ()}un(a){a.sb=this.ul;return ed(this.Lf,a)}yn(){return this.Em}gm(){return this.$?this.$.gm():this.jg}fm(){return this.$?this.$.fm():this.cf}Gu(){return this.$?this.$.Gu():1}Sk(){return this.$?this.$.Sk():1}Ly(){return this.$?this.$.Ly():1}Ky(){return this.$?this.$.Ky():1}Gy(){return this.$?this.$.Gy():0}Hy(){return this.$?this.$.Hy():0}OD(){return this.$?this.$.OD():"off"}Fy(a){return this.$?this.$.Fy(a):null}ds(a){this.$&&
this.$.ds(a)}PD(){return this.$?this.$.PD():NaN}Vr(){return"nearest"!==this.Ob}ub(){return this.nb.ub()}eE(a){return this.Nb.eE(a)}OE(){this.Ub.dispatchEvent(V.A(V.Event,"renderercontextlost"));wD(this,!0);for(var a of this.Id)!a.Qa&&0<a.xx&&a.mm();(a=this.ub())&&a.OE();V.az.Pu();V.HR.Pu()}Xr(){return 0<this.qx}async jf(a,b,d){this.yU=!0;const c="background-wake"===d;d="background-wake"!==d&&"skip-render"!==d;if(this.dG&&(!this.Xr()||b||c)){b=performance.now();this.cB=!0;a=a||0;var e=0;null!==this.Md?
this.Ps=e=1/this.Md.wZ():0!==this.QG&&(e=Math.max(a-this.QG,0)/1E3,.5<e&&(e=0),this.Ps=Math.min(e,1/this.pV));this.QG=a;this.vA=this.Ps*this.ne;this.YF.Cc(this.vA);this.JA.Cc(e*this.ne);this.FC.Cc(this.Ps);for(const [r,u]of this.jw)u.Cc(this.Ps*r.ne);if(this.$){e=this.$;if(e.sf&&e.sf.Qj())a:if(isNaN(e.KA)&&(e.KA=Fh(e.$F,e.hq,e.gi),!isNaN(e.KA))){if(e.g.Sb)for(var g of cD(e))if(g.uI=Fh(g.JQ,e.hq,e.gi),isNaN(g.uI))break a;Gh(e.$F,e.gi);e.cw=Math.min(e.KA,1);if(e.g.Sb){for(var k of cD(e))Gh(k.JQ,e.gi),
k.rX=Math.min(k.uI,1);self.Aj.d2(e.cw,[...cD(e)])}e.hq=e.gi;e.gi=0}if(e.Ci&&e.Ci.Qj())a:if(0!==e.gi){for(g=e.hq;g<e.gi;++g)if((k=e.iI.get(g))&&!k.Zy())break a;k=e.g.ub();g=JC.$J(k.jd.length+1,0);for(var l=e.hq;l<e.gi;++l){var n=e.iI.get(l);if(n){n=n.Ry();for(let r=0,u=Math.min(g.length,n.length/2);r<u;++r){const x=n[2*r],y=n[2*r+1];g[r]=0===Number(x)||0===Number(y)?NaN:g[r]+Number(y-x)/1E9}}}e.cw=JC.X(g[0],0,1);if(e.g.Sb){l=[];k=k.jd;for(let r=0,u=Math.min(k.length,g.length-1);r<u;++r)l.push({name:k[r].oa(),
rX:JC.X(g[r+1],0,1)});self.Aj.d2(e.cw,l)}for(g=e.hq;g<e.gi;++g)e.iI.delete(g);e.hq=e.gi;e.gi=0}}if(1E3<=a-this.Vs){this.Vs+=1E3;1E3<=a-this.Vs&&(this.Vs=a);this.EA=this.QF;this.QF=0;this.ZG=Math.min(this.uo/1E3,1);this.uo=0;if(this.$&&(a=this.$,e=a.Ba(),e.Qj()&&0===a.gi)){a.gi=e.Df;a.KA=NaN;for(var p of cD(a))p.uI=NaN}this.Sb&&rD.ija()}this.QF++;p=SD(this);this.$f&&await p;p=this.Rs.pretick;p=(a=dd(this.Ub,p.type,!1))?Yc(a,p):!0;p instanceof Promise&&await p;p=TD(this);this.$f&&await p;(this.SB||
this.qB||null!==this.Ew)&&await VD(this);this.nb.hj&&await $D(this);p=bE(this);this.$f&&await p;d&&this.gs();if(null!==this.Md&&(d=this.pj/this.Md.wZ(),await this.Md.Z7(this.$.ci,d),Gk(this)>=this.Md.wA)){this.Md.mp();return}this.Xr()||c||OD(this);this.pj++;this.Vq++;this.cB=!1;this.uo+=performance.now()-b}}M(){this.YN=!0}Qr(){return this.$?this.$.Qr():null}jm(){return this.$?this.$.jm():null}Ba(){return this.$?this.$.Ba():null}gs(){const a=this.$;if(a&&!a.Ba().Fn()){var b=this.Ba(),d=b.Qj(),c=d&&
b.Ij();d=d&&b.Sd();if(c)for(var e of b.TE){var g=b.Df;for(var k of e.Ne){if(k.Df>=g)break;if(k.oq)break;k.rJ()}}if(this.YN||null!==this.Md){k=this.nb.ub();b.$u();(e=this.Sb)&&rD.bv();this.YN=!1;g=null;c&&(g=Eh(a.$F),bi(b,g));c=null;if(d){if(!b.Qj())throw Error("GPU profiling not supported");if(b.sl)throw Error("already started frame timing");b.sl=di.A(di.T.E2,b,2*(1+k.jd.length));c=b.sl;Ii(b,0)}this.To&&"low"===a.fk?b.QS(a.gm(),a.fm()):b.NS();var l=this.Ba();Ef(l);l.nz();l.wg(1,1,1,1);l.hf(null);
l.Ud(null);l.Sf(this.To);k.ng(l);g&&ci(b,g);d&&(Ii(b,1),d=this.$,d.iI.set(d.Ci.Df,c));b.mp();e&&(rD.W7(),rD.lja());a&&dD(a)}else b.Df++}}pa(a,b,d){if(!this.dG)return!1;var c=!this.cB&&!(0<this.Ra.Qe);let e=0;c&&(e=performance.now());const g=this.Sb;g&&Dv(this,!1);a=this.Ra.Nz(this.nb,a,b,d);c&&(c=performance.now()-e,this.uo+=c,g&&rD.k8(c));g&&Dv(this,!0);return a}yy(a,b,d){if(!this.Sb)return this.pa(a,b,d);if(ku(this))throw Error("called DebugTrigger() while stopped on breakpoint");if(!(this.cB||
0<this.Ra.Qe))throw Error("called DebugTrigger() outside of event code - use TriggerAsync() instead");return this.Ra.dv(this.nb,a,b,d)}async Vd(a,b,d){if(!this.$f)return this.pa(a,b,d);if(!this.dG)return!1;if(ku(this))return iu(this.Ra,a,b,d);if(!this.ub())return hu(this.Ra,a,b,d);const c=performance.now();a=this.Ra.dv(this.nb,a,b,d);for(b=a.next();!b.done;)await gu(this,b.value),b=a.next();this.Xr()||0<this.Ra.Qe||(await lu(this.Ra),this.yU&&!this.cB&&OD(this));this.uo+=performance.now()-c;return b.value}sz(a){if(isNaN(a)||
0>a)a=0;this.ne=a}VS(a){this.pV=V.X(a,1,120)}Wr(){return"preview"===this.rh}VD(){return this.Gq.VD()}Ie(a){return this.Ba().Ie(a||this.cf)}ZJ(a){this.Ew=a}E1(a,b){return a.m().rC-b.m().rC}nD(a,b,d,c){return this.ot.nD(a,b,d,null,null,c)}vy(a,b,d,c){return this.ot.vy(a,b,d,c)}ME(a){return this.Ra.ME(a.name,a.params)}};self.C3_CreateRuntime=V.KS.Ea;self.C3_InitRuntime=(a,b)=>a.En(b);"use strict";const jE=self.B;
function kE(a,b){var d=b.data,c=d.type;b=d.jobId;switch(c){case "result":d=d.result;c=a.sq.get(b);if(!c)throw Error("invalid job ID");c.sI||c.resolve(d);a.sq.delete(b);break;case "progress":d=d.progress;a=a.sq.get(b);if(!a)throw Error("invalid job ID");!a.sI&&a.progress&&a.progress(d);break;case "error":d=d.error;c=a.sq.get(b);if(!c)throw Error("invalid job ID");c.sI||c.reject(d);a.sq.delete(b);break;case "ready":a.YA&&(a.YA=!1,a.jB++,a.jB<a.PN?lE(a):a.jt.postMessage({type:"_no_more_workers"}));break;
default:throw Error(`unknown message from worker '${c}'`);}}async function lE(a){if(!(a.jB>=a.PN||a.YA||a.sU||mE(a)<=a.jB))try{a.YA=!0,(await Hk(a.g,"runtime","create-job-worker")).outputPort.onmessage=b=>kE(a,b)}catch(b){a.sU=!0,a.YA=!1,console.error(`[Construct] Failed to create job worker; stopping creating any more (created ${a.jB} so far)`,b)}}function mE(a){let b=0;a=[...a.sq.values()].sort((d,c)=>(d.eQ||Infinity)-(c.eQ||Infinity));for(const d of a)b<(d.eQ||Infinity)&&b++;return b}
jE.C_=class extends jE.xa{constructor(a,b){super();this.g=a;this.sq=new Map;this.tV=0;this.jt=b.inputPort;b.outputPort.onmessage=d=>kE(this,d);this.PN=b.maxNumWorkers;this.jB=1;this.sU=this.YA=!1}async En(){}nD(a,b,d,c,e,g){d||(d=[]);if("number"===typeof g&&(g=Math.floor(g),0>=g))throw Error("invalid maxWorkerNum");const k=this.tV++;a={type:a,isBroadcast:!1,maxWorkerNum:g,jobId:k,params:b,transferables:d};b=new Promise((l,n)=>{this.sq.set(k,{resolve:l,progress:c,reject:n,sI:!1,eQ:g})});e&&zd(e,()=>
{const l=this.sq.get(k);l&&(l.sI=!0,l.resolve=null,l.progress=null,l.reject=null,this.jt.postMessage({type:"_cancel",jobId:k}))});this.jt.postMessage(a,d);lE(this);return b}vy(a,b,d,c){d||(d=[]);if("number"===typeof c&&(c=Math.floor(c),0>=c))throw Error("invalid maxWorkerNum");const e=this.tV++;this.jt.postMessage({type:a,isBroadcast:!0,maxWorkerNum:c,jobId:e,params:b,transferables:d},d)}};self.C3_Shaders={};
self.C3_Shaders.waterbg={fX:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nprecision mediump float;\nuniform highmedp float seconds;\nuniform mediump vec2 pixelSize;\nconst float PI = 3.1415926535897932;\nuniform float speed;\nuniform float speed_x;\nuniform float speed_y;\nuniform float intensity;\nconst float steps = 8.0;\nuniform float frequency;\nuniform float angle; // better when a prime\nuniform float delta;\nuniform float intence;\nuniform float emboss;\nfloat col(vec2 coord)\n{\nfloat delta_theta = 2.0 * PI / angle;\nfloat col = 0.0;\nfloat theta = 0.0;\nfor (float i = 0.0; i < steps; i++)\n{\nvec2 adjc = coord;\ntheta = delta_theta*i;\nadjc.x += cos(theta)*seconds*speed + seconds * speed_x;\nadjc.y -= sin(theta)*seconds*speed - seconds * speed_y;\ncol = col + cos( (adjc.x*cos(theta) - adjc.y*sin(theta))*frequency)*intensity;\n}\nreturn cos(col);\n}\nvoid main(void)\n{\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nvec2 p = tex, c1 = p, c2 = p;\nfloat cc1 = col(c1);\nc2.x += (1.0 / pixelSize.x) / delta;\nfloat dx = emboss*(cc1-col(c2))/delta;\nc2.x = p.x;\nc2.y += (1.0 / pixelSize.y) / delta;\nfloat dy = emboss*(cc1-col(c2))/delta;\nc1.x += dx;\nc1.y = -(c1.y+dy);\nfloat alpha = 1.+dot(dx,dy)*intence;\nc1.y = -c1.y;\nc1 = clamp(c1, 0.0, 1.0);\nlowp vec4 front = texture2D(samplerFront, mix(srcStart, srcEnd, c1)) * alpha;\nlowp vec4 result;\nif (front.a == 0.0)\nresult = front + texture2D(samplerBack, mix(destStart, destEnd, tex)) * (1.0 - front.a);\nelse\nresult = front + texture2D(samplerBack, mix(destStart, destEnd, c1)) * (1.0 - front.a);\ngl_FragColor = result;\n}",gX:"",
y7:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\n%%SAMPLERBACK_BINDING%% var samplerBack : sampler;\n%%TEXTUREBACK_BINDING%% var textureBack : texture_2d<f32>;\nstruct ShaderParams {\nspeed : f32,\nspeed_x : f32,\nspeed_y : f32,\nintensity : f32,\nfrequency : f32,\nangle : f32,\ndelta : f32,\nintence : f32,\nemboss : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3PARAMS_STRUCT%%\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\nconst pi : f32 = 3.1415926535897932;\nconst steps = 8.0;\nfn col(coord : vec2<f32>) -> f32\n{\nvar delta_theta : f32 = 2.0 * pi / shaderParams.angle;\nvar col : f32 = 0.0;\nvar theta : f32 = 0.0;\nfor (var i : f32 = 0.0; i < steps; i = i + 1.0)\n{\nvar adjc : vec2<f32> = coord;\ntheta = delta_theta * i;\nadjc.x = adjc.x + cos(theta) * c3Params.seconds * shaderParams.speed + c3Params.seconds * shaderParams.speed_x;\nadjc.y = adjc.y - (sin(theta) * c3Params.seconds * shaderParams.speed - c3Params.seconds * shaderParams.speed_y);\ncol = col + cos((adjc.x * cos(theta) - adjc.y * sin(theta)) * shaderParams.frequency) * shaderParams.intensity;\n}\nreturn cos(col);\n}\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar texSize : vec2<f32> = vec2<f32>(textureDimensions(textureFront));\nvar tex : vec2<f32> = c3_srcToNorm(input.fragUV);\nvar p : vec2<f32> = tex;\nvar c1 : vec2<f32> = tex;\nvar c2 : vec2<f32> = tex;\nvar cc1 : f32 = col(c1);\nc2.x = c2.x + texSize.x / shaderParams.delta;\nvar dx : f32 = shaderParams.emboss * (cc1 - col(c2)) / shaderParams.delta;\nc2.x = p.x;\nc2.y = c2.y + texSize.y / shaderParams.delta;\nvar dy : f32 = shaderParams.emboss * (cc1 - col(c2)) / shaderParams.delta;\nc1.x = c1.x + dx;\nc1.y = -(c1.y + dy);\nvar alpha : f32 = 1.0 + dx * dy * shaderParams.intence;\nc1.y = -c1.y;\nc1 = c3_clamp2(c1, 0.0, 1.0);\nlet texXy = mix(c3Params.srcStart, c3Params.srcEnd, c1);\nlet texDx = dpdx(texXy);\nlet texDy = dpdy(texXy);\nvar front : vec4<f32> = textureSampleGrad(textureFront, samplerFront, texXy, texDx, texDy);\nvar output : FragmentOutput;\nif (front.a == 0.0)\n{\noutput.color = textureSampleGrad(textureBack, samplerBack, mix(c3Params.destStart, c3Params.destEnd, tex), texDx, texDy);\n}\nelse\n{\noutput.color =  textureSampleGrad(textureBack, samplerBack, mix(c3Params.destStart, c3Params.destEnd, c1), texDx, texDy);\n}\noutput.color = output.color * (1.0 - front.a) + front;\nreturn output;\n}",
G5:!0,w7:!1,Y5:40,Z5:40,P5:!0,M6:!1,Z6:!1,A5:!0,parameters:[["speed",0,"percent"],["speed_x",0,"percent"],["speed_y",0,"percent"],["intensity",0,"float"],["frequency",0,"float"],["angle",0,"float"],["delta",0,"float"],["intence",0,"float"],["emboss",0,"percent"]]};"use strict";const nE=self.B;let oE=null,pE="",qE="",rE=[],sE="",tE="",uE="";const vE=nE.A(nE.nY);function wE(a,b){a=a[1];b=b[1];if("number"===typeof a&&"number"===typeof b)return a-b;a=""+a;b=""+b;return a<b?-1:a>b?1:0}
function xE(a,b){oE&&a===pE&&b===qE||(oE=new RegExp(a,b),pE=a,qE=b);oE.lastIndex=0;return oE}function yE(a,b,d){if(a===sE&&b===tE&&d===uE)return rE;const c=xE(b,d);rE=a.match(c);sE=a;tE=b;uE=d;return rE}async function zE(a,b,d){if(d.length){a.ct+=d.length;var c=[];for(const e of d)c.push(Uo(b,e));await nE.c1(c,()=>{a.SA++});a.SA++;a.SA===a.ct&&(a.SA=0,a.ct=0,a.g.pa(nE.C.hb.G.k0,null,null))}}
function*AE(a,b){var d=a.g.Ga();a=d.Zd();const c=Nt(a),e=c.lc();var g=e.ae(),k=Qt(c);const l=a.gb(e);d=d.wh;const n=d.gb();if(k)for(k=0;k<b&&!n.rd;++k)ou(g),n.ta=k,yield*rv(e,c,l),pu(g);else for(g=0;g<b&&!n.rd;++g)n.ta=g,yield*rv(e,c,l);a.Za();d.Za();return!1}
function*BE(a){var b=a.g.Ga();a=b.Zd();const d=Nt(a),c=d.lc();var e=c.ae(),g=Qt(d);const k=a.gb(c);b=b.wh;const l=b.gb();if(g)for(g=0;!l.rd;++g)ou(e),l.ta=g,(yield*rv(c,d,k))||l.Tc(),pu(e);else for(e=0;!l.rd;++e)l.ta=e,(yield*rv(c,d,k))||l.Tc();a.Za();b.Za();return!1}
function*CE(a,b,d,c){var e=a.g.Ga();a=e.Zd();const g=Nt(a),k=g.lc();var l=k.ae();const n=Qt(g),p=a.gb(k);e=e.wh;const r=e.gb();r.yE(b);if(c<d)if(n)for(b=d;b>=c&&!r.rd;--b)ou(l),r.ta=b,yield*rv(k,g,p),pu(l);else for(l=d;l>=c&&!r.rd;--l)r.ta=l,yield*rv(k,g,p);else if(n)for(b=d;b<=c&&!r.rd;++b)ou(l),r.ta=b,yield*rv(k,g,p),pu(l);else for(l=d;l<=c&&!r.rd;++l)r.ta=l,yield*rv(k,g,p);a.Za();e.Za();return!1}
function*DE(a,b){var d=a.g.Ga();a=d.Zd();const c=Nt(a),e=c.lc();var g=e.ae(),k=Qt(c);const l=a.gb(e);d=d.wh;const n=d.gb(),p=b.Sc(),r=b.da(),u=vE.gb();nE.Pd(u,r.qa());if(k)for(let x=0,y=u.length;x<y&&!n.rd;++x)ou(g),k=u[x],Ht(b.da(),k),p&&Pu(k),n.ta=x,yield*rv(e,c,l),pu(g);else{r.lb=!1;b=r.J;nE.D(b);b.push(null);for(let x=0,y=u.length;x<y&&!n.rd;++x)g=u[x],b[0]=g,p&&Pu(g),n.ta=x,yield*rv(e,c,l)}a.Za();d.Za();nE.D(u);vE.Za();return!1}
function*EE(a,b,d){var c=a.g.Ga();a=c.Zd();const e=c.Xg(),g=Nt(a),k=g.lc(),l=k.ae(),n=Qt(g),p=a.gb(k);c=c.wh;const r=c.gb(),u=b.Sc(),x=b.da(),y=vE.gb();nE.D(y);const A=x.qa();for(let D=0,F=A.length;D<F;++D)y.push([A[D],e.Ha[1].ea(D)]);y.sort(wE);1===d&&y.reverse();if(n)for(let D=0,F=y.length;D<F&&!r.rd;++D)ou(l),d=y[D][0],Ht(b.da(),d),u&&Pu(d),r.ta=D,yield*rv(k,g,p),pu(l);else{x.lb=!1;b=x.J;nE.D(b);b.push(null);for(let D=0,F=y.length;D<F&&!r.rd;++D)d=y[D][0],b[0]=d,u&&Pu(d),r.ta=D,yield*rv(k,g,p)}a.Za();
c.Za();nE.D(y);vE.Za();return!1}function FE(a,b,d){let c=a.oU.get(b);if(c)return c;if(!d)return null;c={lr:null,YI:new Map};a.oU.set(b,c);return c}function*GE(a,b,d,c){yield*Bv(a.Je(),b,a.uh);d&&pu(c)}nE.C.hb=class extends nE.Kj{constructor(a){super(a);this.wh=this.g.Ga().wh;this.ke=this.g.Ga().Zd();this.SA=this.ct=0;this.oU=new Map;this.DO=[]}j(){super.j()}M(){this.g.M()}pa(a){this.g.pa(a,null,null)}};const HE=self.B;
HE.C.hb.xf=class extends HE.xa{constructor(a){super();this.R=a;this.g=a.I();this.sk=a.pb()}ec(){}j(){this.sk=this.g=this.R=null}};const IE=self.B;IE.C.hb.Instance=class extends IE.xa{constructor(a){super();this.N=a;this.R=this.N.H();this.qb=this.R.qb;this.g=this.N.I()}j(){this.g=this.qb=this.R=this.N=null}};const JE=self.B,KE=[];
JE.C.hb.G={gZ(){return!0},hS(){return!0},m0(){return!0},C0(){return!0},v0(){return!0},Xr(){return this.g.Xr()},jR(){const a=this.g.tf();return a.cq?!1:!a.ri},Z1(){const a=this.g.Xg().Fj();let b=a.get("TriggerOnce_lastTick");"undefined"===typeof b&&(b=-1,a.set("TriggerOnce_lastTick",-1));const d=this.g.pj;a.set("TriggerOnce_lastTick",d);return this.g.rN||b!==d-1},fZ(a){const b=this.g.Xg().Fj(),d=b.get("Every_lastTime")||0,c=Gk(this.g);b.has("Every_seconds")||b.set("Every_seconds",a);const e=b.get("Every_seconds");
if(c>=d+e)return b.set("Every_lastTime",d+e),c>=b.get("Every_lastTime")+.04&&b.set("Every_lastTime",c),b.set("Every_seconds",a),!0;c<d-.1&&b.set("Every_lastTime",c);return!1},Mu(a){return(a=this.g.Ga().LM.get(a.toLowerCase())||null)&&a.Mu()},Wr(){return this.g.Wr()},tp(){return JE.W.tp},p0(){return!0},Z_(){return!0},o$(){return!0},w0(){return!0},x0(){return!0},iS(){return!0},jS(){return!0},Jca(a){return!!tq(this.g,a)},hba(a){switch(a){case 0:return"browser"===JE.W.tn;case 1:return"iOS"===JE.W.Fc;
case 2:return"Android"===JE.W.Fc;case 8:return"cordova"===JE.W.tn;case 9:return"scirra-arcade"===this.g.rh;case 10:return"nwjs"===JE.W.tn;case 13:return"windows-uwp"===this.g.rh;default:return!1}},Zda(a,b,d){return xE(b,d).test(a)},OY(a,b,d){return JE.compare(a,b,d)},r9(a,b,d){return a>=b&&a<=d},E9(a,b,d){return JE.compare(a.pd(),b,d)},s9(a){return!!a.pd()},C9(a,b){const d=Gk(this.g);return 0===a?(a=this.g.Xg().Fj(),!a.get("CompareTime_executed")&&d>=b?(a.set("CompareTime_executed",!0),!0):!1):JE.compare(d,
a,b)},aba(a){return isNaN(a)},iY(a,b,d){return JE.Zo(JE.La(a),JE.La(d))<=JE.La(b)},q_(a,b){return JE.Rg(JE.La(a),JE.La(b))},p_(a,b,d){a=JE.La(a);b=JE.La(b);d=JE.La(d);return JE.Rg(d,b)?JE.Rg(a,b)&&!JE.Rg(a,d):!(!JE.Rg(a,b)&&JE.Rg(a,d))},rba(a,b){return"number"===typeof a?0===b:1===b},x$(a){return!!a},y0(a){return a.toLowerCase()===this.DO.at(-1)},mda(a,b,d,c){if(!a)return!1;const e=vE.gb(),g=a.da();JE.Pd(e,g.qa());g.lb&&JE.D(g.$a);const k=this.g.Xg();let l=0;for(let n=0,p=e.length;n<p;++n){const r=
e[n];e[l]=r;b=k.Ha[1].ea(n);c=k.Ha[3].ea(n);JE.compare(b,d,c)?++l:g.$a.push(r)}JE.lg(e,l);It(g,e);b=!!e.length;JE.D(e);vE.Za();yv(a);return b},nda(a,b){if(!a)return!1;const d=vE.gb(),c=a.da();JE.Pd(d,c.qa());c.lb&&JE.D(c.$a);const e=this.g.Xg();let g=0;for(let k=0,l=d.length;k<l;++k){const n=d[k];d[g]=n;(b=e.Ha[1].ea(k))?++g:c.$a.push(n)}JE.lg(d,g);It(c,d);b=!!d.length;JE.D(d);vE.Za();yv(a);return b},sda(a,b){if(!a)return!1;const d=a.da(),c=d.qa();b=Math.floor(b);if(b>=c.length)return!1;Mt(d,c[b]);
yv(a);return!0},wda(a){if(!a)return!1;const b=a.da(),d=b.qa(),c=Math.floor(this.g.ax()*d.length);if(c>=d.length)return!1;Mt(b,d[c]);yv(a);return!0},lda(a){if(!a||!a.J.length)return!1;a.da().lb=!0;yv(a);return!0},uda(a,b,d){if(!a)return!1;const c=a.da();var e=c.qa();const g=this.g.lc().Te,k=this.g.Xg().gk;c.lb?(JE.Pd(KE,e),Et(c),c.lb=!1):g?(JE.Pd(KE,c.$a),JE.D(c.$a)):(JE.Pd(KE,c.J),JE.D(c.J));for(let l=0,n=KE.length;l<n;++l)e=KE[l],JE.xor(El(e.m(),b,d),k)?c.J.push(e):c.$a.push(e);yv(a);return JE.xor(!!c.J.length,
k)},rda(a){if(!a)return!1;var b=a.Qa;let d=null;const c=this.g.mq;for(let e=c.length-1;0<=e;--e){const g=c[e];if(b){if(hz(g.H(),a)){d=g;break}}else if(g.H()===a){d=g;break}}d||(b=a.qa(),b.length&&(d=b.at(-1)));if(!d)return!1;Mt(a.da(),d);yv(a);return!0},i1(a){if(this.g.$f)a=AE(this,a);else{var b=this.g.Ga();const e=b.Zd(),g=Nt(e),k=g.lc();var d=k.ae(),c=Qt(g);const l=e.gb(k);b=b.wh;const n=b.gb();if(c)for(c=0;c<a&&!n.rd;++c)ou(d),n.ta=c,qv(k,g,l),pu(d);else for(d=0;d<a&&!n.rd;++d)n.ta=d,qv(k,g,l);
e.Za();b.Za();a=!1}return a},Dja(){if(this.g.$f)var a=BE(this);else{var b=this.g.Ga();a=b.Zd();const e=Nt(a),g=e.lc();var d=g.ae(),c=Qt(e);const k=a.gb(g);b=b.wh;const l=b.gb();if(c)for(c=0;!l.rd;++c)ou(d),l.ta=c,qv(g,e,k)||l.Tc(),pu(d);else for(d=0;!l.rd;++d)l.ta=d,qv(g,e,k)||l.Tc();a.Za();b.Za();a=!1}return a},L$(a,b,d){if(this.g.$f)d=CE(this,a,b,d);else{var c=this.g.Ga();const g=c.Zd(),k=Nt(g),l=k.lc();var e=l.ae();const n=Qt(k),p=g.gb(l);c=c.wh;const r=c.gb();r.yE(a);if(d<b)if(n)for(a=b;a>=d&&
!r.rd;--a)ou(e),r.ta=a,qv(l,k,p),pu(e);else for(e=b;e>=d&&!r.rd;--e)r.ta=e,qv(l,k,p);else if(n)for(a=b;a<=d&&!r.rd;++a)ou(e),r.ta=a,qv(l,k,p),pu(e);else for(e=b;e<=d&&!r.rd;++e)r.ta=e,qv(l,k,p);g.Za();c.Za();d=!1}return d},tR(a){if(this.g.$f)var b=DE(this,a);else{var d=this.g.Ga();b=d.Zd();const g=Nt(b),k=g.lc();var c=k.ae(),e=Qt(g);const l=b.gb(k);d=d.wh;const n=d.gb(),p=a.Sc(),r=a.da(),u=vE.gb();nE.Pd(u,r.qa());if(e)for(let x=0,y=u.length;x<y&&!n.rd;++x)ou(c),e=u[x],Ht(a.da(),e),p&&Pu(e),n.ta=x,
qv(k,g,l),pu(c);else{r.lb=!1;a=r.J;nE.D(a);a.push(null);for(let x=0,y=u.length;x<y&&!n.rd;++x)c=u[x],a[0]=c,p&&Pu(c),n.ta=x,qv(k,g,l)}b.Za();d.Za();nE.D(u);vE.Za();b=!1}return b},M$(a,b,d){if(this.g.$f)b=EE(this,a,d);else{var c=this.g.Ga();b=c.Zd();const e=c.Xg(),g=Nt(b),k=g.lc(),l=k.ae(),n=Qt(g),p=b.gb(k);c=c.wh;const r=c.gb(),u=a.Sc(),x=a.da(),y=vE.gb();nE.D(y);const A=x.qa();for(let D=0,F=A.length;D<F;++D)y.push([A[D],e.Ha[1].ea(D)]);y.sort(wE);1===d&&y.reverse();if(n)for(let D=0,F=y.length;D<
F&&!r.rd;++D)ou(l),d=y[D][0],Ht(a.da(),d),u&&Pu(d),r.ta=D,qv(k,g,p),pu(l);else{x.lb=!1;a=x.J;nE.D(a);a.push(null);for(let D=0,F=y.length;D<F&&!r.rd;++D)d=y[D][0],a[0]=d,u&&Pu(d),r.ta=D,qv(k,g,p)}b.Za();c.Za();nE.D(y);vE.Za();b=!1}return b},Kba(a){return a?a.Rd():!1},Dba(a){return a?rn(a):!1},Cba(a){return a?!a.J.length:!1},Bba(a,b,d){return a?JE.compare(100*a.bd(),b,d):!1},k0(){return!0},Xaa(){return 0<this.ct},yia(a,b){const d=this.g.nj;return d&&b?!!yt(d,a,b):!1}};const LE=self.B;
function ME(a,b){const d=a[0]-b[0];return 0!==d?d:a[1]-b[1]}function NE(a,b){return a[1]-b[1]}const OE=[],PE=[],QE=LE.A(LE.Rect),RE=LE.A(LE.mb);
LE.C.hb.Ma={w1(a,b){a.Me(b)},l8(a,b){a.up()&&"number"!==typeof b&&(b=parseFloat(b));a.Me(a.pd()+b)},qia(a,b){a.up()&&a.Me(a.pd()-b)},Ufa(a,b){a.Me(!!b)},Kia(a){a.Me(!a.pd())},Tea(){var a=this.g.Ga();for(const b of a.DL)b.Dd=b.ht},bR(a,b,d,c,e,g){if(a&&b&&(d=Tk(this.g,a,b,d,c,e,g))){e&&cn(b,d);b=this.g.Ga();Uk(b,!0);Vk(d);Uk(b,!1);b=new Map;OA(d,b,a,e);for(const [k,l]of b)Jt(k.da(),l)}},T9(a,b,d,c,e,g){a&&b&&(a=this.g.Rw.get(a.toLowerCase())||null)&&LE.C.hb.Ma.bR.call(this,a,b,d,c,e,g)},kz(a,b,d,c,
e,g,k,l,n,p){if(a){var r=U(this.g);if(g&&(r=up(this.g.nb,g),!r))return;g=null;if("number"!==typeof k||0<=k)if(g=r.V(k),!g)return;QE.set(b,d,c,e);b=r.kz(a,QE,g,l,n,p);It(a.da(),b);yv(a)}},eia(){const a=this.wh;0<=a.ta&&a.Cu().Tc()},Wu(a,b){(a=this.g.Ga().LM.get(a.toLowerCase())||null)&&(0===b?a.Wu(!1):1===b?a.Wu(!0):a.Wu(!a.Mu()))},wha(a){this.g.sz(a)},eha(a,b){0>b&&(b=0);if(a){a=a.da().qa();for(const d of a)d.sz(b)}},Yea(a){if(a){a=a.da().qa();for(const b of a)b.ne=-1,wA(b.H())&&UA(b.g,b,!1)}},RK(a){if(!(0>
a)){var b=su(this.g.Ga());b.Fa="timer";b.fl();b.Oc=Gk(b.Ra.I())+a;return!0}},l2(a){var b=su(this.g.Ga());b.Fa="signal";b.fl();b.WB=a.toLowerCase();return!0},j2(){const a=this.g.Ga();var b=su(a);const d=Promise.all(a.Tn);a.Tn=[];Az(b,d);return!0},B1(a){a=a.toLowerCase();this.DO.push(a);this.g.pa(LE.C.hb.G.y0,null);this.DO.pop();for(const b of this.g.Ga().vi)"signal"===b.Fa&&b.WB===a&&(b.pw=!0)},async $S(a,b,d,c,e,g){const k=this.g.$;k&&(this.M(),await k.$S(0===a?"image/png":"image/jpeg",b/100,d,c,
e,g),await this.g.Vd(LE.C.hb.G.Z_,null))},Wfa(a,b){if(!(0>=a||0>=b)){qD(this.g,a,b);en(U(this.g));var d=this.g.$;if(d){if("off"!==YC(d)){var c=this.g;if(c.gj!==a||c.fj!==b)c.gj=a,c.fj=b,a=c.nb,wp(a),xp(a)}d.vd(d.Xo,d.Wo,!0);this.g.M()}}},qga(a){const b=this.g.$;b&&"off"!==YC(b)&&($C(b,0!==a?"high":"low"),b.vd(b.Xo,b.Wo,!0))},js(a){this.g.SB=a},Vba(a){this.g.qB=a},Wba(a){this.g.ZJ(a)},sga(){},Uea(){for(const a of this.g.nb.Uj)a.Eq={},a.mt=!0},hha(a){var b=this.g;a=0!==a;b.jk!==a&&(b.jk=a,xp(b.nb),
b.M())},VS(a){this.g.VS(a)},Vha(a,b){if(a){var d=a.da().qa(),c=U(this.g),e=a.Qa;a=a.Zi;for(let l=0,n=d.length;l<n;++l){var g=d[l];const p=g.m();if(p){var k=void 0;e?(k=g.H().Wv[a],k=Jr(g,b+k)):k=Jr(g,b);OE.push([p.V().Ja(),Dl(p)]);PE.push([g,k])}}if(OE.length){OE.sort(ME);PE.sort(NE);b=!1;for(let l=0,n=OE.length;l<n;++l)d=PE[l][0],e=no(c,OE[l][0]),a=OE[l][1],g=e.J,g[a]!==d&&(g[a]=d,Xo(d.m(),e,!0),nn(e),b=!0);b&&this.g.M();LE.D(OE);LE.D(PE)}}},Z$(a){if(!this.g.mi){var b=this.g.nb;b.hj||(b.hj=a)}},
$$(a){if(!this.g.mi){var b=this.g.nb;!b.hj&&(a=up(b,a))&&(b.hj=a)}},wca(a){if(!this.g.mi){var b=this.g.nb;if(!b.hj){var d=b.Uj,c=d.indexOf(b.ub());if(!a||0!==c)if(a||c!==d.length-1)b.hj=d[c+(a?-1:1)]}}},Vea(){if(!this.g.mi){var a=this.g.nb;if(!a.hj){a.hj=a.ub();a=this.g.Ga();for(const b of a.EL)b.Wu(b.qN)}}},Mga(a,b){a&&a.hh(b)},Fga(a,b){a&&(a.ow=!!b)},Gga(a,b){a&&a.Vh(b/100)},Iga(a,b){a&&hl(a,b)},Jga(a,b){a&&il(a,b)},zga(a,b){a&&a.Gd(LE.La(+b))},Kga(a,b,d){a&&(ll(a,!0),a.bl(b),a.cl(d))},Xea(a){a&&
ll(a,!1)},Hga(a,b,d){if(a&&(b/=100,d/=100,a.Gf!==b||a.Hf!==d)&&(a.Gf=b,a.Hf=d,fn(a),a.g.M(),1!==a.Gf||1!==a.Hf))for(const c of a.J)c.H().Rz=!0},Nga(a,b){a&&a.wf(+b)},Aga(a,b){a&&($b(RE,b),RE.X(),a=a.Vn,Xb(a,RE)||(Vb(a,RE),this.M()))},Lga(a,b){a&&jl(a,b)},Bga(a,b){a&&a.te(b)},Cga(a,b,d){a&&(d=Aq(a.Va,d))&&(b=1===b,d.Rb!==b&&(d.Rb=!!b,a.Yh(),this.g.M()))},Dga(a,b,d,c){if(a&&(a=a.Va,b=Aq(a,b))){d=Math.floor(d);var e=b.gf().Qy(d);e&&("color"===e?($b(RE,c),c=RE):"percent"===e&&(c/=100),a.pz(b.Ja(),d,c)&&
b.Rb&&this.g.M())}},Ega(a,b){a&&kl(a,b)},Sga(a){U(this.g).BE(+a)},Oga(a){U(this.g).Gd(LE.La(+a))},Pga(a,b){const d=U(this.g);if(b=Aq(d.Va,b))a=1===a,b.Rb!==a&&(b.Rb=!!a,d.Yh(),this.g.M())},Qga(a,b,d){const c=U(this.g).Va;if(a=Aq(c,a)){b=Math.floor(b);var e=a.gf().Qy(b);e&&("color"===e?($b(RE,d),d=RE):"percent"===e&&(d/=100),c.pz(a.Ja(),b,d)&&a.Rb&&this.g.M())}},Tga(a,b){var d=U(this.g);a/=100;b/=100;if(d.bI!==a||d.cI!==b)d.bI=a,d.cI=b,d.Kg||(Ho(d),Io(d),d.g.M())},Rga(a){const b=U(this.g);0===a?$k(b):
al(b)},Bfa(a){U(this.g).bl(a)},Cfa(a){U(this.g).cl(a)},o1(a,b){const d=U(this.g);d.bl(a);d.cl(b)},Afa(a){if(a&&(a=Rx(a))&&(a=a.m())){var b=U(this.g);b.bl(a.Y());b.cl(a.Z())}},SQ(a,b,d){const c=U(this.g);try{c.SQ(a,b,d)}catch(e){console.warn("[Construct] Cannot add layer: ",e)}},YR(a,b,d){if(a){var c=U(this.g);try{c.YR(a,b,d)}catch(e){console.warn("[Construct] Cannot move layer: ",e)}}},zS(a){a&&U(this.g).zS(a)},kK(){U(this.g).kK()},async H_(a){const b=this.g.ub();b&&a&&!this.g.mi&&await zE(this,b,
a.Qa?a.ho:[a])},async Uba(a){await LE.C.hb.Ma.H_.call(this,this.g.Rw.get(a.toLowerCase())||null)},c2(a){const b=this.g.ub();if(b&&a){a=a.Qa?a.ho:[a];for(const d of a)0===d.J.length&&Vo(b,d)}},cja(a){LE.C.hb.Ma.c2.call(this,this.g.Rw.get(a.toLowerCase())||null)},dja(){const a=this.g.ub();if(a){var b=[...a.oj];for(const d of b)0===d.J.length&&Vo(a,d)}},async Pba(a){const b=this.g.ub();a&&b&&!this.g.mi&&await zE(this,b,[...a.et])},async Qba(a){const b=this.g.ub();(a=up(this.g.nb,a))&&b&&!this.g.mi&&
await zE(this,b,[...a.et])},uE(a){var b=this.ke.IF;if(b=0===b.length?null:b.at(-1))switch(b.pU){case 1:"number"===typeof a&&b.uE(a);break;case 2:"string"===typeof a&&b.uE(a);break;case 3:b.uE(a)}},bca(a,b,d){var c=FE(this,a.toLowerCase(),!0);const e=c.YI,g=b.toLowerCase();e.has(g)&&console.warn(`[Construct] Function map '${a}' string '${b}' already in map; overwriting entry`);(c=LE.first(e.values())||c.lr)&&0!==c.Jl!==(0!==d.Jl)?console.error(`[Construct] Function map '${a}' string '${b}' function return type not compatible with other functions in the map; entry ignored`):
e.set(g,d)},cca(a,b){const d=FE(this,a.toLowerCase(),!0);d.lr&&console.warn(`[Construct] Function map '${a}' already has a default; overwriting entry`);const c=LE.first(d.YI.values())||d.lr;c&&0!==c.Jl!==(0!==b.Jl)?console.error(`[Construct] Function map '${a}' default: function return type not compatible with other functions in the map; entry ignored`):d.lr=b},W8(a,b,d){d=Math.floor(d);var c=FE(this,a.toLowerCase(),!1);if(c){var e=c.YI.get(b.toLowerCase());if(!e)if(c.lr)e=c.lr,d=0;else{console.warn(`[Construct] Call mapped function: no function associated with map '${a}' string '${b}'; call ignored (consider setting a default)`);
return}if(e.Bb())if(0!==e.Jl)console.warn(`[Construct] Call mapped function: map '${a}' string '${b}' has a return type so cannot be called`);else{var g=this.g,k=g.Ga().lc();a=k.fe();(b=0<a.length)&&(e.uh?ou(a):nu(a));c=[];if(k=yu(k)){k=k.th;for(let n=d,p=k.length;n<p;++n)c.push(k[n].pd())}d=e.th;for(let n=c.length,p=d.length;n<p;++n)c.push(d[n].ht);if(g.$f)a=GE(e,c,b,a);else{d=e.Je();var l=e.uh;e=d.fe();g=0<e.length;k=d.ke;const n=d.g.Ga(),p=1<++n.Qe;p&&n.ve.gb();vv(d.If,c);g&&(l?ou(e):nu(e));c=
k.gb(d);sv(d,c)&&(c.Vf=d,mv(d,c));k.Za();p&&n.ve.Za();g&&pu(e);--n.Qe;b&&pu(a);a=void 0}return a}}else console.warn(`[Construct] Call mapped function: map name '${a}' not found; call ignored`)}};const SE=self.B;
SE.C.hb.ob={Nla:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},ila:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},ip(a){return a.toString()},ZC(a){return"string"===typeof a?a.length:0},random(a,b){return"undefined"===typeof b?this.g.ax()*a:this.g.ax()*(b-a)+a},OW(...a){return a[Math.floor(this.g.ax()*a.length)]},Eka(a,...b){"number"!==typeof a&&(a=0);a=SE.X(Math.floor(a),0,b.length-1);return b[a]},Lma(){return Math.PI},Lla(){return Infinity},
sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},round(a){return Math.round(a)},ona(a,b){b=Math.max(Math.floor(b),0);b=Math.pow(10,b);return Math.round((a+Number.EPSILON)*b)/b},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(SE.La(a))},cos(a){return Math.cos(SE.La(a))},tan(a){return Math.tan(SE.La(a))},asin(a){return SE.Qc(Math.asin(a))},acos(a){return SE.Qc(Math.acos(a))},atan(a){return SE.Qc(Math.atan(a))},exp(a){return Math.exp(a)},
D6(a){return Math.log(a)},log10(a){return Math.log(a)/Math.LN10},max(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let d=1,c=a.length;d<c;++d){let e=a[d];"number"===typeof e&&b<e&&(b=e)}return b},min(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let d=1,c=a.length;d<c;++d){let e=a[d];"number"===typeof e&&b>e&&(b=e)}return b},X(a,b,d){return SE.X(a,b,d)},Nf(a,b,d,c){return SE.Gh(a,b,d,c)},angle(a,b,d,c){return SE.Qc(SE.jr(a,b,d,c))},Pc(a,b,d){return SE.Pc(a,b,d)},eJ(a,b,d){return SE.eJ(a,b,d)},
NI(a,b,d,c){return SE.NI(a,b,d,c)},RW(a,b,d,c,e){return SE.RW(a,b,d,c,e)},PW(a,b,d){return SE.PW(a,b,d)},oka(a,b){return SE.Qc(SE.Zo(SE.La(a),SE.La(b)))},pka(a,b,d){return SE.Qc(SE.rP(SE.La(a),SE.La(b),d))},qka(a,b,d){return SE.Qc(SE.jI(SE.La(a),SE.La(b),SE.La(d)))},Ana(a,b,d){b|=0;return(a|0)&~(1<<b)|(0!==d?1:0)<<b},Tna(a,b){return(a|0)^1<<(b|0)},Ela(a,b){return(a|0)&1<<(b|0)?1:0},yma(){return"\n"},coa(a){return"string"===typeof a?a.toUpperCase():""},rma(a){return"string"===typeof a?a.toLowerCase():
""},left(a,b){return"string"===typeof a?a.substr(0,b):""},mid(a,b,d){return"string"!==typeof a?"":0>d?a.substr(b):a.substr(b,d)},right(a,b){return"string"===typeof a?a.substr(Math.max(a.length-b,0)):""},trim(a){return"string"===typeof a?a.trim():""},Una(a,b,d){if("string"!==typeof a||"string"!==typeof d)return"";a=a.split(d);b=Math.floor(b);return 0>b||b>=a.length?"":a[b]},Vna(a,b){return"string"===typeof a&&"string"===typeof b&&a.length?a.split(b).length:0},find(a,b){return"string"===typeof a&&"string"===
typeof b?a.search(new RegExp(SE.Ay(b),"i")):-1},hla(a,b){return"string"===typeof a&&"string"===typeof b?a.search(new RegExp(SE.Ay(b),"")):-1},replace(a,b,d){return"string"===typeof a&&"string"===typeof b&&"string"===typeof d?a.replace(new RegExp(SE.Ay(b),"gi"),d):"string"===typeof a?a:""},Zma(a,b,d){b=xE(b,d);return a?a.search(b):-1},Yma(a,b,d,c){b=xE(b,d);return a?a.replace(b,c):""},Xma(a,b,d){return(a=yE(a.toString(),b,d))?a.length:0},Wma(a,b,d,c){c=Math.floor(c);a=yE(a.toString(),b,d);return!a||
0>c||c>=a.length?"":a[c]},woa(a,b){let d=0>a?"-":"";0>a&&(a=-a);d+="0".repeat(Math.max(b-a.toString().length,0));return d+a.toString()},eoa(a){return encodeURIComponent(a)},doa(a){return decodeURIComponent(a)},GP(){return this.g.vA},Rna(){return this.g.ne},roa(){return(Date.now()-this.g.Rq)/1E3},Zna(){return Date.now()},time(){return Gk(this.g)},Pna(){return this.g.pj},Dma(){return this.g.cO},c6(){return this.g.EA},Ika(){return this.g.ZG},Fla(){return this.g.PD()},toa(){return this.g.$.nh},soa(){return this.g.$.mh},
Hma(){return this.g.gj},Gma(){return this.g.fj},Fma(){return this.g.gj},Ema(){return this.g.fj},f7(){return U(this.g).Ph()},g7(){return U(this.g).Qh()},lma(){return U(this.g).oa()},mma(){return U(this.g).ye},jma(){return SE.Qc(U(this.g).Ka())},nma(){return U(this.g).L()},kma(){return U(this.g).K()},goa(){return 100*Bn(U(this.g))},hoa(){return 100*Cn(U(this.g))},loa(a){return(a=U(this.g).V(a))?zn(a).ca:0},poa(a){return(a=U(this.g).V(a))?zn(a).aa:0},ooa(a){return(a=U(this.g).V(a))?zn(a).la:0},joa(a){return(a=
U(this.g).V(a))?zn(a).ka:0},qoa(a){return(a=U(this.g).V(a))?zn(a).width():0},koa(a){return(a=U(this.g).V(a))?zn(a).height():0},moa(a){return(a=U(this.g).V(a))?(a=zn(a),(a.ca+a.la)/2):0},noa(a){return(a=U(this.g).V(a))?(a=zn(a),(a.aa+a.ka)/2):0},Bka(a,b,d){return(a=U(this.g).V(a))?xn(a,b,d)[0]:0},Cka(a,b,d){return(a=U(this.g).V(a))?xn(a,b,d)[1]:0},cma(a,b,d){return(a=U(this.g).V(a))?ko(a,b,d)[0]:0},dma(a,b,d){return(a=U(this.g).V(a))?ko(a,b,d)[1]:0},ema(a,b,d,c){const e=U(this.g);a=e.V(a);b=e.V(b);
if(!a||!b||a===b)return d;const [g,k]=ko(a,d,c);return xn(b,g,k)[0]},fma(a,b,d,c){const e=U(this.g);a=e.V(a);b=e.V(b);if(!a||!b||a===b)return c;const [g,k]=ko(a,d,c);return xn(b,g,k)[1]},Zla(a){return(a=U(this.g).V(a))?a.ye:0},Ula(a){return(a=U(this.g).V(a))?SE.Qc(a.Uf):0},Wla(a){return(a=U(this.g).V(a))?100*a.bd():0},$la(a){return(a=U(this.g).V(a))?a.zk:0},ama(a){return(a=U(this.g).V(a))?a.Ph():0},bma(a){return(a=U(this.g).V(a))?a.Qh():0},Xla(a){return(a=U(this.g).V(a))?100*a.Gf:0},Yla(a){return(a=
U(this.g).V(a))?100*a.Hf:0},gma(a){return(a=U(this.g).V(a))?a.Sa():0},Vla(a){return(a=U(this.g).V(a))?a.Ja():-1},Aka(){const a=this.g.$;return a?a.bC:""},qma(a){var b=this.wh;if(!(0<=b.ta))return 0;if(a){a:{const d=b.Db;for(b=b.ta;0<=b;--b){const c=d[b];if(c.oa()===a){a=c;break a}}a=null}return a?a.Ja():0}return b.Cu().Ja()},pna(){return this.g.pt},zka(a,b,...d){var c=FE(this,a.toLowerCase(),!1);if(!c)return console.warn(`[Construct] Call mapped function: map name '${a}' not found; returning 0`),
0;let e=c.YI.get(b.toLowerCase());if(!e)if(c.lr)e=c.lr;else return console.warn(`[Construct] Call mapped function: no function associated with map '${a}' string '${b}'; returning 0 (consider setting a default)`),0;c=e.Jl;const g=Du(e);if(0===c)return console.warn(`[Construct] Call mapped function: map '${a}' string '${b}' has no return type so cannot be called from an expression; returning 0`),0;if(!e.Bb())return g;a=this.g.Ga().lc().fe();(b=0<a.length)&&(e.uh?ou(a):nu(a));var k=e.th;for(let l=d.length,
n=k.length;l<n;++l)d.push(k[l].ht);k=e.Je();d=k.qK(k.fe(),e.uh,c,g,...d);b&&pu(a);return d},pma(){return this.g.Nb.MG},Jla(){return 0===this.ct?1:this.SA/this.ct},Hh(){return this.g.jm()?"webgpu":"webgl"},cna(){return this.g.jm()?Zi(this.g.jm()):this.g.Qr().Kx},Kla(){let a=this.g.Ba().CJ();return Math.round(100*a/1048576)/100},dna(a,b,d){return SE.L0(a,b,d)},gna(a,b,d){return SE.rS(a/100,b/100,d/100)},ena(a,b,d,c){return SE.kE(a/100,b/100,d/100,c/100)},hna(a,b,d){return SE.rS(a/255,b/255,d/255)},
fna(a,b,d,c){return SE.kE(a/255,b/255,d/255,c/255)},Sma(){return this.g.qH},Tma(){return this.g.HV},Mka(){return this.g.lc().Ad.oa()},Lka(){return this.g.lc().Pv}};"use strict";const TE=self.B;TE.C.Td=class extends TE.Kj{constructor(a){super(a)}j(){super.j()}};"use strict";const UE=self.B;
async function VE(a,b,d,c,e){if(!0!==d.nr&&null!==d.nr){d.nr=null;e.qy=b.lp(d.fJ.width,d.fJ.height);await b.vz(d.fJ,e.qy);"function"===typeof d.fJ.close&&d.fJ.close();if(d.cp&&0!==Object.keys(d.cp).length)for(const g in d.cp)c[g]=b.lp(d.cp[g].width,d.cp[g].height,{Zb:a.g.Ob,Xl:d.cp[g].uoa,Yl:d.cp[g].voa}),await b.vz(d.cp[g],c[g]),"function"===typeof d.cp[g].close&&d.cp[g].close();d.nr=!0}}
UE.C.Td.xf=class extends UE.qm{constructor(a){super(a)}j(){super.j()}ec(){bA(this.$b(),this.g);this.SP=-1;this.Yt=!1;this.Ab=new globalThis.KJ(this.g,this);this.nr=!1;this.Vg={}}In(a){return this.$b().wp(a,{Zb:this.g.Ob})}mm(){this.$b().Jj()}};"use strict";const WE=self.B;
function XE(a,b,d){var c=a.hy,e=a.rr,g=[[e[0],e[1],e[2]],[c[0],e[1],e[2]],[c[0],c[1],e[2]],[e[0],c[1],e[2]],[e[0],e[1],c[2]],[c[0],e[1],c[2]],[c[0],c[1],c[2]],[e[0],c[1],c[2]]],k=a.za.II;if(k){a.Br=[1E5,1E5,1E5];a.Ar=[-1E5,-1E5,-1E5];c=a.Br;e=a.Ar;var l=globalThis.eX.yr,n=l.create();for(let r=0;r<g.length;r++){var p=g[r];p=l.Ce(p[0],p[1],p[2]);l.lu(n,p,k);c[0]>n[0]&&(c[0]=n[0]);c[1]>n[1]&&(c[1]=n[1]);c[2]>n[2]&&(c[2]=n[2]);e[0]<n[0]&&(e[0]=n[0]);e[1]<n[1]&&(e[1]=n[1]);e[2]<n[2]&&(e[2]=n[2])}a.hy[0]!=
Number.POSITIVE_INFINITY&&a.rr[0]!=Number.NEGATIVE_INFINITY&&a.hy[1]!=Number.POSITIVE_INFINITY&&a.rr[1]!=Number.NEGATIVE_INFINITY&&(g=a.m(),k=e[0]-c[0],l=e[1]-c[1],l=0==l?1:l,k=0==k?1:k,g.vd(k*a.IC,l*a.IC),g.Lj(-(c[0]-b)/k),g.Mj(-(c[1]-d)/l),YE(a,(e[2]-c[2])*a.IC))}}
async function ZE(a){const b=a.m();a.za=a.De?a.ty?new globalThis.DZ(a.g,a,a):new globalThis.CZ(a.g,a,a):a.ty?new globalThis.DZ(a.g,a.Ee,a):new globalThis.CZ(a.g,a.Ee,a);await a.za.init();let d=a.De?a.Vg:a.Ee.Vg,c=a.De?a:a.Ee,e=a.De?a.Ab:a.Ee.Ab,g=a.Hh;!0!==e.nr&&VE(a.Ee,g,e,d,c);a.loaded=!0;a.Zt=[];a.Ok=!0;a.sb.M();0<a.za.MP().length&&(a.animationName=a.za.MP()[0]);a.za.boa(b.Y(),b.Z(),b.Sa());XE(a,b.Y(),b.Z());a.pa(WE.C.Td.G.kS)}
function YE(a,b){b=Math.max(b,0);a.vj!==b&&(a.vj=b,KB(a.m(),b),a.g.M())}function $E(a,b){for(var d=0;d<a.za.Ab.FQ.length;d++){var c=a.za.Ab.FQ[d];if(c.name==b)return c}for(d=0;d<a.za.Ab.KI.length;d++)if(c=a.za.Ab.KI[d],c.name==b)return c;return!1}
WE.C.Td.Instance=class extends WE.Tu{constructor(a,b){super(a);this.Ee=this.qb;this.sb=a.I();this.Hh=this.sb.$.Ba();this.uid=this.ga().Yb;this.loaded=!1;this.Wt=0;this.Zt=[];this.sP=0;this.Tx=1;this.kI=0;this.tP=60;this.HC=!0;this.animationName="";this.$l=this.rn=this.qn=1;this.Ok=this.debug=!1;this.SW=this.TW=0;this.rr=[0,0,0];this.hy=[0,0,0];this.Xd=!0;this.Ab=null;this.De=!1;this.Vg={};this.Yt=!1;this.OC=[];this.qy=null;this.TP=!1;this.z7=this.m();this.LC=null;this.Br=[0,0,0];this.Ar=[0,0,0];this.IC=
1;this.gJ=!1;this.QQ=this.OQ=this.NQ=2;this.Hi=new Map;this.aQ=!1;this.HQ=[0,0,0];this.qr={};this.B5="";this.O5=!1;this.Hk=this.q7=this.p7=0;b&&(this.scale=b[0],a.m(),this.zr=b[2],this.Cr=b[3],this.Dr=b[4],this.$t=b[6],this.debug=b[7],this.Sx=b[8],this.De=b[9],this.TP=b[10],this.qn=b[11],this.rn=b[12],this.$l=b[13],this.gJ=b[14],this.ty=b[15]);this.bQ=[0,0,0];this.De?(this.Ab=new globalThis.KJ(this.sb,this),"path"!=this.$t&&""!=this.$t&&this.Ab.load(this.$t,!0,this.debug)):(a=this.Ee,-1==a.SP&&(a.SP=
this.uid,"path"!=this.$t&&""!=this.$t&&a.Ab.load(this.$t,!0,this.debug)));this.Bg();this.m()}RR(){const a=this.m(),b=a.V();return wn(b)?vo(a,io(b)):bo(a,yn(b),ao(a.Xb()),a.Xb().Kg)}jf(){var a=this.RR();this.loaded||!(!this.De&&this.Ee.Yt||this.De&&this.Yt)||this.WW||(this.WW=!0,ZE(this));if(this.loaded)if(this.HC&&this.za.Ab.hasOwnProperty("animations")){this.Wt+=Fk(this.g)*this.Tx;const b=this.Wt-this.kI;b>=1/this.tP&&(this.kI=this.Wt,this.Zt=[],this.za.aoa(this.sP,this.Wt,a,b))}else if(this.Ok||
this.aQ)this.Ok=!1,this.Zt=[],this.za.Ala(),this.sb.M(),this.Xd=!0;this.LC&&(a=this.z7,Bl(a,this.LC.position.x,this.LC.position.y),a.wf(this.LC.position.z),JB(a),this.sb.M(),this.Xd=!0)}xp(){return!1}ng(a){var b=this.R.$b().Jb();if(b&&this.loaded){var d=this.m(),c=d.Y(),e=d.Z(),g=d.Sa(),k=this.De?this.Vg:this.Ee.Vg,l=this.De?this:this.Ee,n=this.De?this.Ab:this.Ee.Ab;n?(!0!==n.nr&&VE(this.Ee,a,n,k,l),(0===k.length||this.TP)&&a.Ud(b),b=WE.A(WE.ed),this.loaded&&"path"!=this.$t&&(this.za.bna(a,c,e,g,
b,l.qy,d.RD(),k,this.TP),this.Xd&&(this.O5?(a=this.m(),g=this.hy[0]-this.rr[0],k=this.hy[1]-this.rr[1],k=0==k?1:k,g=0==g?1:g,a.vd(g,k),a.Lj(-(this.rr[0]-c)/g),a.Mj(-(this.rr[1]-e)/k)):XE(this,c,e),T(d),this.Xd=!1))):lo(this.sb,this.ga())}}Gc(){return{}}cc(){}ac(){return 0}Le(){}j(){const a=Object.keys(this.Vg);if(0<a.length)for(const b of a)this.Hh.Wg(this.Vg[b]);this.qy&&this.Hh.Wg(this.qy);this.za&&this.za.release();this.HQ=this.aQ=this.za=this.Hi=this.QQ=this.OQ=this.NQ=this.ty=this.gJ=this.rr=
this.hy=this.IC=this.LC=this.qy=this.OC=this.Yt=this.Vg=this.De=this.Ab=this.Xd=this.SW=this.TW=this.Ok=this.debug=this.$l=this.rn=this.qn=this.animationName=this.HC=this.tP=this.kI=this.Tx=this.sP=this.Zt=this.Wt=this.loaded=this.uid=this.Hh=this.sb=this.Ee=null;super.j()}ac(a){console.log("GetPropertyValueByIndex",a);switch(a){case 0:return this.scale;case 2:return this.zr;case 3:return this.Cr;case 4:return this.Dr;case 11:return this.qn;case 12:return this.rn;case 13:return this.$l;default:return 0}}Le(a,
b){console.log("SetPropertyValueByIndex",a,b);switch(a){case 0:this.scale=b;break;case 2:this.zr=b;break;case 3:this.Cr=b;break;case 4:this.Dr=b;break;case 11:this.qn=b;break;case 12:this.rn=b;break;case 13:this.$l=b}this.sb.M();this.Xd=!0}Ke(){return self.LZ}};const aF=new WeakMap;
self.LZ=class extends self.Ec{constructor(){super();aF.set(this,self.Ni.Zh().ja)}get model(){return aF.get(this).za.Ab}set zr(a){var b=aF.get(this);b.zr=a;b.sb.M();b.Xd=!0}set Cr(a){var b=aF.get(this);b.Cr=a;b.sb.M();b.Xd=!0}set Dr(a){var b=aF.get(this);b.Dr=a;b.sb.M();b.Xd=!0}get zr(){return aF.get(this).zr}get Cr(){return aF.get(this).Cr}get Dr(){return aF.get(this).Dr}set qn(a){var b=aF.get(this);b.qn=a;b.sb.M();b.Xd=!0}set rn(a){var b=aF.get(this);b.rn=a;b.sb.M();b.Xd=!0}set $l(a){var b=aF.get(this);
b.$l=a;b.sb.M();b.Xd=!0}get qn(){return aF.get(this).qn}get rn(){return aF.get(this).rn}get $l(){return aF.get(this).$l}set Sx(a){aF.get(this).Sx=a}get Sx(){return aF.get(this).Sx}};"use strict";self.B.C.Td.G={kS(){return!0},cz(){return this.loaded},Mca(){return!0},W_(a){return this.B5==a},m_(){return this.m_},xba(){return this.gJ},IsPlaying(a){return this.animationName==a}};"use strict";
self.B.C.Td.Ma={efa(a,b){this.loaded&&this.K6.rotate(a,b,!1)},Pha(a){const b=this.m();b.wf(a);JB(b);this.Xd=!0},Xga(a,b,d){const c=this.m();c.Lj(a);c.Mj(b);this.bQ[0]=a;this.bQ[1]=b;this.bQ[2]=d},BE(a){this.scale=a;this.sb.M();this.Xd=!0},oha(a,b,d){this.loaded&&(this.K6.mna(a,b,d),this.Xd=!0)},u1(a,b,d){this.loaded&&(this.zr=a,this.Cr=b,this.Dr=d,this.sb.M(),this.Xd=!0)},O0(a){if(this.loaded){var b=this.za.MP();if(b){var d=-1;b.forEach((c,e)=>{a==c&&(d=e)});0<=d&&(this.animationName=a,this.kI=this.Wt=
0,this.sP=d,this.HC=!0);this.Xd=!0}}},Qfa(a){this.tP=a},z1(a){YE(this,a);this.Xd=!0},Rfa(a){this.Tx=a},L1(){this.HC=!1},eja(){this.HC=!0},Nha(a){this.qn=a;this.sb.M();this.Xd=!0},Oha(a){this.rn=a;this.sb.M();this.Xd=!0},Qha(a){this.$l=a;this.sb.M();this.Xd=!0},jja(){this.Xd=!0},Sba(a){if(!(!a||""==a||"path"==a||this.De&&this.Yt||!this.De&&this.Ee.Yt)){if(this.De)this.Ab=new globalThis.KJ(this.sb,this),console.log("gltfPath -ACE",a),this.Ab.load(a,!0,this.debug),this.Ab.nr=!1;else{let b=this.Ee;b.SP=
this.uid;b.Ab.load(a,!0,this.debug);b.Ab.nr=!1}this.loaded=this.WW=!1;this.sb.M();this.Xd=!0}},async Rba(a,b){if(this.loaded){var d=this.De?this.Vg:this.Ee.Vg;if(d&&b&&a){var c=this.Hh,e=await qm(this.sb.Nb,a);e=await (await fetch(e,{mode:"cors"})).blob();if(e="function"===typeof globalThis.createImageBitmap?await createImageBitmap(e):await globalThis.KJ.createImageBitmap(e))d[b]=c.lp(e.width,e.height,{Zb:this.sb.Ob}),await c.vz(e,d[b]),d[b].H6=a,"function"===typeof e.close&&e.close()}}},$ga(a,b){const d=
this.za.zma[a];if(d)if(b in(this.De?this.Vg:this.Ee.Vg)){for(a=0;a<this.za.Ab.FQ.length;a++){var c=this.za.Ab.FQ[a].I6;if(c&&c.name===d)for(var e=0;e<c.vQ.length;e++){var g=c.vQ[e];"material"in g&&(g.G6={name:b,V6:{F5:{index:0}}})}}for(a=0;a<this.za.Ab.KI.length;a++)if((c=this.za.Ab.KI[a].I6)&&c.name===d)for(e=0;e<c.vQ.length;e++)(g=c.vQ[e])&&"material"in g&&(g.G6={name:b,V6:{F5:{index:0}}});this.Ok=!0}else this.debug&&console.warn("[3DObject] SetMeshMaterial material not found",b);else this.debug&&
console.warn("[3DObject] SetMeshMaterial node not found",a)},te(a){this.Hk=a;this.loaded&&this.m()},r$(a,b){if(this.za&&this.za.Ab){var d=$E(this,a);d&&(d.disabled=!b,this.Ok=!0,this.ty&&this.za.bla(a,b))}},dha(a,b,d){if(this.za&&this.za.Ab){var c=$E(this,a);c&&(c.JI||(c.JI=new Map),c.JI.set(b,d),this.Ok=!0,this.ty&&this.za.yna(a,b,d))}},e$(a,b){if(this.za&&this.za.Ab){var d=$E(this,a);d&&d.JI&&(d.JI.delete(b),this.Ok=!0,this.ty&&this.za.Ska(a,b))}},Lca(a,b,d){this.za&&this.za.Ab&&(a=$E(this,a))&&
(a.jy={ru:b,su:d},this.Ok=!0)},d$(a){const b=this.Hh,d=this.De?this.Vg:this.Ee.Vg;a in d&&(b.Wg(d[a]),delete d[a])},Lj(a){const b=this.m();b.Lj(a);T(b)},Mj(a){const b=this.m();b.Mj(a);T(b)},Sfa(a){this.IC=a},t$(a){this.gJ=a},Lha(a,b,d){this.NQ=a;this.OQ=b;this.QQ=d},Tba(a){if(this.De){var b=tq(this.sb,a);if(b){var d=this.H().oa(),c=b.H().oa();d!==c?console.warn("LoadModelFromTemplate: template object type does not match, instance uid, template uid",this.uid,a):(b=b.ja,b.loaded?(this.Ee=b,this.Ee.Yt=
!0,this.De=!1):console.warn("LoadModelFromTemplate: template not loaded, instance uid, template uid",this.uid,a))}else console.warn("LoadModelFromTemplate template uid not found",a)}else console.warn("LoadModelFromTemplate only works on instance models")},Pfa(a){this.Sx=a},Kca(a,b,d){if(this.za&&this.za.Ab){if(this.Hi.has(a)){const c=this.Hi.get(a);c.jy={ru:b,su:d};this.Hi.set(a,c)}else this.Hi.set(a,{jy:{ru:b,su:d}});this.Ok=!0}},ifa(a,b,d,c){if(this.za&&this.za.Ab){b=b*Math.PI/180;if(this.Hi.has(a)){const e=
this.Hi.get(a);e.RI={angle:b,x:d,y:c};this.Hi.set(a,e)}else this.Hi.set(a,{RI:{angle:b,x:d,y:c}});this.Ok=!0}},Uga(){},Jha(){},p$(a){this.aQ=a;this.Ok=!0},mja(){},s$(a,b,d,c){this.HQ=[b,-d,c]},d8(a,b,d,c,e,g,k,l,n,p,r,u,x,y,A,D,F,J){r=Math.cos(r/2*Math.PI/180);if(0<=d)var H=(d&255)/255;else H=Math.floor(-d/274877906944),8191<H&&(H-=16384),H/=1024;if(0<=d)var L=((d&65280)>>8)/255;else L=Math.floor(-d%274877906944/16777216),8191<L&&(L-=16384),L/=1024;if(0<=d)var Y=((d&16711680)>>16)/255;else Y=Math.floor(-d%
16777216/1024),8191<Y&&(Y-=16384),Y/=1024;this.qr[a]={enable:b,color:[H,L,Y,0===d&&0>1/d?0:0<=d?1:Math.floor(-d%1024)/1023],Rma:[c,e,g],dla:k,HQ:[l,n,p],Nka:r,$ka:u*r,ska:x,tka:y,uka:A,cla:D,Bna:F,Cna:J}},c$(a){a in this.qr&&delete this.qr[a]},q$(a,b){a in this.qr&&(this.qr[a].enable=b)},Lfa(){},Iha(){}};"use strict";
self.B.C.Td.ob={A8(){return JSON.stringify(this.za.MP())},aka(){return this.m().Sa()},U9(){return this.animationName},W9(){return this.TW},V9(){return this.SW},wfa(){return this.scale},Qja(){return this.qn},Xja(){return this.rn},K2(){return this.$l},Lja(){return this.zr},Sja(){return this.Cr},I2(){return this.Dr},Oja(){return this.Br?this.Br[0]:0},Vja(){return this.Br?this.Br[1]:0},$ja(){return this.Br?this.Br[2]:0},Nja(){return this.Ar?this.Ar[0]:0},Uja(){return this.Ar?this.Ar[1]:0},Zja(){return this.Ar?
this.Ar[2]:0},Rja(){return this.NQ},Yja(){return this.OQ},fka(){return this.QQ},Yia(a){return this.za&&this.za.Ab?(a=$E(this,a))?"offsetUV"in a?a?.jy?.ru:0:0:0},nja(a){return this.za&&this.za.Ab?(a=$E(this,a))?"offsetUV"in a?a?.jy?.su:0:0:0},ica(a){if(!this.za||!this.za.Ab)return 0;a=this.Hi.get(a);return a?(a=a.jy)?a.ru:0:0},jca(a){if(!this.za||!this.za.Ab)return 0;a=this.Hi.get(a);return a?(a=a.jy)?a.su:0:0},fca(a){if(!this.za||!this.za.Ab)return 0;a=this.Hi.get(a);return a?(a=a.RI)?180*a.angle/
Math.PI:0:0},gca(a){if(!this.za||!this.za.Ab)return 0;a=this.Hi.get(a);return a?(a=a.RI)?a.x:0:0},hca(a){if(!this.za||!this.za.Ab)return 0;a=this.Hi.get(a);return a?(a=a.RI)?a.y:0:0},kca(){let a=this.De?this.Vg:this.Ee.Vg,b=[];for(let d in a)b.push({name:d,path:a[d].H6||d});return JSON.stringify(b)},zca(a,b){const d=globalThis.eX.yr;let c=[0,0,0];if(!(this.za&&this.za.Ab&&this.za.HI.has(a)&&this.za.II))return JSON.stringify(c);a=this.za.OC[this.za.HI.get(a)].Zt[0];if(!a)return JSON.stringify(c);b=
d.Ce(a[3*b],a[3*b+1],a[3*b+2]);d.lu(c,b,this.za.II);return`{"x": ${c[0]}, "y": ${c[1]}, "z": ${c[2]}}`},Aca(a){if(!this.za||!this.za.Ab||!this.za.HI.has(a))return 0;a=this.za?.OC[this.za.HI.get(a)]?.Zt[0];return Array.isArray(a)?a.length/3:0},w8(){return this.Sx},Lba(a){if(!(this.za&&this.za.Ab&&a in this.qr))return 0;var b=this.qr[a].color;a=b[0];var d=b[1],c=b[2];b=b[3];a=WE.X(Math.floor(1024*a),-8192,8191);d=WE.X(Math.floor(1024*d),-8192,8191);c=WE.X(Math.floor(1024*c),-8192,8191);b=WE.X(Math.floor(1023*
b),0,1023);0>a&&(a+=16384);0>d&&(d+=16384);0>c&&(c+=16384);return-(274877906944*a+16777216*d+1024*c+b)},Mba(){return JSON.stringify(this.qr)},mY(){return this.Tx},Lia(){return this.p7},Mia(){return this.q7},xca(a){if(!this.za||!this.za.Ab)return JSON.stringify([0,0,0,0,0,0]);a=this.za.HI.get(a);if(!this.za.OC[a])return JSON.stringify([0,0,0,0,0,0]);a=this.za.OC[a].Zt;const b=globalThis.eX.yr,d=b.Ce(Infinity,Infinity,Infinity),c=b.Ce(-Infinity,-Infinity,-Infinity);for(let e=0;e<a.length;e++){const g=
a[e];for(let k=0;k<g.length;k+=3){const l=b.Ce(g[k],g[k+1],g[k+2]);b.max(c,c,l);b.min(d,d,l)}}b.lu(c,c,this.za.II);b.lu(d,d,this.za.II);return JSON.stringify([c[0],c[1],c[2],d[0],d[1],d[2]])}};"use strict";const bF=self.B;bF.C.Keyboard=class extends bF.Kj{constructor(a){super(a)}j(){super.j()}};const cF=self.B;cF.C.Keyboard.xf=class extends cF.qm{constructor(a){super(a)}j(){super.j()}ec(){}Ke(){return self.SZ}};self.SZ=class extends self.$y{constructor(a){super(a);a.I().fA.keyboard=this}};
const dF=self.B;
dF.C.Keyboard.Instance=class extends dF.hs{constructor(a){super(a);this.uw=new Set;this.vw=new Set;this.cn=0;this.tC=this.XH="";a=this.I().ib();this.yd=new dF.wu(dF.td.qe(a,"keydown",b=>this.iL(b.data)),dF.td.qe(a,"keyup",b=>this.jL(b.data)),dF.td.qe(a,"window-blur",()=>this.jv()),dF.td.qe(a,"keyboard-blur",()=>this.jv()))}j(){super.j()}iL(a){const b=a.which,d=a.code||b.toString();a=a.key;this.uw.has(d)||(this.uw.add(d),this.vw.add(b),this.XH=d,this.cn=b,this.tC=a,this.pa(dF.C.Keyboard.G.Y_),this.pa(dF.C.Keyboard.G.eS),
this.pa(dF.C.Keyboard.G.n0),this.pa(dF.C.Keyboard.G.l0))}jL(a){const b=a.which,d=a.code||b.toString();a=a.key;this.uw.delete(d);this.vw.delete(b);this.XH=d;this.cn=b;this.tC=a;this.pa(dF.C.Keyboard.G.bS);this.pa(dF.C.Keyboard.G.gS);this.pa(dF.C.Keyboard.G.o0);this.pa(dF.C.Keyboard.G.fS)}jv(){for(const a of this.vw)this.vw.delete(a),this.cn=a,this.pa(dF.C.Keyboard.G.bS),this.pa(dF.C.Keyboard.G.gS),this.pa(dF.C.Keyboard.G.fS);this.uw.clear()}PR(a){return this.uw.has(a)}Gc(){return{tk:this.cn,tkk:this.tC}}cc(a){this.cn=
a.tk;a.hasOwnProperty("tkk")&&(this.tC=a.tkk)}};const eF="ShiftLeft ShiftRight ControlLeft ControlRight AltLeft AltRight MetaLeft MetaRight".split(" ");self.B.C.Keyboard.G={PR(a){return this.vw.has(a)},eS(a){return this.cn===a},Y_(){return!0},bS(){return!0},gS(a){return this.cn===a},Vaa(a){a=Math.floor(a);return this.vw.has(a)},l0(a){return this.cn===a},fS(a){return this.cn===a},n0(a){return this.XH===eF[a]},o0(a){return this.XH===eF[a]},Waa(a){return this.uw.has(eF[a])}};self.B.C.Keyboard.Ma={};
function fF(a){a=Math.floor(a);switch(a){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";case 91:return"left window key";case 92:return"right window key";
case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";case 115:return"F4";case 116:return"F5";
case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(a)}}
self.B.C.Keyboard.ob={Aba(){return this.cn},hia(a){return fF(a)},Uia(){return this.tC}};"use strict";const gF=self.B;gF.C.Rj=class extends gF.Kj{constructor(a){super(a)}j(){super.j()}};const hF=self.B;function iF(a){switch(a){case 0:return"clamp-to-edge";case 2:return"mirror-repeat"}return"repeat"}
hF.C.Rj.xf=class extends hF.qm{constructor(a,b){super(a);this.uj=this.tj="repeat";b&&(this.tj=iF(b[0]),this.uj=iF(b[1]))}j(){super.j()}ec(){bA(this.$b(),this.g)}In(a){return this.$b().wp(a,{Zb:this.g.Ob,Xl:this.tj,Yl:this.uj})}mm(){this.$b().Jj()}};const jF=self.B,kF=jF.A(jF.Rect),lF=jF.A(jF.ed),mF=jF.A(jF.Rect),nF=jF.A(jF.ed);function oF(a,b,d){var c=pF,e=a.Yd();const g=e.L();e=e.K();const k=a.$s/g,l=a.bt/e,n=a.Lm;mF.set(0,0,b/(g*a.iq),d/(e*a.jq));mF.offset(-k,-l);0===n?c.ef(mF):tc(c,mF,-n)}
function qF(a,b){if(a.ol){const d=a.Yd();b.$k(b.hC);b.YS(d.L()*a.iq,d.K()*a.jq,a.Bx,a.Cx,a.yx,a.zx,a.Ax)}else Ef(b)}function rF(a){a.m().Gb(65536,!0)}function sF(a,b){a.$s!==b&&(a.$s=b,a.g.M(),rF(a))}function tF(a,b){a.bt!==b&&(a.bt=b,a.g.M(),rF(a))}function uF(a,b){a.iq!==b&&(a.iq=b,a.g.M(),rF(a))}function vF(a,b){a.jq!==b&&(a.jq=b,a.g.M(),rF(a))}function wF(a,b){a.Lm!==b&&(a.Lm=b,a.g.M(),rF(a))}function xF(a,b){b=!!b;a.ol!==b&&(a.ol=b,a.g.M())}function yF(a,b){a.Bx!==b&&(a.Bx=b,a.ol&&a.g.M())}
function zF(a,b){a.Cx!==b&&(a.Cx=b,a.ol&&a.g.M())}function AF(a,b){a.yx!==b&&(a.yx=b,a.ol&&a.g.M())}function BF(a,b){a.zx!==b&&(a.zx=b,a.ol&&a.g.M())}function CF(a,b){a.Ax!==b&&(a.Ax=b,a.ol&&a.g.M())}
jF.C.Rj.Instance=class extends jF.Tu{constructor(a,b){super(a);this.bt=this.$s=0;this.jq=this.iq=1;this.Lm=0;this.ol=!1;this.Ax=this.zx=this.yx=this.Cx=this.Bx=0;this.Sm=null;b&&(this.m().hh(!!b[0]),this.$s=b[4],this.bt=b[5],this.iq=b[6],this.jq=b[7],this.Lm=jF.La(b[8]),this.ol=!!b[9],this.Bx=b[10],this.Cx=b[11],this.yx=b[12],this.zx=b[13],this.Ax=b[14])}j(){this.Sm&&(this.Sm.j(),this.Sm=null);super.j()}ng(a){var b=this.Yd(),d=b.Jb();if(null!==d){qF(this,a);a.Ud(d);d=b.L();b=b.K();var c=this.$s/d,
e=this.bt/b,g=this.m();mF.set(0,0,g.L()/(d*this.iq),g.K()/(b*this.jq));mF.offset(-c,-e);Ny(g)?this.Cz(g,a):this.Dz(g,a)}}Dz(a,b){let d=xB(a);this.g.jk&&(d=aC(a,d));0===this.Lm?b.Yk(d,mF):(tc(nF,mF,-this.Lm),b.nE(d,nF))}Cz(a,b){const d=cC(a);if(0!==(a.F&65536)){tB(a,kF,lF,!1);let c=lF;this.g.jk&&(c=aC(a,c));let e=mF;0!==this.Lm&&(tc(nF,mF,-this.Lm),e=nF);Zf(d,Oy(a),c,e);a.Gb(65536,!1)}d.ng(b)}Yd(){return this.Sm||this.R.$b()}eh(){return!0}Jb(){return this.Yd().Jb()}ac(a){switch(a){case 4:return this.$s;
case 5:return this.bt;case 6:return this.iq;case 7:return this.jq;case 8:return this.Lm;case 9:return this.ol;case 10:return this.Bx;case 11:return this.Cx;case 12:return this.yx;case 13:return this.zx;case 14:return this.Ax}}Le(a,b){switch(a){case 4:sF(this,b);break;case 5:tF(this,b);break;case 6:uF(this,b);break;case 7:vF(this,b);break;case 8:wF(this,b);break;case 9:xF(this,!!b);break;case 10:yF(this,b);break;case 11:zF(this,b);break;case 12:AF(this,b);break;case 13:BF(this,b);break;case 14:CF(this,
b)}}Ke(){return self.QJ}};const DF=new WeakMap;self.QJ=class extends self.Ec{constructor(){super();DF.set(this,self.Ni.Zh().ja)}get imageWidth(){return DF.get(this).Yd().L()}get imageHeight(){return DF.get(this).Yd().K()}};self.B.C.Rj.G={jE(){return!0},dK(){return!0},oba(){return this.ol}};const EF=self.B;
EF.C.Rj.Ma={vga(a){sF(this,a)},wga(a){tF(this,a)},xga(a){uF(this,a/100)},yga(a){vF(this,a/100)},uga(a){wF(this,EF.La(a))},vha(a){xF(this,a)},uha(a,b){yF(this,a/100);zF(this,b/100)},sha(a){AF(this,a/100)},tha(a,b){BF(this,a/100);CF(this,b/100)},PS(a){this.m().te(a);this.g.M()},async I_(a){if(!this.Sm||this.Sm.Ql!==a){var b=this.g,d=EF.A(EF.az);try{await cA(d,b,a);if(!d.cz())throw Error("image failed to load");if(this.Dp())return d.j(),null;if(!await d.wp(b.Ba(),{Zb:b.Ob,Xl:"repeat",Yl:"repeat"}))return}catch(c){console.error("Load image from URL failed: ",
c);this.Dp()||this.pa(EF.C.Rj.G.dK);return}this.Dp()?d.j():(this.Sm&&(this.Sm.j(),this.Sm=null),this.Sm=d,b.M(),await this.Vd(EF.C.Rj.G.jE))}}};const FF=self.B;FF.C.Rj.ob={h_(){return this.Yd().L()},f_(){return this.Yd().K()},qaa(){return this.$s},raa(){return this.bt},waa(){return 100*this.iq},xaa(){return 100*this.jq},naa(){return FF.Qc(this.Lm)},Fia(){return 100*this.Bx},Gia(){return 100*this.Cx},Cia(){return 100*this.yx},Dia(){return 100*this.zx},Eia(){return 100*this.Ax}};"use strict";
const GF=self.B,HF=[];GF.C.Audio=class extends GF.Kj{constructor(a){super(a)}WK(a){HF.push(a)}j(){super.j()}};const IF=self.B;IF.C.Audio.xf=class extends IF.qm{constructor(a){super(a)}j(){super.j()}ec(){}Ke(){return self.QZ}};self.QZ=class extends self.$y{constructor(a){super(a)}};const JF=self.B,KF=["interactive","balanced","playback"];function qr(a){return null!==a.g.Md?"running":a.KL}
function LF(a,b){const d=b.tickCount;a.hO=b.outputLatency;const c=a.pi.filter(e=>e.hasOwnProperty("placeholder")&&(e.placeholder>d||-1===e.placeholder));a.pi=b.audioInstances;a.HG=b.analysers;0<c.length&&JF.Rl(a.pi,c)}async function MF(a,b){const d=b.type;a.UO=b.tags;b=b.aiid;if("ended"===d){for(const c of a.pi)if(c.aiid===b){c.isPlaying=!1;break}await a.Vd(JF.C.Audio.G.e0)}else"fade-ended"===d&&await a.Vd(JF.C.Audio.G.f0)}function NF(a,b){return a.cU?b.split(" ").filter(d=>!!d):b?[b]:[]}
function OF(a,b){for(const d of b){b=!1;for(const c of a)if(JF.xj(c,d)){b=!0;break}if(!b)return!1}return!0}function PF(a){a=Math.pow(10,a/20);return isFinite(a)?Math.max(Math.min(a,1),0):0}function QF(a,b){b=NF(a,b);for(const d of a.pi)if(OF(d.tags,b))return d;return null}function RF(a,b){const d=NF(a,b);return a.pi.some(c=>OF(c.tags,d)&&c.isPlaying)}
function SF(a,b,d,c,e,g){if(RF(a,d))return null;const k=a.KT.get(b);b={tags:NF(a,d),duration:k?k.duration:0,volume:g,isPlaying:!0,playbackTime:0,playbackRate:1,uid:-1,bufferOriginalUrl:b,bufferUrl:"",bufferType:"",isMusic:c,isLooping:e,isMuted:!1,resumePosition:0,pan:null,placeholder:-1};a.pi.push(b);return b}
function TF(a){return a.pi.filter(b=>-1!==b.uid).map(b=>tq(a.g,b.uid)).filter(b=>b).map(b=>{const d=b.m(),c=d.V().Ka(),[e,g]=UF(d.Y(),d.Z(),-c,a.bg[0],a.bg[1]);return{uid:b.Yb,x:e,y:g,z:eo(d),angle:d.Ka()-c}})}function UF(a,b,d,c,e){if(0===d)return[a,b];const g=Math.sin(d);d=Math.cos(d);a-=c;b-=e;const k=a*g;a=a*d-b*g;b=b*d+k;return[a+c,b+e]}function VF(a,b,d){for(const c of a.HG)if(c.index===d&&JF.xj(c.tag,b))return c;return null}
function WF(a,b){for(const d of NF(a,b))b=d.toLowerCase(),a.DF.set(b,(a.DF.get(b)||0)+1)}
JF.C.Audio.Instance=class extends JF.hs{constructor(a,b){super(a,"audio");this.ej=0;this.UO=[];this.cU=!0;this.RB=this.kW=0;this.mO=!1;this.$T=this.xV=1;this.bg=[this.g.jg/2,this.g.cf/2,600];this.uq=[0,0,-1];this.vq=[0,1,0];this.LV=600;this.hV=1E4;this.QV=1;this.lk=null;this.XG=-1;this.Lw=1;this.oi=!1;this.RV=0;this.KL="suspended";this.hO=0;this.DF=new Map;this.oO=this.pO=0;this.KT=new Map;this.Do=new Map;a="interactive";b&&(this.kW=b[0],this.RB=b[1],this.mO=b[2],a=KF[b[3]],this.cU=b[4],this.xV=b[5],
this.$T=b[6],this.bg[2]=b[7],this.LV=b[8],this.hV=b[9],this.QV=b[10]);this.pi=[];this.xw=[];this.HG=[];Kz(this,[["state",d=>LF(this,d)],["audiocontext-state",d=>{this.KL=d.audioContextState}],["fxstate",d=>{this.xw=d.fxstate}],["trigger",d=>MF(this,d)],["buffer-metadata",d=>{this.KT.set(d.originalUrl,{duration:d.duration})}]]);b=this.I().ib();this.yd=new JF.wu(JF.td.qe(b,"instancedestroy",d=>{this.lk===d.instance&&(this.lk=null)}),JF.td.qe(b,"afterload",()=>this.Ui()),JF.td.qe(b,"suspend",()=>{this.mO||
Lz(this,"set-suspended",{isSuspended:!0})}),JF.td.qe(b,"resume",()=>{this.mO||Lz(this,"set-suspended",{isSuspended:!1})}));LD(this.g,Mz(this,"create-audio-context",{preloadList:xm(this.g.Nb).map(d=>({originalUrl:d.S6,url:d.url,type:d.type,fileSize:d.fileSize})),isiOSCordova:this.g.yN,isSafari:"Safari"===JF.W.Fe,timeScaleMode:this.kW,latencyHint:a,panningModel:this.xV,distanceModel:this.$T,refDistance:this.LV,maxDistance:this.hV,rolloffFactor:this.QV,listenerPos:this.bg}).then(d=>{this.RV=d.sampleRate;
this.KL=d.audioContextState;this.hO=d.outputLatency}));this.Bg()}j(){this.lk=null;super.j()}WK(a){this.pb().WK(a)}jf(){const a={timeScale:this.g.ne,gameTime:this.g.JA.ea(),instPans:TF(this),tickCount:this.g.Vq};if(this.lk){const b=this.lk.m();this.bg[0]=b.Y();this.bg[1]=b.Z();a.listenerPos=this.bg;a.listenerOrientation=[...this.uq,...this.vq]}Lz(this,"tick",a)}Gc(){return{isSilent:this.oi,masterVolume:this.Lw,listenerZ:this.bg[2],listenerForwardVec:this.uq,listenerUpVec:this.vq,listenerUid:this.lk?
this.lk.Yb:-1,remoteUrls:[...this.Do.entries()],playing:this.pi.filter(a=>a.hasOwnProperty("placeholder")||3===this.RB?!1:a.isMusic&&1===this.RB?!1:a.isMusic||2!==this.RB?!0:!1),effects:this.xw,analysers:this.HG}}cc(a){this.oi=a.isSilent;this.Lw=a.masterVolume;this.bg[2]=a.listenerZ;this.lk=null;this.XG=a.listenerUid;a.hasOwnProperty("listenerForwardVec")?this.uq=a.listenerForwardVec:this.uq=[0,0,-1];a.hasOwnProperty("listenerUpVec")?this.vq=a.listenerUpVec:this.vq=[0,1,0];this.Do.clear();if(a.remoteUrls)for(const [b,
d]of a.remoteUrls)this.Do.set(b,d);this.pi=a.playing;for(const b of this.pi)b.hasOwnProperty("tag")&&!b.hasOwnProperty("tags")&&(b.tags=[b.tag].filter(d=>!!d));this.xw=a.effects;this.HG=a.analysers}Ui(){if(-1!==this.XG&&(this.lk=tq(this.g,this.XG),this.XG=-1,this.lk)){var a=this.lk.m();this.bg[0]=a.Y();this.bg[1]=a.Z()}for(var b of this.pi)(a=wm(this.g.Nb,b.bufferOriginalUrl))?(b.bufferUrl=a.url,b.bufferType=a.type):b.bufferUrl=null;for(const d of Object.values(this.xw))for(const c of d)c.hasOwnProperty("bufferOriginalUrl")&&
(b=wm(this.g.Nb,c.bufferOriginalUrl))&&(c.bufferUrl=b.url,c.bufferType=b.type);Lz(this,"load-state",{saveLoadMode:this.RB,timeScale:this.g.ne,gameTime:this.g.JA.ea(),listenerPos:this.bg,listenerOrientation:[...this.uq,...this.vq],isSilent:this.oi,masterVolume:this.Lw,playing:this.pi.filter(d=>null!==d.bufferUrl),effects:this.xw})}};
self.B.C.Audio.G={e0(a){return OF(this.UO,NF(this,a))},f0(a){return OF(this.UO,NF(this,a))},Ida(){return this.oO===this.pO},m8(){return!0},mba(){return this.oi},n_(){for(const a of this.pi)if(a.isPlaying)return!0;return!1},A_(a){return RF(this,a)}};const XF=self.B,YF="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");
XF.C.Audio.Ma={Play(a,b,d,c,e){a=XF.C.Audio.Ma.oT.call(this,a,b,d,c,e);this.WK(a);return a},sS(a,b,d,c){XF.C.Audio.Ma.oT.call(this,a,0,b,0,d,c)},async oT(a,b,d,c,e,g){if(!this.oi){var k=a[1],l=wm(this.g.Nb,a[0]);if(l){var n=this.ej;this.ej=0;var p=SF(this,a[0],e,k,0!==b,PF(d));try{await Mz(this,"play",{originalUrl:a[0],url:l.url,type:l.type,isMusic:k,tags:NF(this,e),isLooping:0!==b,vol:PF(d),stereoPan:XF.X(c/100,-1,1),pos:g||0,off:n,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{p&&(p.placeholder=
this.g.Vq)}}}},async R0(a,b,d,c,e,g,k,l,n,p,r){if(!this.oi){var u=a[1],x=wm(this.g.Nb,a[0]);if(x){var y=this.ej;this.ej=0;var A=SF(this,a[0],r,u,0!==b,PF(d));try{await Mz(this,"play",{originalUrl:a[0],url:x.url,type:x.type,isMusic:u,tags:NF(this,r),isLooping:0!==b,vol:PF(d),pos:0,off:y,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:c,y:e,z:g,angle:XF.La(k),innerAngle:XF.La(l),outerAngle:XF.La(n),outerGain:PF(p)}})}finally{A&&(A.placeholder=this.g.Vq)}}}},async P0(a,b,d,c,e,g,k,l){if(!this.oi&&
c&&(c=Rx(c))&&c.m()){var n=c.m(),p=n.V().Ka(),[r,u]=UF(n.Y(),n.Z(),-p,this.bg[0],this.bg[1]),x=a[1],y=wm(this.g.Nb,a[0]);if(y){var A=this.ej;this.ej=0;var D=SF(this,a[0],l,x,0!==b,PF(d));try{await Mz(this,"play",{originalUrl:a[0],url:y.url,type:y.type,isMusic:x,tags:NF(this,l),isLooping:0!==b,vol:PF(d),pos:0,off:A,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:r,y:u,z:eo(n),angle:n.Ka()-p,innerAngle:XF.La(e),outerAngle:XF.La(g),outerGain:PF(k),uid:c.Yb}})}finally{D&&(D.placeholder=this.g.Vq)}}}},
async S0(a,b,d,c,e,g){if(!this.oi){a=1===a;var k=wm(this.g.Nb,b)||this.Do.get(b.toLowerCase());if(k){var l=this.ej;this.ej=0;var n=SF(this,b,g,a,0!==d,PF(c));try{await Mz(this,"play",{originalUrl:b,url:k.url,type:k.type,isMusic:a,tags:NF(this,g),isLooping:0!==d,vol:PF(c),stereoPan:XF.X(e/100,-1,1),pos:0,off:l,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{n&&(n.placeholder=this.g.Vq)}}}},async Ada(a,b,d,c,e,g,k,l,n,p,r,u){if(!this.oi){a=1===a;var x=wm(this.g.Nb,b)||this.Do.get(b.toLowerCase());
if(x){var y=this.ej;this.ej=0;var A=SF(this,b,u,a,0!==d,PF(c));try{await Mz(this,"play",{originalUrl:b,url:x.url,type:x.type,isMusic:a,tags:NF(this,u),isLooping:0!==d,vol:PF(c),pos:0,off:y,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:e,y:g,z:k,angle:XF.La(l),innerAngle:XF.La(n),outerAngle:XF.La(p),outerGain:PF(r)}})}finally{A&&(A.placeholder=this.g.Vq)}}}},async Q0(a,b,d,c,e,g,k,l,n){if(!this.oi&&!this.oi&&e&&(e=Rx(e))&&e.m()){var p=e.m(),r=p.V().Ka(),[u,x]=UF(p.Y(),p.Z(),-r,this.bg[0],
this.bg[1]);a=1===a;var y=wm(this.g.Nb,b)||this.Do.get(b.toLowerCase());if(y){var A=this.ej;this.ej=0;var D=SF(this,b,n,a,0!==d,PF(c));try{await Mz(this,"play",{originalUrl:b,url:y.url,type:y.type,isMusic:a,tags:NF(this,n),isLooping:0!==d,vol:PF(c),pos:0,off:A,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:u,y:x,z:eo(p),angle:p.Ka()-r,innerAngle:XF.La(g),outerAngle:XF.La(k),outerGain:PF(l),uid:e.Yb}})}finally{D&&(D.placeholder=this.g.Vq)}}}},Yga(a,b){Lz(this,"set-looping",{tags:NF(this,
a),isLooping:0===b})},cha(a,b){Lz(this,"set-muted",{tags:NF(this,a),isMuted:0===b})},zp(a,b){Lz(this,"set-volume",{tags:NF(this,a),vol:PF(b)})},F$(a,b,d,c){Lz(this,"fade-volume",{tags:NF(this,a),vol:PF(b),duration:d,stopOnEnd:0===c})},rha(a,b){Lz(this,"set-stereo-pan",{tags:NF(this,a),p:XF.X(b/100,-1,1)})},async Gda(a){const b=a[1],d=wm(this.g.Nb,a[0]);d&&(this.pO++,await Mz(this,"preload",{originalUrl:a[0],url:d.url,type:d.type,isMusic:b}),this.oO++)},async Hda(a,b){a=1===a;const d=wm(this.g.Nb,
b)||this.Do.get(b.toLowerCase());d&&(this.pO++,await Mz(this,"preload",{originalUrl:b,url:d.url,type:d.type,isMusic:a}),this.oO++)},Wh(a,b){Lz(this,"set-playback-rate",{tags:NF(this,a),rate:Math.max(b,0)})},Tc(a){Lz(this,"stop",{tags:NF(this,a)})},bia(){Lz(this,"stop-all")},gha(a,b){Lz(this,"set-paused",{tags:NF(this,a),paused:0===b})},Dfa(a,b){Lz(this,"seek",{tags:NF(this,a),pos:b})},qha(a){2===a&&(a=this.oi?1:0);a=0===a;this.oi!==a&&(this.oi=a,Lz(this,"set-silent",{isSilent:a}))},Zga(a){a=PF(a);
this.Lw!==a&&(this.Lw=a,Lz(this,"set-master-volume",{vol:a}))},X7(a,b,d,c,e,g,k){b=YF[b];WF(this,a);Lz(this,"add-effect",{type:"filter",tags:NF(this,a),params:[b,d,c,e,g,XF.X(k/100,0,1)]})},U7(a,b,d,c){WF(this,a);Lz(this,"add-effect",{type:"delay",tags:NF(this,a),params:[b,PF(d),XF.X(c/100,0,1)]})},Y7(a,b,d,c,e,g){WF(this,a);Lz(this,"add-effect",{type:"flanger",tags:NF(this,a),params:[b/1E3,d/1E3,c,e/100,XF.X(g/100,0,1)]})},f8(a,b,d,c,e,g,k){WF(this,a);Lz(this,"add-effect",{type:"phaser",tags:NF(this,
a),params:[b,d,c,e,g,XF.X(k/100,0,1)]})},S7(a,b,d,c){const e=wm(this.g.Nb,b[0]);e&&(WF(this,a),Lz(this,"add-effect",{type:"convolution",tags:NF(this,a),bufferOriginalUrl:b[0],bufferUrl:e.url,bufferType:e.type,params:[0===d,XF.X(c/100,0,1)]}))},a8(a,b){WF(this,a);Lz(this,"add-effect",{type:"gain",tags:NF(this,a),params:[PF(b)]})},i8(a,b){WF(this,a);Lz(this,"add-effect",{type:"stereopan",tags:NF(this,a),params:[XF.X(b/100,-1,1)]})},e8(a){WF(this,a);Lz(this,"add-effect",{type:"gain",tags:NF(this,a),
params:[0]})},j8(a,b,d){WF(this,a);Lz(this,"add-effect",{type:"tremolo",tags:NF(this,a),params:[b,XF.X(d/100,0,1)]})},h8(a,b,d){WF(this,a);Lz(this,"add-effect",{type:"ringmod",tags:NF(this,a),params:[b,XF.X(d/100,0,1)]})},V7(a,b,d,c,e,g){WF(this,a);Lz(this,"add-effect",{type:"distortion",tags:NF(this,a),params:[Math.pow(10,b/20),Math.pow(10,d/20),c,Math.pow(10,e/20),XF.X(g/100,0,1)]})},R7(a,b,d,c,e,g){WF(this,a);Lz(this,"add-effect",{type:"compressor",tags:NF(this,a),params:[b,d,c,e/1E3,g/1E3]})},
Q7(a,b,d){WF(this,a);Lz(this,"add-effect",{type:"analyser",tags:NF(this,a),params:[b,d]})},aea(a){a=NF(this,a);for(const b of a)this.DF.set(b.toLowerCase(),0);Lz(this,"remove-effects",{tags:a});this.xw={}},pz(a,b,d,c,e,g){Lz(this,"set-effect-param",{tags:NF(this,a),index:Math.floor(b),param:d,value:c,ramp:e,time:g})},t1(a){a&&(a=Rx(a))&&a.m()&&(this.lk=a)},Wga(a){this.bg[2]=a},Vga(a,b,d,c,e,g){this.uq[0]=a;this.uq[1]=b;this.uq[2]=-d;this.vq[0]=c;this.vq[1]=e;this.vq[2]=-g},xfa(a){this.ej=Math.max(a,
0)},aja(a){const b=a[1];(a=wm(this.g.Nb,a[0]))&&Lz(this,"unload",{url:a.url,type:a.type,isMusic:b})},bja(a,b){a=1===a;(b=wm(this.g.Nb,b)||this.Do.get(b.toLowerCase()))&&Lz(this,"unload",{url:b.url,type:b.type,isMusic:a})},$ia(){Lz(this,"unload-all")},g8(a,b,d){this.Do.set(d.toLowerCase(),{url:a,type:b})}};
self.B.C.Audio.ob={m$(a){return(a=QF(this,a))?a.duration:0},U0(a){return(a=QF(this,a))?a.playbackTime:0},T0(a){return(a=QF(this,a))?a.playbackRate:0},h2(a){return(a=QF(this,a))?Math.log(Math.max(Math.min(a.volume,1),0))/Math.log(10)*20:0},eca(){return Math.log(Math.max(Math.min(this.Lw,1),0))/Math.log(10)*20},n$(a){return this.DF.get(a.toLowerCase())||0},q8(a,b){return(a=VF(this,a,Math.floor(b)))?a.binCount:0},p8(a,b,d){a=VF(this,a,Math.floor(b));if(!a)return 0;d=Math.floor(d);return 0>d||d>=a.binCount?
0:a.freqBins[d]},r8(a,b){return(a=VF(this,a,Math.floor(b)))?a.peak:0},s8(a,b){return(a=VF(this,a,Math.floor(b)))?a.rms:0},vfa(){return this.RV},Z9(){return self.C3_GetAudioContextCurrentTime?self.C3_GetAudioContextCurrentTime():performance.now()/1E3},eda(){return this.hO}};"use strict";const ZF=self.B;ZF.C.rc=class extends ZF.Kj{constructor(a){super(a)}j(){super.j()}};const $F=self.B,aG=[];function bG(a){for(const b of Rk(a.R))cG(b.ja)}
$F.C.rc.xf=class extends $F.qm{constructor(a){super(a);this.Jc=a.Jc}j(){$F.D(this.Jc);super.j()}ec(){for(const b of this.Jc){var a=this.g;for(const d of b.Bd)bA(d.$b(),a)}}In(a){const b={Zb:this.g.Ob};return Promise.all(this.Jc.map(d=>gA(d,a,b)))}mm(){for(const a of this.Jc)hA(a)}hE(){bG(this)}Bu(a){$F.C.rc.qR(this,a)}mJ(){aG.push({tr:null,QW:!1,TC:[]})}kJ(){const a=aG.pop(),b=a.tr,d=a.QW;if(b){var c=new Map;for(const e of a.TC)OA(e,c,b,d);for(const [e,g]of c)Jt(e.da(),g)}}};
const dG=self.B,eG=self.Ge,fG=dG.A(dG.Rect),gG=dG.A(dG.ed),hG=dG.A(dG.Cp);function cG(a){const b=a.Bf.$b();a.Cf=b.Jb();a.jM=b.Vk();a.lA=b.Ju();a.m().Gb(65536,!0)}function iG(a,b){const d=a.Bf;var c=xA(a.R,a.Yn);a.Yn="";!c||c===a.Pb&&NA(a.N,2)||(a.Pb=c,MA(a.N,1,0<=c.Uk()),a.Cm=Math.abs(c.Uk()),a.Jv=c.OV,a.Qb=dG.X(a.Qb,0,a.Pb.Bd.length-1),1===a.RT&&(a.Qb=0),MA(a.N,2,!0),a.rl=a.Np.ea(),c=iA(a.Pb,a.Qb),jG(a,d,c,b))}
function kG(a){const b=a.Bf;var d=a.Qb;a.Qb=dG.X(Math.floor(a.Ev),0,a.Pb.Bd.length-1);a.Ev=-1;d!==a.Qb&&(d=iA(a.Pb,a.Qb),jG(a,b,d),a.rl=a.Np.ea())}function lG(a,b){a.Qb=b?0:a.Pb.Bd.length-1;MA(a.N,2,!1);a.HL=a.Pb.oa();MA(a.N,4,!0);a.zy("animationend",!1,{animationName:a.HL});a.pa(dG.C.rc.G.X_);a.pa(dG.C.rc.G.V_);MA(a.N,4,!1);a.zm=0}
function jG(a,b,d,c){if(b!==d){var e=a.m(),g=b.$b();b=d.$b();var k=g.L();g=g.K();var l=b.L(),n=b.K();c&&c.R6?c.R6(e,k,g,l,n):(k!==l&&e.ih(e.L()*(l/k)),g!==n&&e.Uh(e.K()*(n/g)));e.Lj(d.Ki());e.Mj(d.Li());bC(e,d.Is);T(e);a.Bf=d;a.Cf=b.Jb();a.jM=b.Vk();a.lA=b.Ju();d=a.ga().wd;for(let p=0,r=d.length;p<r;++p);a.zy("framechange",!1,{animationName:a.Pb.oa(),JW:a.Qb});a.pa(dG.C.rc.G.h0);a.g.M()}}function mG(a,b){a.Cm=Math.abs(b);MA(a.N,1,0<=b);0<a.Cm&&a.Bg()}function nG(a){return NA(a.N,1)?a.Cm:-a.Cm}
function oG(a,b){b=Math.floor(b);a=a.m();var d=zB(a);const c=d.xe.length/2;b===c&&(b=0);if(0>b||b>=c)return[0,0];d=d.xe;return[d[2*b]+a.Y(),d[2*b+1]+a.Z()]}
dG.C.rc.Instance=class extends dG.Tu{constructor(a,b){super(a);let d=!0,c="",e=0,g=!0;b&&(d=!!b[0],c=b[1],e=b[2],g=b[3]);this.Pb=xA(this.R,c)||this.R.Jc[0];this.Qb=dG.X(e,0,this.Pb.Bd.length-1);this.Bf=iA(this.Pb,this.Qb);b=this.Bf.$b();this.Cf=b.Jb();this.jM=b.Vk();this.lA=b.Ju();Pz(this);MA(a,2,!0);MA(a,1,0<=this.Pb.Uk());this.Cm=Math.abs(this.Pb.Uk());this.Jv=this.Pb.OV;this.Np=dG.A(dG.gz);this.zm=this.rl=0;this.HL="";this.Ev=-1;this.Yn="";this.RT=0;a=this.m();this.eF=xB(a);a.hh(d);$B(a,g);a.Lj(this.Bf.Ki());
a.Mj(this.Bf.Li());bC(a,this.Bf.Is);T(a);1===this.R.Jc.length&&1===this.R.Jc[0].Bd.length||0===this.Cm||this.Bg()}j(){this.Np=this.Cf=this.Bf=this.Pb=null;super.j()}Yd(){return this.Bf.$b()}eh(){return!0}Pu(){this.Cf=null}mS(){cG(this)}ng(a){var b=this.Cf;null!==b&&(a.Ud(b),b=this.m(),Ny(b)?this.Cz(b,a):this.Dz(b,a))}Dz(a,b){let d=this.eF;this.g.jk&&(d=aC(a,d));b.nE(d,this.lA)}Cz(a,b){const d=cC(a);if(0!==(a.F&65536)){tB(a,fG,gG,!1);let c=gG;this.g.jk&&(c=aC(a,c));Zf(d,Oy(a),c,this.lA);a.Gb(65536,
!1)}d.ng(b)}jf(){this.Yn&&iG(this);0<=this.Ev&&kG(this);const a=this.Cm;if(NA(this.N,2)&&0!==a){this.Np.Cc(Fk(this.g,this.N));var b=this.Np.ea(),d=this.Bf,c=d.wA/a;if(!(b<this.rl+c)){var e=this.Pb,g=this.Jv,k=e.Bd.length,l=e.Mi(),n=e.dB,p=e.K4;NA(this.N,1)?this.Qb++:this.Qb--;this.rl+=c;this.Qb>=k&&(p?(MA(this.N,1,!1),this.Qb=k-2):n?this.Qb=g:(this.zm++,this.zm>=l?lG(this,!1):this.Qb=g));0>this.Qb&&(p?(this.Qb=1,MA(this.N,1,!0),n||(this.zm++,this.zm>=l&&lG(this,!0))):n?this.Qb=g:(this.zm++,this.zm>=
l?lG(this,!0):this.Qb=g));this.Qb=dG.X(this.Qb,0,k-1);c=iA(e,this.Qb);b>this.rl+c.wA/a&&(this.rl=b);jG(this,d,c)}}else this.Hp()}Jb(){return this.Cf}Vk(){return this.jM}Ju(){return this.lA}Ny(){return this.Bf.Ny()}hm(a){const b=this.Bf,d=this.m();if("string"===typeof a)a=b.XM.get(a.toLowerCase())||null;else if("number"===typeof a)a=kA(b,a-1);else throw new TypeError("expected string or number");let c=eo(d);if(!a)return[d.Y(),d.Z(),c];hG.Ca(a.nO);if(Ny(d)){const [e,g,k]=bg(Oy(d),hG.fa,hG.ba);hG.set(e,
g);c+=k}hG.offset(-b.Ki(),-b.Li());hG.scale(d.L(),d.K());hG.rotate(d.Ka());hG.offset(d.Y(),d.Z());return[hG.fa,hG.ba,c]}Gc(){const a={a:this.Pb.fb};0!==this.rl&&(a.fs=this.rl);var b=this.Np.ea();0!==b&&(a.at=b);0!==this.Qb&&(a.f=this.Qb);0!==this.Cm&&(a.cas=this.Cm);1!==this.zm&&(a.ar=this.zm);0!==this.Jv&&(a.rt=this.Jv);NA(this.N,2)||(a.ap=NA(this.N,2));NA(this.N,1)||(a.af=NA(this.N,1));b=this.m();b.dh()&&(a.ce=b.dh());return a}cc(a){var b=this.H();if(!b.Jc)throw Error("no animations");if(b=b.VE.get(a.a)||
null)this.Pb=b;this.rl=a.hasOwnProperty("fs")?a.fs:0;this.Np.Set(a.hasOwnProperty("at")?a.at:0);b=a.hasOwnProperty("f")?a.f:0;this.Qb=dG.X(b,0,this.Pb.Bd.length-1);this.Cm=a.hasOwnProperty("cas")?a.cas:0;this.zm=a.hasOwnProperty("ar")?a.ar:1;b=a.hasOwnProperty("rt")?a.rt:0;this.Jv=dG.X(b,0,this.Pb.Bd.length-1);b=a.hasOwnProperty("ap")?!!a.ap:!0;MA(this.N,2,b);b=a.hasOwnProperty("af")?!!a.af:!0;MA(this.N,1,b);this.Bf=b=iA(this.Pb,this.Qb);cG(this);const d=this.m();d.Lj(b.Ki());d.Mj(b.Li());bC(d,b.Is);
$B(d,!!a.ce);NA(this.N,2)&&this.Bg()}ac(a){const b=this.m();switch(a){case 3:return b.dh();case 2:return dG.X(this.Qb,0,this.Pb.Bd.length-1);case 1:return this.Pb.oa()}}Le(a,b,d){var c=this.m();switch(a){case 3:$B(c,!!b);break;case 2:MA(this.N,2,!1);a=this.Pb.Bd.length-1;c=b=dG.X(b,0,a);b=iA(this.Pb,this.Qb);const e=iA(this.Pb,c);jG(this,b,e,d);this.Qb=dG.X(c,0,a);break;case 1:this.Yn=b,iG(this,d),1<this.Pb.Bd.length&&0<this.Pb.Uk()?this.Bg():this.Hp()}}Ke(){return self.Lu}};const pG=new WeakMap;
self.Lu=class extends self.Ec{constructor(){super();pG.set(this,self.Ni.Zh().ja)}get animation(){return pG.get(this).Pb.z4}get animationName(){var a=pG.get(this);return a.Yn?a.Yn:a.Pb.oa()}set JW(a){eG.ud(a);var b=pG.get(this);isFinite(a)&&(b.Ev=a,NA(b.N,4)||kG(b))}get JW(){return pG.get(this).Qb}set Tx(a){eG.ud(a);mG(pG.get(this),a)}get Tx(){return nG(pG.get(this))}get imageWidth(){return pG.get(this).Yd().L()}get imageHeight(){return pG.get(this).Yd().K()}};const qG=self.B;
qG.C.rc.G={Eaa(a){return qG.xj(this.Yn?this.Yn:this.Pb.oa(),a)},u9(a,b){return qG.compare(this.Qb,a,b)},v9(a,b){return qG.compare(this.Bf.QH.toLowerCase(),a,b.toLowerCase())},q9(a,b){return qG.compare(nG(this),a,b)},V_(a){return qG.xj(this.HL,a)},X_(){return!0},h0(){return!0},Zaa(){return 0>this.m().L()},Saa(){return 0>this.m().K()},jE(){return!0},dK(){return!0},dh(){return this.m().dh()}};const rG=self.B;
rG.C.rc.Ma={Wha(a,b,d,c){if(a&&b){var [e,g]=this.hm(d);if(d=Tk(this.g,a,b,e,g,c))c&&cn(b,d),a.pb().Hn()&&(b=d.m(),b.Gd(this.m().Ka()),T(b)),b=this.g.Ga(),Uk(b,!0),Vk(d),Uk(b,!1),a!==this.g.Iy().H()&&(b=aG.at(-1),b.tr=a,b.QW=c,b.TC.push(d))}},dia(){MA(this.N,2,!1)},Zha(a){MA(this.N,2,!0);this.rl=this.Np.ea();1===a&&0!==this.Qb&&(this.Ev=0,NA(this.N,4)||kG(this));this.Bg()},Mfa(a,b){this.Yn=a;this.RT=b;this.Bg();NA(this.N,4)||iG(this)},q1(a){isFinite(a)&&(this.Ev=a,NA(this.N,4)||kG(this))},Ofa(a){mG(this,
a)},Nfa(a){this.Jv=a=dG.X(Math.floor(a),0,this.Pb.Bd.length-1)},bha(a){const b=this.m(),d=b.L();a=Math.abs(d)*(0===a?-1:1);d!==a&&(b.ih(a),T(b))},lga(a){const b=this.m(),d=b.K();a=Math.abs(d)*(0===a?-1:1);d!==a&&(b.Uh(a),T(b))},BE(a){const b=this.Bf.$b(),d=this.m();var c=0>d.L()?-1:1;const e=0>d.K()?-1:1;c*=b.L()*a;a=b.K()*a*e;if(d.L()!==c||d.K()!==a)d.vd(c,a),T(d)},async I_(a,b){const d=this.Bf.$b(),c=this.m(),e=this.g,g=this.qb;if(d.Ql===a)0===b&&(c.vd(d.L(),d.K()),T(c)),this.pa(rG.C.rc.G.jE);else{var k=
rG.A(rG.az);try{await cA(k,e,a);if(!k.cz())throw Error("image failed to load");if(this.Dp()){k.j();return}await k.wp(e.Ba(),{Zb:e.Ob})}catch(l){console.error("Load image from URL failed: ",l);this.Dp()||this.pa(rG.C.rc.G.dK);return}if(this.Dp())k.j();else{if(k===d)throw Error("cannot replace with self");d.JM++;d.Jj();d.Ql=k.Ql;d.Qq=k.Qq;d.zt=k.zt;d.At=k.At;d.O=k.O;d.P=k.P;d.pq=k.pq;d.MA=k.MA;d.Se=k.Se;d.Lo=k.Lo;d.jj=k.jj;d.Dt=k.Dt;$z(d);bG(g);g.H().ib().dispatchEvent(new rG.Event("animationframeimagechange"));
e.M();0===b&&(c.vd(d.L(),d.K()),T(c));await this.Vd(rG.C.rc.G.jE)}}},Xfa(a){$B(this.m(),a)},CE(a,b){this.m().CE(0===a,b)},PS(a){this.m().te(a);this.g.M()}};
self.B.C.rc.ob={jY(){return this.Qb},x8(){return this.Pb.Bd.length},y8(){return this.Bf.QH},z8(){return this.Pb.oa()},mY(){return nG(this)},dda(){return this.Pb.Uk()},taa(a){return this.hm(a)[0]},uaa(a){return this.hm(a)[1]},vaa(a){return this.hm(a)[2]},saa(){return this.Ny()},h_(){return this.Yd().L()},f_(){return this.Yd().K()},Cda(a){return oG(this,a)[0]},Dda(a){return oG(this,a)[1]},Bda(){return zB(this.m()).xe.length/2}};"use strict";const sG=self.B;sG.C.sn=class extends sG.Kj{constructor(a){super(a)}j(){super.j()}};
const tG=self.B;tG.C.sn.xf=class extends tG.qm{constructor(a){super(a)}j(){super.j()}ec(){}Ke(){return self.KZ}};let uG=null;self.KZ=class extends self.$y{constructor(a){super(a);uG=a}get $l(){return dE(uG.Gj().ja.I())}};const vG=self.B,wG=self.Gi,xG=wG.yr,yG=wG.b7,zG=xG.create();function AG(a){xG.set(a.ek,0,0,-1);xG.set(a.Kl,1,0,0);xG.set(a.Pl,0,1,0)}
function BG(a,b,d,c,e,g,k,l,n,p){const r=a.g.ub();Mo(r,!0);No(r,b,d,c,e,g,k,l,n,p);xG.set(a.ek,e-b,g-d,k-c);xG.normalize(a.ek,a.ek);xG.MC(a.Kl,r.Bv,a.ek);xG.normalize(a.Kl,a.Kl);xG.MC(a.Pl,a.ek,a.Kl);xG.normalize(a.Pl,a.Pl);xG.set(zG,0,0,1);yG.e7(a.NT,a.Pl,zG)}vG.C.sn.Instance=class extends vG.hs{constructor(a){super(a);this.bA=0;this.Cv=Math.PI/2;this.NT=yG.create();this.ek=xG.create();this.Kl=xG.create();this.Pl=xG.create();AG(this)}};self.B.C.sn.G={};const CG=self.B;
CG.C.sn.Ma={K_(a,b,d,c,e,g,k,l,n){BG(this,a,b,d,c,e,g,k,l,n)},Yba(a,b,d,c){c=CG.La(c);BG(this,a,b,d,a+Math.cos(c),b+Math.sin(c),d,0,0,1)},Wea(){Mo(this.g.ub(),!1);AG(this)},kha(a,b,d,c){const e=this.g.ub();var g=e.$j,k=e.Xn;const l=e.Bv;let n=g[0],p=g[1];g=g[2];var r=k[0],u=k[1];k=k[2];0===c?(r-=n,u-=p,c=k-g,n=a,p=b,g=d,r=n+r,u=p+u,k=g+c):(r=a,u=b,k=d);Mo(e,!0);No(e,n,p,g,r,u,k,l[0],l[1],l[2])},pca(a,b,d){if(0!==a){var c=0,e=0,g=0;0===b?c=a:1===b?e=a:g=a;xG.set(zG,c,e,g);a=this.g.ub();b=a.$j;c=a.Xn;
0!==d&&1!==d||xG.add(b,b,zG);0!==d&&2!==d||xG.add(c,c,zG);Io(a);a.g.M()}},oca(a,b,d){if(0!==a){if(0===b){b=this.ek[0]*a;var c=this.ek[1]*a;a*=this.ek[2]}else 1===b?(b=this.Pl[0]*a,c=this.Pl[1]*a,a*=this.Pl[2]):(b=this.Kl[0]*a,c=this.Kl[1]*a,a*=this.Kl[2]);xG.set(zG,b,c,a);a=this.g.ub();b=a.$j;c=a.Xn;0!==d&&1!==d||xG.add(b,b,zG);0!==d&&2!==d||xG.add(c,c,zG);Io(a);a.g.M()}},ffa(a,b,d,c){a=CG.La(a);b=CG.La(b);d=CG.La(d);c=CG.La(c);if(0!==a||0!==b)d=Math.max(d,0),c=Math.min(c,vG.La(179.9)),this.bA=vG.Od(this.bA+
a),this.Cv=vG.X(this.Cv+b,d,c),xG.set(zG,Math.sin(this.Cv)*Math.cos(this.bA),Math.sin(this.Cv)*Math.sin(this.bA),Math.cos(this.Cv)),xG.NX(zG,zG,this.NT),c=this.g.ub(),a=c.$j,d=c.Bv,No(c,a[0],a[1],a[2],a[0]+zG[0],a[1]+zG[1],a[2]+zG[2]/dE(this.g),d[0],d[1],d[2])}};const DG=self.B;
DG.C.sn.ob={FY(){return this.g.ub().$j[0]},GY(){return this.g.ub().$j[1]},Z8(){return this.g.ub().$j[2]},Zba(){return this.g.ub().Xn[0]},$ba(){return this.g.ub().Xn[1]},aca(){return this.g.ub().Xn[2]},fja(){return this.Pl[0]},gja(){return this.Pl[1]},hja(){return this.Pl[2]},P$(){return this.ek[0]},Q$(){return this.ek[1]},R$(){return this.ek[2]},bfa(){return this.Kl[0]},cfa(){return this.Kl[1]},dfa(){return this.Kl[2]},X8(){return DG.Qc(this.bA)},Y8(){return DG.Qc(this.Cv)},K2(){return dE(this.g)},
b$(){return this.g.Ie()},vja(a){return(a=U(this.g).V(a))?xn(a,0,0,a.Sa())[0]:0},wja(a){return(a=U(this.g).V(a))?xn(a,0,0,a.Sa())[1]:0},xja(a){return(a=U(this.g).V(a))?xn(a,this.g.$.Kc,0,a.Sa())[0]:0},yja(a){return(a=U(this.g).V(a))?xn(a,this.g.$.Kc,0,a.Sa())[1]:0},tja(a){a=U(this.g).V(a);if(!a)return 0;const b=this.g.$;return xn(a,b.Kc,b.xc,a.Sa())[0]},uja(a){a=U(this.g).V(a);if(!a)return 0;const b=this.g.$;return xn(a,b.Kc,b.xc,a.Sa())[1]},rja(a){return(a=U(this.g).V(a))?xn(a,0,this.g.$.xc,a.Sa())[0]:
0},sja(a){return(a=U(this.g).V(a))?xn(a,0,this.g.$.xc,a.Sa())[1]:0},Gba(a,b,d,c){return(a=U(this.g).V(a))?ko(a,b,d,c)[0]:0},Hba(a,b,d,c){return(a=U(this.g).V(a))?ko(a,b,d,c)[1]:0},f9(a,b,d,c){return(a=U(this.g).V(a))?xn(a,b,d,c)[0]:0},g9(a,b,d,c){return(a=U(this.g).V(a))?xn(a,b,d,c)[1]:0},Iba(a,b,d,c,e){const g=U(this.g);a=g.V(a);b=g.V(b);if(!a||!b||a===b)return d;const [k,l]=ko(a,d,c,e);return xn(b,k,l)[0]},Jba(a,b,d,c,e){const g=U(this.g);a=g.V(a);b=g.V(b);if(!a||!b||a===b)return c;const [k,l]=
ko(a,d,c,e);return xn(b,k,l)[1]}};"use strict";const EG=self.B;EG.C.Touch=class extends EG.Kj{constructor(a){super(a)}j(){super.j()}};const FG=self.B,GG=self.Ge;FG.C.Touch.xf=class extends FG.qm{constructor(a){super(a)}j(){super.j()}ec(){}Ke(){return self.c_}};let HG=null;self.c_=class extends self.$y{constructor(a){super(a);HG=a;a.I().fA.KQ=this}requestPermission(a){GG.he(a);const b=HG.Gj().ja;if("orientation"===a)return IG(b,0);if("motion"===a)return IG(b,1);throw Error("invalid type");}};
const JG=self.B;function IG(a,b){Nz(a,"request-permission",{type:b});return new Promise((d,c)=>{a.mH.push({type:b,resolve:d,reject:c})})}function KG(a,b){const d=b.result,c=b.type;a.TO=c;b=a.mH.filter(e=>e.type===c);for(const e of b)e.resolve(d?"granted":"denied");a.mH=a.mH.filter(e=>e.type!==c);d?(a.pa(JG.C.Touch.G.u0),0===c?hE(a.g):iE(a.g)):a.pa(JG.C.Touch.G.t0)}
function LG(a,b,d){if("mouse"===b.pointerType)if(a.AG)a.AG=!1;else return;const c=performance.now();b=b.pointerId;const e=a.oe.get(b);e&&(a.Hx=e.Ye,a.WH=e.Zg(),a.pa(JG.C.Touch.G.r0),a.pa(JG.C.Touch.G.F0),d||(d=MG(e,c),"single-tap"===d?(a.pa(JG.C.Touch.G.D0),a.bk=e.Y(),a.ck=e.Z(),a.pa(JG.C.Touch.G.E0)):"double-tap"===d&&(a.pa(JG.C.Touch.G.c0),a.bk=e.Y(),a.ck=e.Z(),a.pa(JG.C.Touch.G.d0))),e.j(),a.oe.delete(b))}
function NG(a,b){b=Math.floor(b);for(const d of a.oe.values()){if(0===b)return d;--b}return null}function OG(a,b,d){var c;if(c=0<=b&&0<=d)c=a.g,c=b<(c.$?c.$.Kc:0);if(b=c)a=a.g,b=d<(a.$?a.$.xc:0);return b}
JG.C.Touch.Instance=class extends JG.hs{constructor(a,b){super(a,"touch");this.oe=new Map;this.AG=this.qW=!1;this.ZF=this.ck=this.bk=this.TO=this.WH=this.Hx=this.vL=this.uL=this.tL=this.yL=this.xL=this.wL=this.gO=this.fO=this.eO=this.iH=0;this.mH=[];b&&(this.qW=b[0]);this.hJ("permission-result",d=>KG(this,d));a=this.I().ib();this.yd=new JG.wu(JG.td.qe(a,"pointerdown",d=>{a:{var c=d.data;if("mouse"===c.pointerType)if(this.qW)this.AG=!0;else{d=void 0;break a}const l=c.pointerId;if(!this.oe.has(l)){d=
c.pageX-this.g.Gy();c=c.pageY-this.g.Hy();var e=performance.now(),g=this.oe.size;this.Hx=g;this.WH=l;var k=JG.A(JG.C.Touch.W1);k.En(e,d,c,l,g);this.oe.set(l,k);this.pa(JG.C.Touch.G.s0);this.pa(JG.C.Touch.G.H0);this.bk=d;this.ck=c;this.pa(JG.C.Touch.G.G0)}d=void 0}return d}),JG.td.qe(a,"pointermove",d=>{d=d.data;if("mouse"!==d.pointerType||this.AG){var c=this.oe.get(d.pointerId);if(c){var e=performance.now();2>e-c.ya()||c.Ln(e,d.pageX-this.g.Gy(),d.pageY-this.g.Hy(),d.width,d.height,d.pressure)}}}),
JG.td.qe(a,"pointerup",d=>LG(this,d.data,!1)),JG.td.qe(a,"pointercancel",d=>LG(this,d.data,!0)),JG.td.qe(a,"deviceorientation",d=>{d=d.data;"number"===typeof d.webkitCompassHeading?this.iH=d.webkitCompassHeading:d.absolute&&(this.iH=d.alpha);this.eO=d.alpha;this.fO=d.beta;this.gO=d.gamma}),JG.td.qe(a,"deviceorientationabsolute",d=>{this.iH=d.data.alpha}),JG.td.qe(a,"devicemotion",d=>{d=d.data;const c=d.acceleration;c&&(this.wL=c.x,this.xL=c.y,this.yL=c.z);if(d=d.accelerationIncludingGravity)this.tL=
d.x,this.uL=d.y,this.vL=d.z}),JG.td.qe(a,"tick2",()=>this.kL()))}j(){this.oe.clear();super.j()}kL(){const a=performance.now();let b=0;for(const c of this.oe.values()){c.ya()<=a-50&&(c.SG=a);var d=c.RM?!1:500<=a-c.Rq&&!c.FG&&15>PG.Gh(c.MH,c.NH,c.fa,c.ba)?c.RM=!0:!1;d&&(this.Hx=c.Ye,this.WH=c.Zg(),this.ZF=b,this.pa(JG.C.Touch.G.i0),this.bk=c.Y(),this.ck=c.Z(),this.pa(JG.C.Touch.G.j0),this.ZF=0);++b}}};const QG=self.B,RG=[];
QG.C.Touch.G={H0(){return!0},F0(){return!0},Uaa(){return 0<this.oe.size},G0(a){return a&&OG(this,this.bk,this.ck)?wC(this.g.di,a,this.bk,this.ck):!1},pba(a){if(!a)return!1;const b=new Map,d=a.da();var c=d.qa();for(const e of c){c=e.m();const g=c.V();let k=b.get(g);"undefined"===typeof k&&(k=rn(g),b.set(g,k));if(k&&Sw(c))for(const l of this.oe.values()){if(!OG(this,l.Y(),l.Z()))continue;const [n,p]=xn(g,l.Y(),l.Z(),eo(c));if(El(c,n,p)){RG.push(e);break}}}b.clear();return RG.length?(It(d,RG),yv(a),
QG.D(RG),!0):!1},D9(a,b,d){return(a=NG(this,a))?QG.compare(a.Uk(),b,d):!1},cda(){return!0},nca(){return!0},z9(a,b,d){hE(this.g);return QG.compare(0===a?this.eO:1===a?this.fO:this.gO,b,d)},p9(a,b,d){iE(this.g);return QG.compare(0===a?this.tL:1===a?this.uL:2===a?this.vL:3===a?this.wL:4===a?this.xL:this.yL,b,d)},s0(a){a=Math.floor(a);return a===this.Hx},r0(a){a=Math.floor(a);return a===this.Hx},caa(a){a=Math.floor(a);return this.oe.size>=a+1},i0(){return!0},D0(){return!0},c0(){return!0},j0(a){return a&&
OG(this,this.bk,this.ck)?wC(this.g.di,a,this.bk,this.ck):!1},E0(a){return a&&OG(this,this.bk,this.ck)?wC(this.g.di,a,this.bk,this.ck):!1},d0(a){return a&&OG(this,this.bk,this.ck)?wC(this.g.di,a,this.bk,this.ck):!1},u0(a){return this.TO===a},t0(a){return this.TO===a}};self.B.C.Touch.Ma={hea(a){IG(this,a)}};const SG=self.B;
SG.C.Touch.ob={Oia(){return this.oe.size},UK(a){const b=NG(this,this.ZF);return b?TG(b,U(this.g),a,!0):0},VK(a){const b=NG(this,this.ZF);return b?TG(b,U(this.g),a,!1):0},Mja(a,b){return(a=NG(this,a))?TG(a,U(this.g),b,!0):0},Tja(a,b){return(a=NG(this,a))?TG(a,U(this.g),b,!1):0},Pja(a,b){return(a=this.oe.get(a))?TG(a,U(this.g),b,!0):0},Wja(a,b){return(a=this.oe.get(a))?TG(a,U(this.g),b,!1):0},E7(){const a=NG(this,0);return a?a.Y():0},H7(){const a=NG(this,0);return a?a.Z():0},F7(a){return(a=NG(this,
a))?a.Y():0},I7(a){return(a=NG(this,a))?a.Z():0},G7(a){return(a=this.oe.get(a))?a.Y():0},J7(a){return(a=this.oe.get(a))?a.Z():0},Xha(a){return(a=NG(this,a))?a.Uk():0},Yha(a){return(a=this.oe.get(a))?a.Uk():0},u8(a){return(a=NG(this,a))?SG.Qc(a.Ka()):0},v8(a){return(a=this.oe.get(a))?SG.Qc(a.Ka()):0},L9(){hE(this.g);return this.iH},o8(){hE(this.g);return this.eO},M8(){hE(this.g);return this.fO},T$(){hE(this.g);return this.gO},L7(){iE(this.g);return this.tL},N7(){iE(this.g);return this.uL},P7(){iE(this.g);
return this.vL},K7(){iE(this.g);return this.wL},M7(){iE(this.g);return this.xL},O7(){iE(this.g);return this.yL},Qia(){return this.Hx},Pia(){return this.WH},Gja(a){return(a=this.oe.get(a))?a.L():0},faa(a){return(a=this.oe.get(a))?a.K():0},Jda(a){return(a=this.oe.get(a))?a.GV:0}};"use strict";const PG=self.B;let UG=-1E3,VG=-1E3,WG=-1E4;
function MG(a,b){if(a.RM)return"";if(333>=b-a.Rq&&!a.FG&&15>PG.Gh(a.MH,a.NH,a.fa,a.ba)){if(666>=b-WG&&25>PG.Gh(UG,VG,a.fa,a.ba))return VG=UG=-1E3,WG=-1E4,"double-tap";UG=a.fa;VG=a.ba;WG=b;return"single-tap"}return""}function TG(a,b,d,c){if("undefined"===typeof d){b=no(b,0);d=a.fa;var e=a.ba;a=b.ye;const g=b.zk,k=b.Gf,l=b.Hf,n=b.Uf;b.ye=1;b.zk=1;b.Gf=1;b.Hf=1;b.Uf=0;fn(b);d=xn(b,d,e);b.ye=a;b.zk=g;b.Gf=k;b.Hf=l;b.Uf=n;fn(b);return d[c?0:1]}return(b=b.V(d))?xn(b,a.fa,a.ba)[c?0:1]:0}
PG.C.Touch.W1=class extends PG.xa{constructor(){super();this.GV=this.P=this.O=this.UG=this.TG=this.ba=this.fa=this.NH=this.MH=this.SG=this.Oc=this.Rq=this.Ye=this.EV=0;this.FG=this.RM=!1}j(){}En(a,b,d,c,e){this.EV=c;this.Ye=e;this.Rq=this.SG=this.Oc=a;this.MH=b;this.NH=d;this.fa=b;this.ba=d;this.TG=b;this.UG=d}Ln(a,b,d,c,e,g){this.SG=this.Oc;this.Oc=a;this.TG=this.fa;this.UG=this.ba;this.fa=b;this.ba=d;this.O=c;this.P=e;this.GV=g;!this.FG&&15<=PG.Gh(this.MH,this.NH,this.fa,this.ba)&&(this.FG=!0)}Zg(){return this.EV}ya(){return this.Oc}Y(){return this.fa}Z(){return this.ba}Uk(){const a=
PG.Gh(this.fa,this.ba,this.TG,this.UG),b=(this.Oc-this.SG)/1E3;return 0<b?a/b:0}Ka(){return PG.jr(this.TG,this.UG,this.fa,this.ba)}L(){return this.O}K(){return this.P}};"use strict";const XG=self.B;XG.C.Text=class extends XG.Kj{constructor(a){super(a)}j(){super.j()}};const YG=self.B;YG.C.Text.xf=class extends YG.qm{constructor(a){super(a)}j(){super.j()}ec(){}In(){}mm(){}};const ZG=self.B,$G=self.Ge,aH=[0,0,0],bH=["left","center","right"],cH=["top","center","bottom"],dH=new ZG.Rect,eH=new ZG.ed;new ZG.mb;
const fH=ZG.A(ZG.Cp),gH=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["iconoffsety",null]]);function hH(a,b){b&&(b.Qa||b.pb().constructor!==ZG.C.rc)||b===a.Ig||(a.Ig&&a.Ig.ib().removeEventListener("animationframeimagechange",a.DT),a.Ig=b,a.Ig&&a.Ig.ib().addEventListener("animationframeimagechange",a.DT),iH(a),a.bB=!1,a.g.M())}
function iH(a){const b=a.zb;b.Yu(a.$c);var d=a.Fm;d=!!d;b.ji!==d&&(b.ji=d,d=b.ji?"alphabetic":"top",b.$e&&(b.$e.textBaseline=d),b.wo&&(b.wo.textBaseline=d),ch(b));a.zb.ji&&a.Ig?a.zb.rz(eE(a.I(),a.Ig)):a.zb.rz(null);d="nearest"!==a.g.Ob;d=!!d;b.TM!==d&&(b.TM=d,b.jl=!0);lh(b,a.Gm);b.SS(a.Om);mh(b,a.ki);nh(b,a.li);b.rm(a.yb);qh(b,bH[a.bj]);rh(b,cH[a.Bi]);a=a.Yo?"word":"character";if(!ah.has(a))throw Error("invalid word wrap mode");b.mP!==a&&(b.mP=a,ch(b))}
function jH(a){if(a.vH){let b=a.$c;a.Fm&&(b=b.replace(fe,""));a.Ho?a.Ho.Yu(b):a.Ho=ZG.A(ZG.n1,a.g,b)}else a.Ho&&(a.Ho.j(),a.Ho=null)}function kH(a){a.Ix=-1;a.dn=-1;a.uC=0;oh(a.zb,-1);a.Hp()}function lH(a){const b=a.m();a.zb.tK(a.Um);var d=a.zb;if(b.sg()){var c=b.Na;c=Math.min(Sr(c),Vr(c))}else c=1;d.PF!==c&&(d.PF=c,ch(d));d=b.V();d=d.Gu()*Dn(d,eo(b));Ny(b)&&d!==a.zb.Qx&&b.Gb(65536,!0);a.zb.vd(b.L(),b.K(),d)}
function mH(a){const b=a.Hb-Math.round(a.Hb),d=a.Eb-Math.round(a.Eb);if(0===b&&0===d)return a;eH.Ca(a);eH.offset(-b,-d);return eH}function nH(a,b){a.$c!==b&&(a.$c=b,a.zb.Yu(b),jH(a),a.bB=!1,a.g.M())}function oH(a,b){a.Gm!==b&&(a.Gm=b,lh(a.zb,b),a.g.M())}function pH(a,b){a.Om!==b&&(a.Om=b,iH(a),a.g.M())}function qH(a,b){b=!!b;a.ki!==b&&(a.ki=b,mh(a.zb,b),a.g.M())}function rH(a,b){b=!!b;a.li!==b&&(a.li=b,nh(a.zb,b),a.g.M())}function sH(a,b){a.bj!==b&&(a.bj=b,iH(a),a.g.M())}
function tH(a,b){a.Bi!==b&&(a.Bi=b,iH(a),a.g.M())}function uH(a,b){b=!!b;a.Yo!==b&&(a.Yo=b,iH(a),a.g.M())}function vH(a,b,d){lH(a);var c=a.m();fH.set(b-c.Y(),d-c.Z());fH.rotate(-c.Ka());fH.offset(c.L()*c.Ki(),c.K()*c.Li());fH.Ik(c.L(),c.K());fH.scale(a.zb.L(),a.zb.K());a:{c=a.zb;a=fH.fa;b=fH.ba;uh(c);d=ph(c);c=c.Fk.El;for(e of c)if(c=e.Im*d,b>=e.Ww-e.K()*d+c&&b<e.Ww+c)for(const g of e.Xx())if(a>=g.Vw&&a<g.Vw+g.L()*d){var e=g;break a}e=null}return e&&(e=Ce(e,"tag"))?e.Tg:""}
function wH(a,b,d){lH(a);d=Math.floor(d);a:{var c=a.zb;for(var e of wh(c,b)){if(0===d){b=e;break a}--d}b=null}var g=b;if(!g)return null;b=a.m();const k=ph(a.zb);c=g.Vw;e=g.Ww-(g.K()-g.Im)*k;d=g.L()*k/a.zb.L()*b.L();g=g.K()*k/a.zb.K()*b.K();fH.set(c,e);fH.Ik(a.zb.L(),a.zb.K());fH.scale(b.L(),b.K());fH.offset(-b.L()*b.Ki(),-b.K()*b.Li());fH.rotate(b.Ka());fH.offset(b.Y(),b.Z());return{x:fH.fa,y:fH.ba,width:d,height:g}}
function xH(a){a=gH.get(a);if(null===a)return"";a||(a="span");return`</${a||"span"}>`}
function yH(a,b){let d=gH.get(a);if(null===d)return"";d||(d="span");switch(a){case "color":return`<${d} style="color: ${b}">`;case "font":return`<${d} style="font-family: '${b}'">`;case "opacity":return`<${d} style="opacity: ${b}%">`;case "size":return`<${d} style="font-size: ${b}pt">`;case "background":return`<${d} style="background-color: ${b}">`;case "hide":return`<${d} style="visibility: hidden">`;case "class":return`<${d} class="${b}">`;case "tag":return`<${d} data-tag="${b}">`;default:return`<${d}>`}}
async function zH(a){if(a.bB)return a.fG;var b=me(new ZG.Fr(a.$c));const d=new Map;let c='<span class="c3-text"';var e=[];e.push(`font-family: '${a.Gm}';`);a.ki&&e.push("font-weight: bold;");a.li&&e.push("font-style: italic;");a.Yo||e.push("word-break: break-all;");c+=` style="${e.join(" ")}">`;e=a.Ig?eE(a.I(),a.Ig):null;if(a.Ig){var g=ZG.A(ZG.mE),k=[];const u=new Map;for(var l of b)if(l.rp()){const x=te(l,e);if(x){const y=x.cC.$b().Se;u.has(y)||(u.set(y,null),k.push(g.Cc(async()=>{const A=await Em(y);
u.set(y,A)})))}}await Promise.all(k);l=[];for(var n of b)if(n.rp()){const x=te(n,e);if(x){const y=x.cC,A=y.$b().Se;l.push(g.Cc(async()=>{const D=await eA(y.$b(),u.get(A));d.set(x,D)}))}}await Promise.all(l);for(var p of u.values())p instanceof ImageBitmap&&p.close&&p.close()}n=new Map;for(var r of b){l=De(r);b=[...n.keys()];b.reverse();for(const u of b)l.has(u)&&l.get(u)===n.get(u)||(n.delete(u),c+=xH(u));for(const [u,x]of l)n.has(u)||(n.set(u,x),c+=yH(u,x));r.tg()&&(c+=ZG.Si(ZG.lR(r.Eg.join("")),
"\n","<br>"));if(r.rp()&&e&&(b=te(r,e))&&(p=d.get(b))){g=[];k="0.2em";if(l=l.get("iconoffsety"))l=l.trim(),k=l.endsWith("%")?parseFloat(l)/100+"em":l+"px";g.push(`top: ${k}`);"nearest"===a.g.Ob&&g.push("image-rendering: pixelated");c+=`<img class="c3-text-icon" data-icon="${r.RA}" width="${b.L()}" height="${b.K()}" style="${g.join(";")}" src="${p}">`}}r=[...n.keys()];r.reverse();for(const u of r)c+=xH(u);a.fG=c+"</span>";a.bB=!0;return a.fG}
ZG.C.Text.Instance=class extends ZG.Tu{constructor(a,b){super(a);this.$c="";this.Fm=!0;this.Gm="Arial";this.Um=12;this.Om=0;this.li=this.ki=!1;this.yb=ZG.A(ZG.mb);this.Bi=this.bj=0;this.Yo=!0;this.Ig=null;this.fG="";this.vH=this.bB=!1;this.Ho=null;this.dn=this.Ix=-1;this.uC=0;this.zb=ZG.A(ZG.T.rE,this.g.Ba(),{timeout:5});this.zb.LI=()=>this.g.M();this.DT=()=>{Ie(this.g.Ko,this.Ig);this.g.M();this.kO=!0};this.kO=!1;b&&(this.$c=b[0],this.Fm=!!b[1],this.Gm=b[2],this.Um=b[3],this.Om=b[4],this.ki=!!b[5],
this.li=!!b[6],this.bj=b[8],this.Bi=b[9],this.Yo=0===b[10],hH(this,ap(this.g,b[11])),a=b[7],Tb(this.yb,a[0],a[1],a[2]),this.m().hh(b[12]),this.vH=!!b[14]);iH(this);jH(this)}j(){hH(this,null);kH(this);this.Ho&&(this.Ho.j(),this.Ho=null);this.zb.j();this.zb=null;super.j()}ng(a){var b=this.m();lH(this);this.kO&&(this.kO=!1,this.zb.ji&&this.Ig&&this.zb.rz(eE(this.I(),this.Ig)));const d=this.zb.Jb();if(d){var c=b.V();if(0===b.Ka()&&0===c.Ka()&&0===eo(b)&&!Ny(b)&&Fn(c)){b=xB(b);const [k,l]=go(c,b.Hb,b.Eb),
[n,p]=go(c,b.uc,b.wc);b=k-Math.round(k);var e=l-Math.round(l);dH.set(k,l,n,p);dH.offset(-b,-e);eH.ef(dH);const [r,u]=a.Hu(a.Ej());b=this.g.$;e=r;var g=u;e=e||b.Kd;g=g||b.zd;const x=e/2+b.l4,y=g/2+b.m4;let A=b.wF;if(e!==b.Kd||g!==b.zd)Bf(a,NC,e/g),A=NC;a.tm(A);b=Df(a,x,y,a.Ie(g),x,y,g);a.ls(b);a.Ud(d);a.Yk(eH,this.zb.Vk());Zn(c,a)}else a.Ud(d),Ny(b)?this.Cz(b,a):this.Dz(b,a)}}Dz(a,b){a=xB(a);this.g.jk&&(a=mH(a));b.Yk(a,this.zb.Vk())}Cz(a,b){const d=cC(a);if(0!==(a.F&65536)){tB(a,dH,eH,!1);let c=eH;
this.g.jk&&(c=mH(c));Zf(d,Oy(a),c,this.zb.Vk());a.Gb(65536,!1)}d.ng(b)}LD(){const a=this.zb.Jb();return a?[a.L(),a.K()]:[100,100]}MD(){return this.zb.Vk()}aE(){return!1}Gc(){const a={t:this.$c,c:this.yb.toJSON(),fn:this.Gm,ps:this.Um};this.Fm&&(a.bbc=this.Fm);0!==this.bj&&(a.ha=this.bj);0!==this.Bi&&(a.va=this.Bi);this.Yo||(a.wr=this.Yo);0!==this.Om&&(a.lho=this.Om);this.ki&&(a.b=this.ki);this.li&&(a.i=this.li);-1!==this.dn&&(a.tw={st:this.Ix,en:this.dn,l:this.uC});this.Ig&&(a.ioc=this.Ig.fb);return a}cc(a){kH(this);
this.$c=a.t;cc(this.yb,a.c);this.Gm=a.fn;this.Um=a.ps;this.Fm=a.hasOwnProperty("bbc")?a.bbc:!1;this.bj=a.hasOwnProperty("ha")?a.ha:0;this.Bi=a.hasOwnProperty("va")?a.va:0;this.Yo=a.hasOwnProperty("wr")?a.wr:!0;this.Om=a.hasOwnProperty("lho")?a.lho:0;this.ki=a.hasOwnProperty("b")?a.b:!1;this.li=a.hasOwnProperty("i")?a.i:!1;if(a.hasOwnProperty("tw")){const b=a.tw;this.Ix=b.st;this.dn=b.en;this.uC=b.l}a.hasOwnProperty("ioc")?(a=ap(this.I(),a.ioc))&&hH(this,a):hH(this,null);iH(this);jH(this);this.bB=
!1;-1!==this.dn&&this.Bg()}ac(a){switch(a){case 0:return this.$c;case 1:return this.Fm;case 2:return this.Gm;case 3:return this.Um;case 4:return this.Om;case 5:return this.ki;case 6:return this.li;case 7:return aH[0]=this.yb.eb,aH[1]=this.yb.kb,aH[2]=this.yb.bb,aH;case 8:return this.bj;case 9:return this.Bi;case 10:return this.Yo?1:0;case 14:return this.vH}}Le(a,b){switch(a){case 0:nH(this,b);break;case 1:if(this.Fm===!!b)break;this.Fm=!!b;iH(this);break;case 2:oH(this,b);break;case 3:this.Um!==b&&
(this.Um=b,this.g.M());break;case 4:pH(this,b);break;case 5:qH(this,b);break;case 6:rH(this,b);break;case 7:a=this.yb;if(a.eb===b[0]&&a.kb===b[1]&&a.bb===b[2])break;Tb(this.yb,b[0],b[1],b[2]);iH(this);break;case 8:sH(this,b);break;case 9:tH(this,b);break;case 10:uH(this,0===b)}}jf(){var a=this.g.FC.ea();a>=this.dn?(kH(this),this.pa(ZG.C.Text.G.pS),this.g.M()):(a=ZG.c7(this.Ix,this.dn,a,this.uC),a=Math.floor(a),a!==this.zb.Os&&(oh(this.zb,a),this.g.M()))}Ke(){return self.PJ}};
const AH=new WeakMap,BH=new Map([["top",0],["center",1],["bottom",2]]);self.PJ=class extends self.Ec{constructor(){super();AH.set(this,self.Ni.Zh().ja)}get text(){return AH.get(this).$c}set text(a){$G.he(a);const b=AH.get(this);kH(b);nH(b,a)}set lineHeight(a){$G.ud(a);pH(AH.get(this),a)}get lineHeight(){return AH.get(this).Om}set verticalAlign(a){$G.he(a);a=BH.get(a);if("undefined"===typeof a)throw Error("invalid mode");tH(AH.get(this),a)}get verticalAlign(){return cH[AH.get(this).Bi]}};
const CH=self.B;CH.C.Text.G={B9(a,b){return b?this.$c===a:CH.xj(this.$c,a)},lba(){return-1!==this.dn},pS(){return!0},daa(a,b,d){return(b=vH(this,b,d))&&ZG.xj(a,b)}};const DH=self.B,EH=DH.A(DH.mb);
DH.C.Text.Ma={Yu(a){kH(this);"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);nH(this,a.toString())},B8(a){kH(this);"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);(a=a.toString())&&nH(this,this.$c+a)},Wia(a,b){kH(this);"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();lH(this);nH(this,a);this.Ix=this.g.FC.ea();this.dn=this.Ix+b/ul(this.ga());b=this.zb;sh(b);a=0;for(const d of b.Fk.El)for(const c of d.Xx())a+=c.Py();this.uC=a;oh(this.zb,0);this.Bg()},oga(a,b){let d=
!1,c=!1;switch(b){case 1:d=!0;break;case 2:c=!0;break;case 3:c=d=!0}if(a!==this.Gm||d!==this.ki||c!==this.li)oH(this,a),qH(this,d),rH(this,c)},tK(a){this.Um!==a&&(this.Um=a,this.g.M())},nga(a){$b(EH,a);EH.X();Xb(this.yb,EH)||(Vb(this.yb,EH),this.zb.rm(this.yb),this.g.M())},Kha(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},PS(a){this.m().te(a);this.g.M()},Via(){-1!==this.dn&&(kH(this),this.pa(ZG.C.Text.G.pS),this.g.M())},SS(a){pH(this,a)},rga(a){sH(this,
a)},Dha(a){tH(this,a)},Mha(a){uH(this,0===a)},i9(a){hH(this,a)},kja(){return zH(this)},mha(a){this.vH=!!a;jH(this)}};
self.B.C.Text.ob={Text(){return this.$c},zda(){return this.Fm?this.$c.replace(fe,""):this.$c},D$(){return this.Gm},E$(){return this.Um},Bia(){lH(this);var a=this.zb;sh(a);return Ae(a.Fk)},Aia(){lH(this);var a=this.zb;sh(a);return Be(a.Fk)+a.Fk.El.length*(a.qt+4)-a.qt},Nba(){return this.Om},ria(a,b){return vH(this,a,b)},sia(a){lH(this);var b=this.zb;let d=0;for(const c of wh(b,a))++d;return d},via(a,b){return(a=wH(this,a,b))?a.x:0},wia(a,b){return(a=wH(this,a,b))?a.y:0},uia(a,b){return(a=wH(this,a,
b))?a.width:0},tia(a,b){return(a=wH(this,a,b))?a.height:0},E8(){return this.fG}};"use strict";const FH=self.B;FH.C.ns=class extends FH.Kj{constructor(a){super(a)}j(){super.j()}};const GH=self.B;GH.C.ns.xf=class extends GH.qm{constructor(a){super(a);this.Jc=a.Jc}j(){GH.D(this.Jc);super.j()}ec(){for(const b of this.Jc){var a=this.g;for(const d of b.Bd)bA(d.$b(),a)}}In(a){const b={Zb:this.g.Ob};return Promise.all(this.Jc.map(d=>gA(d,a,b)))}mm(){for(const a of this.Jc)hA(a)}Bu(a){GH.C.ns.qR(this,a)}};
const HH=self.B,IH=self.Ge,JH=[];let KH=0;for(let a=0;6>a;a++)JH.push({hX:0,ZI:NaN,$I:NaN,aJ:NaN,bJ:NaN,cJ:NaN,dJ:NaN,oI:NaN,pI:NaN,qI:NaN,lI:NaN,mI:NaN,nI:NaN,shape:0,bD:NaN,hQ:NaN,enable:!1});function LH(a,b){return a.bD===b.bD?b.hQ-a.hQ:b.bD-a.bD}const pF=HH.A(HH.ed);HH.A(HH.Cp);function MH(a,b,d,c,e,g){a=c-a;b=e-b;d=g-d;return a*a+b*b+d*d}
function NH(a,b,d,c,e,g,k,l,n,p,r){c=[HH.Pc(a,c,p),HH.Pc(b,e,p),HH.Pc(d,g,p)];const [u,x,y]=c;b=x+(l-b);d=y+(n-d);return[HH.Pc(u,u+(k-a),r),HH.Pc(x,b,r),HH.Pc(y,d,r)]}function OH(a,b,d){null!==d&&d.Qa&&(d=d.ho[0]);const c=a.BA;c[b]!==d&&(c[b]=d,a.g.M())}function PH(a,b,d,c,e,g,k,l,n,p,r,u,x,y){const A=JH[a];A.hX=a;A.ZI=b;A.$I=d;A.aJ=c;A.bJ=e;A.cJ=g;A.dJ=k;A.oI=l;A.pI=n;A.qI=p;A.lI=r;A.mI=u;A.nI=x;A.shape=y;A.enable=!0;KH++}
function QH(a,b,d,c,e,g,k,l,n,p,r,u,x,y,A,D){var F=null,J=null,H=!1;Ef(b);F=a.BA[d];if(null!==F){F=Zw(F,a.ga());if(!F)return;d=F.ja;if(HH.C.rc&&d instanceof HH.C.rc.Instance){F=d.Jb();if(null===F)return;J=d.Ju()}else if(HH.C.Rj&&d instanceof HH.C.Rj.Instance||HH.C.P_&&d instanceof HH.C.P_.Instance){let L=0,Y=0;H=a.Vt;switch(D){case 0:case 1:L=Math.hypot(k-c,l-e,(n-g)*H);Y=Math.hypot(p-k,r-l,(u-n)*H);break;case 2:L=Math.hypot(p-x,r-y,(u-A)*H);Y=Math.hypot(x-c,y-e,(A-g)*H);break;case 3:L=Math.hypot(p-
x,r-y,(u-A)*H);Y=Math.hypot(p-k,r-l,(u-n)*H);break;case 4:L=Math.hypot(p-x,r-y,(u-A)*H),Y=Math.hypot((x+p)/2-c,(y+r)/2-e,((A+u)/2-g)*H)}if(HH.C.Rj&&d instanceof HH.C.Rj.Instance){F=d.Jb();if(null===F)return;oF(d,L,Y);H=!0;qF(d,b)}else{if(0!==D)return;d.B3((da,Fa)=>{da.Ik(L,Y);const bd=da.ca,wc=da.aa,tb=da.la;da=da.ka;const [xc,ne,oe]=NH(c,e,g,k,l,n,x,y,A,bd,wc),[Jf,Kf,Lf]=NH(c,e,g,k,l,n,x,y,A,tb,wc),[pe,Mf,Nf]=NH(c,e,g,k,l,n,x,y,A,tb,da),[Ik,Jk,Kk]=NH(c,e,g,k,l,n,x,y,A,bd,da);b.xS(xc,ne,oe,Jf,Kf,
Lf,pe,Mf,Nf,Ik,Jk,Kk,Fa)});d.jka(b,0,0,L,Y);d.B3(null);return}}else return}else{d=a.KF[d];J=iA(a.Pz,d).$b();F=J.Jb();if(null===F)return;J=J.Ju()}b.Ud(F);3<=D||H?(H||pF.Ca(J),3===D?(pF.Hb=+pF.kc,pF.Eb=+pF.Eb):4===D&&(pF.Hb=+((pF.Hb+pF.kc)/2),pF.Eb=+((pF.Eb+pF.qc)/2)),b.$r(c,e,g,k,l,n,p,r,u,x,y,A,pF)):b.$r(c,e,g,k,l,n,p,r,u,x,y,A,J)}function RH(a,b){a.m();b=Math.floor(b);return 0>b||5<b?0:iA(a.Pz,b).Ny()}
function SH(a,b,d){const c=a.m();b=Math.floor(b);if(0>b||5<b)return[c.Y(),c.Z(),c.Sa()];const e=iA(a.Pz,b);let g=null;"string"===typeof d?g=e.XM.get(d.toLowerCase())||null:"number"===typeof d&&(g=kA(e,d-1));let k=d=.5;g?(d=g.Y(),k=g.Z()):0===b&&(d=e.Ki(),k=e.Li());Cl(c);a=TH(a,b);return NH(a[0],a[1],a[2],a[3],a[4],a[5],a[9],a[10],a[11],d,k)}
function TH(a,b){var d=a.eF;const c=d.Hb,e=d.Eb,g=d.kc,k=d.qc,l=d.uc,n=d.wc,p=d.sc;d=d.tc;const r=a.Zm;a=a.vj;if(1===r||3===r){let u=(c+p)/2,x=(e+d)/2,y=(g+l)/2,A=(k+n)/2;switch(b){case 4:return[y,A,a,u,x,a,c,e,0,g,k,0];case 5:return[u,x,a,y,A,a,l,n,0,p,d,0]}if(3===r)switch(u=(c+g)/2,x=(e+k)/2,y=(p+l)/2,A=(d+n)/2,b){case 2:return[u,x,a,y,A,a,p,d,0,c,e,0];case 3:return[y,A,a,u,x,a,g,k,0,l,n,0]}}else if(2===r&&2===b)return[g,k,a,l,n,a,p,d,0,c,e,0];switch(b){case 0:return[c,e,0,g,k,0,l,n,0,p,d,0];case 1:return[c,
e,a,g,k,a,l,n,a,p,d,a];case 2:return[c,e,a,p,d,a,p,d,0,c,e,0];case 3:return[l,n,a,g,k,a,g,k,0,l,n,0];case 4:return[g,k,a,c,e,a,c,e,0,g,k,0];case 5:return[p,d,a,l,n,a,l,n,0,p,d,0];default:return[0,0,0,0,0,0,0,0,0,0,0,0]}}
HH.C.ns.Instance=class extends HH.Tu{constructor(a,b){super(a);this.Zm=0;this.vj=15;a=!0;this.Pz=this.R.Jc[0];this.Xi=[!1,!0,!0,!0,!0,!0];this.KF=[0,1,2,3,4,5];this.Vt=8;this.BA=[null,null,null,null,null,null];b&&(this.Zm=b[0],this.vj=b[1],a=!!b[2],this.Xi[0]=!!b[3],this.Xi[1]=!!b[4],this.Xi[2]=!!b[5],this.Xi[3]=!!b[6],this.Xi[4]=!!b[7],this.Xi[5]=!!b[8],this.Vt=b[9],OH(this,0,ap(this.g,b[10])),OH(this,1,ap(this.g,b[11])),OH(this,2,ap(this.g,b[12])),OH(this,3,ap(this.g,b[13])),OH(this,4,ap(this.g,
b[14])),OH(this,5,ap(this.g,b[15])));b=this.m();KB(b,this.vj);this.eF=xB(b);b.hh(a);a=iA(this.Pz,0);b.Lj(a.Ki());b.Mj(a.Li());T(b)}j(){super.j()}Yd(){return iA(this.Pz,0).$b()}eh(){return!0}ng(a){var b=this.m(),d=this.Xi,c=d[0],e=d[1],g=d[2];let k=d[3],l=d[4];d=d[5];0!==(b.F&1048576)?d=l=k=g=e=!1:0!==(b.F&2097152)&&(c=!1);if(c||e||g||k||l||d){var n=this.eF;this.g.jk&&(n=aC(b,n));var p=n.Hb,r=n.Eb,u=n.kc,x=n.qc,y=n.uc,A=n.wc,D=n.sc,F=n.tc,J=this.Zm,H=this.vj;KH=0;for(let L=0;6>L;L++)JH[L].enable=!1;
c&&PH(0,p,r,0,u,x,0,y,A,0,D,F,0,0);0===J?(g&&PH(2,p,r,H,D,F,H,D,F,0,p,r,0,0),k&&PH(3,y,A,H,u,x,H,u,x,0,y,A,0,0),l&&PH(4,u,x,H,p,r,H,p,r,0,u,x,0,0),d&&PH(5,D,F,H,y,A,H,y,A,0,D,F,0,0),e&&PH(1,p,r,H,u,x,H,y,A,H,D,F,H,0)):1===J?(c=(p+D)/2,e=(r+F)/2,n=(u+y)/2,J=(x+A)/2,g&&PH(2,c,e,H,c,e,H,D,F,0,p,r,0,4),k&&PH(3,n,J,H,n,J,H,u,x,0,y,A,0,4),l&&PH(4,n,J,H,c,e,H,p,r,0,u,x,0,0),d&&PH(5,c,e,H,n,J,H,y,A,0,D,F,0,0)):2===J?(g&&PH(2,u,x,H,y,A,H,D,F,0,p,r,0,0),k&&PH(3,y,A,H,u,x,H,u,x,0,y,A,0,0),l&&PH(4,u,x,H,u,x,
H,p,r,0,u,x,0,2),d&&PH(5,y,A,H,y,A,H,y,A,0,D,F,0,3)):3===J?(c=n.cu(),e=n.du(),g&&PH(2,c,e,H,c,e,H,D,F,0,p,r,0,4),k&&PH(3,c,e,H,c,e,H,u,x,0,y,A,0,4),l&&PH(4,c,e,H,c,e,H,p,r,0,u,x,0,4),d&&PH(5,c,e,H,c,e,H,y,A,0,D,F,0,4)):4===J?(g&&PH(2,u,x,H,u,x,H,D,F,0,p,r,0,2),k&&PH(3,u,x,H,u,x,H,u,x,0,y,A,0,3),l&&PH(4,u,x,H,u,x,H,p,r,0,u,x,0,2),d&&PH(5,u,x,H,u,x,H,y,A,0,D,F,0,3)):5===J&&(g&&PH(2,p,r,H,p,r,H,D,F,0,p,r,0,2),k&&PH(3,y,A,H,u,x,H,u,x,0,y,A,0,0),l&&PH(4,u,x,H,p,r,H,p,r,0,u,x,0,0),d&&PH(5,y,A,H,y,A,H,y,
A,0,D,F,0,3),e&&PH(1,p,r,H,u,x,H,y,A,H,D,F,0,1));if(1<KH){b=b.V();wn(b)?(b=b.Xb().$j,b=[b[0],b[1],b[2]]):b=Xn(b);const [L,Y,da]=b;for(b=0;6>b;++b)g=JH[b],g.enable&&(g.bD=Math.min(MH(L,Y,da,g.ZI,g.$I,g.aJ),MH(L,Y,da,g.bJ,g.cJ,g.dJ),MH(L,Y,da,g.oI,g.pI,g.qI),MH(L,Y,da,g.lI,g.mI,g.nI)),g.hQ=MH(L,Y,da,(g.ZI+g.bJ+g.oI+g.lI)/4,(g.$I+g.cJ+g.pI+g.mI)/4,(g.aJ+g.dJ+g.qI+g.nI)/4));JH.sort(LH)}for(b=0;6>b;++b)g=JH[b],g.enable&&QH(this,a,g.hX,g.ZI,g.$I,g.aJ,g.bJ,g.cJ,g.dJ,g.oI,g.pI,g.qI,g.lI,g.mI,g.nI,g.shape)}}xp(){return this.Xi[0]}Ny(){return RH(this,
0)}hm(a){return SH(this,0,a)}Gc(){return{s:this.Zm,zh:this.vj,fv:this.Xi,fi:this.KF,fo:this.BA.map(a=>a?a.fb:-1),zf:this.Vt}}cc(a){this.Zm=a.s;this.vj=a.zh;KB(this.m(),this.vj);this.Xi=a.fv.slice(0);this.KF=a.fi.slice(0);a.hasOwnProperty("fo")&&(this.BA=a.fo.map(b=>ap(this.g,b)));a.hasOwnProperty("zf")&&(this.Vt=a.zf)}ac(){}Le(){}Ke(){return self.ER}};const UH=new WeakMap,VH="box prism wedge pyramid corner-out corner-in".split(" ");
self.ER=class extends self.Ec{constructor(){super();UH.set(this,self.Ni.Zh().ja)}set shape(a){IH.he(a);a=VH.indexOf(a);if(-1===a)throw new TypeError("invalid shape");var b=UH.get(this);b.Zm!==a&&(b.Zm=a,b.g.M())}get shape(){return VH[UH.get(this).kka()]}};const WH=self.B;WH.C.ns.G={A9(a){return this.Zm===a},K9(a,b){return WH.compare(this.vj,a,b)},Qaa(a){return this.Xi[a]}};
self.B.C.ns.Ma={pha(a){this.Zm!==a&&(this.Zm=a,this.g.M())},z1(a){a=Math.max(a,0);this.vj!==a&&(this.vj=a,KB(this.m(),a),this.g.M())},jga(a,b){b=!!b;this.Xi[a]!==b&&(this.Xi[a]=b,this.g.M())},hga(a,b){const d=this.KF,c=this.BA;if(d[a]!==b||null!==c[a])d[a]=b,c[a]=null,this.g.M()},Rha(a){this.Vt!==a&&(this.Vt=a,this.g.M())},iga(a,b){OH(this,a,b)}};
self.B.C.ns.ob={bka(){return this.vj},eka(){return this.Vt},A$(a,b){return SH(this,a,b)[0]},B$(a,b){return SH(this,a,b)[1]},C$(a,b){return SH(this,a,b)[2]},z$(a){return RH(this,a)}};"use strict";const XH=self.B;XH.C.Ri=class extends XH.Kj{constructor(a){super(a)}j(){super.j()}};const YH=self.B;YH.C.Ri.xf=class extends YH.qm{constructor(a){super(a)}j(){super.j()}ec(){}};const ZH=self.B;async function $H(a){a.iB=!0;await a.Vd(ZH.C.Ri.G.I0)}async function aI(a){a.iB=!1;await a.Vd(ZH.C.Ri.G.J0)}
async function bI(a){a.iB=!1;await a.Vd(ZH.C.Ri.G.K0)}async function cI(a){await a.Vd(ZH.C.Ri.G.q0)}
ZH.C.Ri.Instance=class extends ZH.hs{constructor(a){super(a,"platform-info");this.kP=this.lP=this.TV=this.UV=0;this.jx=[0,0,0,0];this.MU=this.iB=this.PH=!1;Kz(this,[["window-resize",b=>this.lL(b)],["wake-lock-acquired",()=>$H(this)],["wake-lock-error",()=>aI(this)],["wake-lock-released",()=>bI(this)]]);navigator.connection&&navigator.connection.addEventListener("change",()=>cI(this));LD(this.g,Mz(this,"get-initial-state").then(b=>{this.UV=b.screenWidth;this.TV=b.screenHeight;this.lP=b.windowOuterWidth;
this.kP=b.windowOuterHeight;this.jx=b.safeAreaInset;this.PH=b.supportsWakeLock;this.MU=b.isNwjs}))}j(){super.j()}lL(a){this.lP=a.windowOuterWidth;this.kP=a.windowOuterHeight;this.jx=a.safeAreaInset}};const dI=self.B;
dI.C.Ri.G={u_(){return dI.W.tp},iba(){return"Windows"===dI.W.Fc},gba(){return"macOS"===dI.W.Fc},fba(){return"Linux"===dI.W.Fc},dba(){return"Chrome OS"===dI.W.Fc},bba(){return"Android"===dI.W.Fc},jba(){return"iOS"===dI.W.Fc},uba(){const a=this.g.rh;return"html5"===a||"scirra-arcade"===a||"preview"===a||"instant-games"===a},Kaa(){return"cordova"===this.g.rh},$aa(){return"nwjs"===this.g.rh||this.MU},vba(){return"windows-uwp"===this.g.rh},wba(){return this.g.M4},Yaa(){return"macos-wkwebview"===this.g.rh},
q0(){return!0},I0(){return!0},J0(){return!0},K0(){return!0},sba(){return this.iB},tba(){return this.PH}};self.B.C.Ri.Ma={jea(){this.PH&&Nz(this,"request-wake-lock")},$da(){this.PH&&(this.iB=!1,Lz(this,"release-wake-lock"))}};
self.B.C.Ri.ob={dea(){let a;a=this.g.jm()?"webgpu":"webgl"+this.g.Qr().ad;this.g.Ba().aG&&(a+="-software");return a},eea(){return this.g.jm()?Zi(this.g.jm()):this.g.Qr().Kx},g$(){return self.devicePixelRatio},zfa(){return this.UV},yfa(){return this.TV},Ija(){return this.g.$.Xo},Hja(){return this.g.$.Wo},Kja(){return this.lP},Jja(){return this.kP},c9(){return this.g.$.Kc},b9(){return this.g.$.xc},e9(){return this.g.$.nh},d9(){return this.g.$.mh},j$(){return navigator.connection?navigator.connection.downlink||
0:0},k$(){return navigator.connection?navigator.connection.downlinkMax||0:0},ConnectionType(){return navigator.connection?navigator.connection.type||"unknown":"unknown"},N9(){return navigator.connection?navigator.connection.effectiveType||"unknown":"unknown"},O9(){return navigator.connection?navigator.connection.rtt||0:0},aaa(){return navigator.hardwareConcurrency||0},f$(){return navigator.deviceMemory||0},ufa(){return this.jx[0]},tfa(){return this.jx[1]},rfa(){return this.jx[2]},sfa(){return this.jx[3]}};
"use strict";const eI=self.B;eI.ua.ur=class extends eI.Qu{constructor(a){super(a)}j(){super.j()}};const fI=self.B;fI.ua.ur.xf=class extends fI.Su{constructor(a){super(a)}j(){super.j()}ec(){}};const gI=self.B,hI=self.Ge,iI=self.Rr,jI=new Set;
gI.ua.ur.Instance=class extends gI.Ru{constructor(a,b){super(a);this.Th(!0);b&&(this.Th(b[0]),this.vm(b[1]))}j(){super.j()}Th(a){var b=this.N;b.F=a?b.F|8:b.F&-9}Bb(){return 0!==(this.N.F&8)}vm(a){const b=this.N.Fj();if(a.trim()){var d=b.get("solidTags");d||(d=new Set,b.set("solidTags",d));d.clear();for(const c of a.split(" "))c&&d.add(c.toLowerCase())}else b.delete("solidTags")}Uy(){return this.N.Fj().get("solidTags")||jI}Gc(){return{e:this.Bb()}}cc(a){this.Th(a.e)}ac(a){switch(a){case 0:return this.Bb()}}Le(a,
b){switch(a){case 0:this.Th(b)}}Ke(){return self.$Z}};const kI=new WeakMap;self.$Z=class extends iI{constructor(){super();kI.set(this,iI.Zh().ja)}set isEnabled(a){kI.get(this).Th(!!a)}get isEnabled(){return kI.get(this).Bb()}set kp(a){hI.he(a);kI.get(this).vm(a)}get kp(){return[...kI.get(this).Uy()].join(" ")}};self.B.ua.ur.G={Bb(){return this.Bb()}};self.B.ua.ur.Ma={Th(a){this.Th(a)},vm(a){this.vm(a)}};self.B.ua.ur.ob={};"use strict";const lI=self.B;lI.ua.jh=class extends lI.Qu{constructor(a){super(a)}j(){super.j()}};
const mI=self.B;mI.ua.jh.xf=class extends mI.Su{constructor(a){super(a)}j(){super.j()}ec(){}};const nI=self.B,oI=nI.ua.jh;function dm(a,b,d=!1){var c=b.Zg();if(a.Tf.has(c)&&(c=a.Tf.get(c))){const e=c.indexOf(b);-1!==e&&c.splice(e,1)}b.od||pI(a,b)||(b.Tc(d),d=b.Zg(),a.kg.has(d)||a.kg.set(d,[]),a.kg.get(d).push(b),a.zl||a.lv())}function qI(a){if(a.kg.size){for(const b of a.kg.values()){for(const d of b)d.od||d.j();nI.D(b)}a.kg.clear();a.zl&&a.ys()}}
function rI(a,b){return b?(b=[...a.Tf.values()].flat(),a=[...a.kg.values()].flat(),b.concat(a).filter(d=>d).filter(d=>!d.od)):[...a.Tf.values()].flat().filter(d=>d).filter(d=>!d.od)}function sI(a,b,d){if(d)return d=a.Tf.get(b),a=a.kg.get(b),d||(d=[]),a||(a=[]),d.concat(a).filter(c=>c).filter(c=>!c.od);(a=a.Tf.get(b))||(a=[]);return a.filter(c=>c).filter(c=>!c.od)}function tI(a,b,d){if((a=d?sI(a,d,!0):rI(a,!0))&&a.length)for(const c of a)if(eq(c,b))return c}
function*uI(a,b,d,c=!1){if((a=d?sI(a,d,c):rI(a,c))&&a.length)for(const e of a)eq(e,b)&&(yield e)}function*vI(a,b){yield*uI(a,b,void 0,!0)}function wI(a){const b={};for(const [d,c]of a.Tf)b[d]=c.filter(e=>!e.od).map(e=>e.wa());return b}function xI(a){return a.aq.filter(b=>!b.od).map(b=>b.oa())}function yI(a){const b={};for(const [d,c]of a.kg)b[d]=c.map(e=>e.wa());return b}
function zI(a,b,d,c){if(b)for(const g in b){let k=d.get(g);k?nI.D(k):k=[];var e=b[g];for(const l of e)AI(k,l.name,c)?BI(l.name,l,c):(e=nt({sb:a.I(),json:l}),ht(e,n=>CI(a,n)),Cp(c,e),AI(k,e,c));d.set(g,k)}}function AI(a,b,d){if("string"===typeof b){if(b=Bp(d,b))return!!a.push(b)}else return!!a.push(b);return!1}function BI(a,b,d){"string"===typeof a?(a=Bp(d,a))&&a.Aa(b):a.Aa(b)}
function CI(a,b){DI=a.dk=b;let d,c;if(a.I())d=a.N,c=a.g,a.pa(oI.G.oS),a.pa(oI.G.cS),dm(a,b);else{d=b.ga();if(!d||d&&uq(d))return;c=d.I();a:{var e=b.ga().wd;for(g of e)if(e=g.pg(),e.UA===a.constructor){var g=e;break a}g=void 0}a.pa(oI.G.oS,c,d,g);a.pa(oI.G.cS,c,d,g);b.Tc()}DI=a.dk=null;b.Nv&&lo(c,d)}
function EI(a,b,d=!1){if(nI.Rc(b)){var c=FI[b];if(a.Tf.has(c)){c=a.Tf.get(c);var e=a.dk;for(var g of c)g===e||g.od||pI(a,g)||(g.Tc(d),g.j());nI.D(c)}}else{g=a.dk;for(c of rI(a))c===g||c.od||pI(a,c)||(c.Tc(d),c.j());for(e of a.Tf.keys())nI.D(a.Tf.get(e)),a.Tf.delete(e);a.Tf.clear()}}function GI(a,b,d){d=FI[d];a.Tf.has(d)||a.Tf.set(d,[]);a.Tf.get(d).push(b)}
function HI(a,b){var d=II(b.Ug,b.Pk,b.Of,b.Jk,b.pn,a.N);const c=FI[b.Ug];oI.Qi.TR(c)||EI(a,b.Ug);d=nt({sb:a.I(),id:c,kp:b.kp,time:b.time,instance:a.N,ny:!!b.ny,loop:!!b.loop,ly:!!b.ly,iu:b.iu,ay:b.ay,my:d});ht(d,e=>CI(a,e));GI(a,d,b.Ug);return d}function pI(a,b){const d=b.Zg();return a.kg.has(d)?a.kg.get(d).includes(b):!1}
oI.Instance=class extends nI.Ru{constructor(a,b){super(a);this.je=!0;b&&(this.je=!!b[0]);this.Tf=new Map;this.aq=[];this.kg=new Map;this.AW=this.oM=this.yT=this.dk=null;this.lU="";this.Bs=d=>this.Ui(d);this.I().ib().addEventListener("afterload",this.Bs)}j(){this.I().ib().removeEventListener("afterload",this.Bs);this.Bs=null;this.dk&&(dm(this,this.dk,!0),this.dk=null);EI(this,NaN,!0);nI.D(this.aq);this.aq=null;qI(this);this.kg=null;super.j()}Th(a){this.je=!!a;a?this.kg&&this.kg.size&&this.lv():this.ys();
for(const b of rI(this))a?this.aq.includes(b)&&Yl(b):((b.IsPlaying()||b.Lg)&&this.aq.push(b),b.Tc());a&&nI.D(this.aq)}Bb(){return this.je}nc(){const a=this.N;return a?!uq(a):!1}Gc(){return{s:!1,e:!!this.je,at:wI(this),dt:xI(this),wt:yI(this),ft:this.dk?this.dk.oa():""}}cc(a){a&&(this.yT=a.at,this.oM=a.dt,this.AW=a.wt,this.lU=a.ft,this.je=!!a.e)}Ui(){const a=this.I().Tb;zI(this,this.yT,this.Tf,a);if(this.oM){nI.D(this.aq);for(const b of this.oM)AI(this.aq,b,a)}zI(this,this.AW,this.kg,a);this.dk=Bp(a,
this.lU);this.je?this.kg&&this.kg.size&&this.lv():this.ys()}cv(){qI(this)}ac(a){switch(a){case 0:return this.je}}Le(a,b){switch(a){case 0:this.je=!!b}}pa(a,b,d,c){return this.g?super.pa(a):b.pa(a,d,c)}Ke(){return self.d_}};const JI=self.B;let DI=null;
JI.ua.jh.G={oS(a){return eq(DI,a)},cS(){return!0},IsPlaying(a){return(a=[...vI(this,a)],a.length)?a.some(JI.os.IsPlaying):!1},n_(){const a=[...rI(this,!0)];return a&&a.length?a.some(JI.os.IsPlaying):!1},dz(a){return(a=[...vI(this,a)],a.length)?a.some(JI.os.dz):!1},Faa(){const a=[...rI(this,!0)];return a&&a.length?a.some(JI.os.dz):!1}};const KI=self.vn;
self.B.ua.jh.Ma={Th(a){this.Th(!!a)},async a2(...a){this.Bb()&&this.nc()&&(a=HI(this,LI(...a)),a.Play()&&await Zl(a))},async b2(...a){this.Bb()&&this.nc()&&(a=HI(this,MI(...a)),a.Play()&&await Zl(a))},async Tia(...a){this.Bb()&&this.nc()&&(a=HI(this,NI(...a)),a.Play()&&await Zl(a))},hda(a){if(this.Bb()&&this.nc())for(const b of uI(this,a))b.Tc()},gda(){if(this.Bb()&&this.nc())for(const a of rI(this))a.Tc()},$ea(a){if(this.Bb()&&this.nc())for(const b of uI(this,a))Yl(b)},Zea(){if(this.Bb()&&this.nc())for(const a of rI(this))Yl(a)},
fia(a){if(this.Bb()&&this.nc())for(const b of uI(this,a))dm(this,b)},cia(){if(this.Bb()&&this.nc())for(const a of rI(this))dm(this,a)},fha(a,b,d){if(this.Bb()&&this.nc()){b=OI[b];for(const c of uI(this,a))kt(c,[b]),lt(c,d,b)}},Cha(a,b,d,c){if(this.Bb()&&this.nc()){b=PI.Pi(b)?QI[b]:QI[FI[b]];for(const e of uI(this,a))kt(e,b),lt(e,d,b[0]),lt(e,c,b[1])}},Fha(a,b){if(this.Bb()&&this.nc())for(const d of uI(this,a,"value"))it(d,b,"value")},Eha(a,b){if(this.Bb()&&this.nc())for(const d of uI(this,a,"value"))kt(d,
["value"]),lt(d,b,"value")},zha(a,b){if(this.Bb()&&this.nc()){b=KI.zn(b);for(const d of uI(this,a))d.xg(b)}},Hfa(a){if(this.Bb()&&this.nc()){a=KI.zn(a);for(const b of rI(this))b.xg(a)}},Bha(a,b){if(this.Bb()&&this.nc())for(const d of uI(this,a))d.Xh(b)},Jfa(a){if(this.Bb()&&this.nc())for(const b of rI(this))b.Xh(a)},Aha(a,b){if(this.Bb()&&this.nc())for(const d of uI(this,a))d.Wh(b)},Ifa(a){if(this.Bb()&&this.nc())for(const b of rI(this))b.Wh(a)},yha(a,b){if(this.Bb()&&this.nc())for(const d of uI(this,
a))d.Nv=!!b},Gfa(a){if(this.Bb()&&this.nc())for(const b of rI(this))b.Nv=!!a}};self.B.ua.jh.ob={Hia(a){return(a=tI(this,a))?a.ya():0},b1(a){return(a=tI(this,a))?a.ya()/a.Dc():0},oja(a){return(a=tI(this,a,"value"))?a.Qd("value").Ib().pd():0},xia(){if(this.dk){var a=this.dk;a.mC&&(a.OH=a.Kf.join(" "));a.mC=!1;a=a.OH}else a="";return a}};"use strict";
const PI=self.B,RI=self.vn,SI=["position","size","scale"],OI="offsetX offsetY offsetWidth offsetHeight offsetAngle offsetOpacity offsetColor offsetZElevation offsetScaleX offsetScaleY".split(" "),FI=[].concat(SI).concat(OI).concat(["value"]),TI={position:["offsetX","offsetY"],size:["offsetWidth","offsetHeight"],scale:["offsetScaleX","offsetScaleY"]},QI=Object.assign({},FI.reduce((a,b)=>Object.assign({},a,{[b]:[b]}),{}),TI);
PI.ua.jh.Qi=class{constructor(){}static zn(a){return[...RI.CR()][a]}static x_(a){return!!TI[a]}static SJ(a){return"offsetColor"===a}static l_(a){return"offsetAngle"===a}static TR(a){return"value"===a}};"use strict";const UI=self.B,VI=UI.ua.jh,WI=new Map;
function II(a,b,d,c,e,g){var k=oI.QY;if(0===WI.size){const l=VI.vS,n=VI.e2;XI(l.qS,k.h3,n.dL);XI(l.COLOR,k.b3,n.d3);XI(l.RQ,k.a3,n.i3);XI(l.iT,k.j3,n.dL);XI(l.aS,k.e3,n.dL)}k=YI(a);k=WI.get(k);UI.Rc(a)&&(a=FI[a]);return k.L5(a,k.VX(b),k.VX(d),c,e,g)}function XI(a,b,d){WI.set(a,{name:a,L5:b,VX:d})}
VI.QY=class{constructor(){}static h3(a,b,d,c,e){return TI[a].map((g,k)=>({oy:"world-instance",Ug:g,type:"float",valueType:"numeric",Pk:b[k],Of:d[k],Jk:VI.Qi.zn(c),pn:e}))}static b3(a,b,d,c,e,g){return UI.C.Text&&g.pb()instanceof UI.C.Text?{oy:"plugin",j7:[7],Ug:"color",type:"color",valueType:"color",Pk:b,Of:d,Jk:VI.Qi.zn(c),pn:e}:{oy:"world-instance",Ug:a,type:"color",valueType:"color",Pk:b,Of:d,Jk:VI.Qi.zn(c),pn:e}}static a3(a,b,d,c,e){return{oy:"world-instance",Ug:a,type:"angle",valueType:"angle",
Pk:b,Of:d,Jk:VI.Qi.zn(c),pn:e}}static e3(a,b,d,c,e){return{oy:"world-instance",Ug:a,type:"float",valueType:"numeric",Pk:b,Of:d,Jk:VI.Qi.zn(c),pn:e}}static j3(a,b,d,c,e){return{oy:"value",Ug:a,type:"float",valueType:"numeric",Pk:b,Of:d,Jk:VI.Qi.zn(c),pn:e}}};"use strict";
const ZI=self.B,$I=ZI.ua.jh,aJ=Object.assign({},{pn:"absolute"},{kp:"",Ug:"",time:0,Jk:0,ny:0,loop:!1,ly:!1,iu:1}),bJ=Object.assign({},aJ,{ay:"current-state",Pk:0,Of:0}),cJ=Object.assign({},aJ,{ay:"current-state",Pk:[0,0],Of:[0,0]}),dJ=Object.assign({},aJ,{ay:"current-state",Pk:[0,0,0],Of:[0,0,0]}),eJ=Object.assign({},bJ,{ay:"start-value"});
function LI(a,b,d,c,e,g,k,l,n){b="string"===typeof b?b:OI[b];const p=$I.Qi.SJ(b)?dJ:bJ;p.kp=a;p.time=c;p.Jk=e;p.ny=g;p.loop=k;p.ly=l;p.iu=n;$I.Qi.SJ(b)?(dJ.Of[0]=ZI.UD(d),dJ.Of[1]=ZI.QD(d),dJ.Of[2]=ZI.HD(d),dJ.Ug=FI.indexOf(b)):bJ.Of="offsetOpacity"===b?d/100:d;p.Ug=FI.indexOf(b);return p}function MI(a,b,d,c,e,g,k,l,n,p){cJ.kp=a;cJ.time=e;cJ.Jk=g;cJ.ny=k;cJ.loop=l;cJ.ly=n;cJ.iu=p;a="string"===typeof b?b:SI[b];cJ.Of[0]=d;cJ.Of[1]=c;cJ.Ug=FI.indexOf(a);return cJ}
function NI(a,b,d,c,e,g,k,l,n){eJ.kp=a;eJ.time=c;eJ.Jk=e;eJ.ny=g;eJ.loop=k;eJ.ly=l;eJ.iu=n;eJ.Pk=b;eJ.Of=d;eJ.Ug=FI.indexOf("value");return eJ}$I.Sia=class{constructor(){}};"use strict";const fJ=self.B,gJ=fJ.ua.jh,hJ=[];
function YI(a){var b=VI.vS;0===hJ.length&&(hJ.push({Xt:gJ.Qi.x_,result:b.qS}),hJ.push({Xt:gJ.Qi.SJ,result:b.COLOR}),hJ.push({Xt:gJ.Qi.l_,result:b.RQ}),hJ.push({Xt:gJ.Qi.TR,result:b.iT}),hJ.push({Xt:()=>!0,result:b.aS}));fJ.Rc(a)&&(a=FI[a]);for(const d of hJ)if(d.Xt(a))return d.result}gJ.vS=class{constructor(){}static get qS(){return"pair"}static get COLOR(){return"color"}static get RQ(){return"angle"}static get iT(){return"value"}static get aS(){return"other"}};"use strict";const iJ=self.B;
iJ.ua.jh.e2=class{constructor(){}static i3(a){return iJ.Od(iJ.La(parseFloat(a)))}static d3(a){return a.slice(0)}static dL(a){return a}};"use strict";const jJ=self.Rr,kJ=new WeakMap;self.d_=class extends jJ{constructor(){super();kJ.set(this,jJ.Zh().ja)}get isEnabled(){return kJ.get(this).Bb()}set isEnabled(a){kJ.get(this).Th(a)}};
const lJ=self.B,mJ={id:"piranha305_fsm",Ma:{GoToState:{forward:a=>a.l3,autoScriptInterface:!0},SetEnabled:{forward:a=>a.Sj,autoScriptInterface:!0}},G:{OnStateChange:{forward:a=>a.n3,autoScriptInterface:!0},OnStateEnter:{forward:a=>a.o3,autoScriptInterface:!0},OnStateExit:{forward:a=>a.r3,autoScriptInterface:!0},OnStateTransition:{forward:a=>a.t3,autoScriptInterface:!0},CurrentStateIs:{forward:a=>a.N2,autoScriptInterface:!0},PreviousStateIs:{forward:a=>a.w3,autoScriptInterface:!0},IsEnabled:{forward:a=>
a.xm,autoScriptInterface:!0},CurrentStateInList:{forward:a=>a.M2,autoScriptInterface:!0},PreviousStateInList:{forward:a=>a.v3,autoScriptInterface:!0},OnStateEnterInList:{forward:a=>a.q3,autoScriptInterface:!0},OnStateExitInList:{forward:a=>a.s3,autoScriptInterface:!0}},ob:{CurrentState:{forward:a=>a.L2,autoScriptInterface:!0},PreviousState:{forward:a=>a.u3,autoScriptInterface:!0}}},nJ=new Map;
function oJ(a){if(nJ.has(a))return nJ.get(a);var b=a.replace(/[^a-zA-Z0-9$_]/g," ").split(" ").filter(Boolean);for(let d=1;d<b.length;d++)b[d]=b[d].charAt(0).toUpperCase()+b[d].substring(1);b=b.join("");isNaN(parseInt(b.charAt(0)))||(b="_"+b);nJ.set(a,b);return b}lJ.ua[mJ.id]=class extends lJ.Qu{constructor(a){super(a)}j(){super.j()}};const pJ=lJ.ua[mJ.id];pJ.xf=class extends lJ.Su{constructor(a){super(a)}j(){super.j()}ec(){}};
const qJ=new WeakMap,rJ=function(a,b){return class extends a{constructor(){super();b.set(this,a.Zh().ja)}}}(self.Rr,qJ);Object.keys(mJ.Ma).forEach(a=>{mJ.Ma[a].uP&&(rJ.prototype[oJ(a)]=function(...b){const d=qJ.get(this);pJ.Ma[oJ(a)].call(d,...b)})});const sJ=[];
Object.keys(mJ.G).forEach(a=>{const b=mJ.G[a];!b.uP||b.Rla||b.XP||(b.y6?rJ.prototype[oJ(a)]=function(d,...c){const e=()=>{const g=qJ.get(this);pJ.G[oJ(a)].call(g,...c)&&d()};this.addEventListener(a,e,!1);return()=>this.removeEventListener(a,e,!1)}:rJ.prototype[oJ(a)]=function(...d){const c=qJ.get(this);return pJ.G[oJ(a)].call(c,...d)})});Object.keys(mJ.ob).forEach(a=>{mJ.ob[a].uP&&(rJ.prototype[oJ(a)]=function(...b){const d=qJ.get(this);return pJ.ob[oJ(a)].call(d,...b)})});pJ.Ma={};pJ.G={};
pJ.ob={};Object.keys(mJ.Ma).forEach(a=>{const b=mJ.Ma[a];pJ.Ma[oJ(a)]=function(...d){b.forward?b.forward(this).call(this,...d):b.QC&&b.QC.call(this,...d)}});Object.keys(mJ.G).forEach(a=>{const b=mJ.G[a];pJ.G[oJ(a)]=function(...d){if(b.forward)return b.forward(this).call(this,...d);if(b.QC)return b.QC.call(this,...d)};b.y6&&b.uP&&sJ.push({method:pJ.G[oJ(a)],id:a})});
Object.keys(mJ.ob).forEach(a=>{const b=mJ.ob[a];pJ.ob[oJ(a)]=function(...d){if(b.forward)return b.forward(this).call(this,...d);if(b.QC)return b.QC.call(this,...d)}});
pJ.Instance=function(a,b,d,c){return class extends a{constructor(e,g){super(e);this.pr=this.Fi=this.Nk="";this.enabled=!1;g&&(this.enabled=g[0],this.pr=g[1]);""==this.pr&&(this.pr="default");this.D3()}D3(){setTimeout(()=>{this.Nk="";this.Fi=this.pr;this.pa(c.ua.nn.G.z0);this.pa(c.ua.nn.G.A0);this.pa(c.ua.nn.G.B0)},1E-4)}l3(e){this.enabled&&this.Fi!=e&&(this.Nk=this.Fi,this.Fi=e,this.pa(c.ua.nn.G.z0),this.pa(c.ua.nn.G.Rca),this.pa(c.ua.nn.G.Sca),this.pa(c.ua.nn.G.A0),this.pa(c.ua.nn.G.B0),this.pa(c.ua.nn.G.Tca))}n3(){return this.enabled}o3(e){return this.enabled&&
this.Fi==e}r3(e){return this.enabled&&this.Nk==e}t3(e,g){return this.enabled&&this.Nk==e&&this.Fi==g}N2(e){return this.enabled&&this.Fi==e}w3(e){return this.enabled&&this.Nk==e}M2(e){e=e.split(",").map(g=>g.trim());return this.enabled&&e.includes(this.Fi)}v3(e){e=e.split(",").map(g=>g.trim());return this.enabled&&e.includes(this.Nk)}q3(e){e=e.split(",").map(g=>g.trim());return this.enabled&&e.includes(this.Fi)}s3(e){e=e.split(",").map(g=>g.trim());return this.enabled&&e.includes(this.Nk)}xm(){return this.enabled}Sj(e){this.enabled=
e}L2(){return this.Fi}u3(){return this.Nk}j(){super.j()}Gc(){return{enabled:this.enabled,pr:this.pr,Fi:this.Fi,Nk:this.Nk}}cc(e){this.enabled=e.enabled;this.pr=e.pr;this.Fi=e.Fi;this.Nk=e.Nk}pa(e){super.pa(e);const g=d.find(k=>k.method===e);g&&this.Dn().dispatchEvent(new c.Event(g.id))}Ke(){return b}}}(lJ.Ru,rJ,sJ,lJ);"use strict";const tJ=self.B;tJ.ua.vp=class extends tJ.Qu{constructor(a){super(a)}j(){super.j()}};const uJ=self.B;
uJ.ua.vp.xf=class extends uJ.Su{constructor(a){super(a);this.xh=[]}j(){uJ.D(this.xh);super.j()}ec(){}oD(a){if(!this.xh.includes(a)){for(const b of this.xh)if(b.Qa&&b.Ss.has(a))return;this.xh.push(a)}}sJ(){uJ.D(this.xh)}};const vJ=self.B,wJ=self.Ge,xJ=self.Rr,yJ=[];function zJ(a,b,d){const c=a.m();let e=c.Ka();0>c.L()&&(e+=Math.PI);return a.NJ(c.Y(),c.Z(),e,b,d)}function AJ(a){a=a.Ah;return 1.000001>a.df?a.Yx:0}function BJ(a){a=a.Ah;return 1.000001>a.df?a.Zx:0}
function CJ(a){a=a.Ah;return 1.000001>a.df?a.RC:-1}
vJ.ua.vp.Instance=class extends vJ.Ru{constructor(a,b){super(a);this.Aq=0;this.Wm=1E4;this.Wp=vJ.La(360);this.Lx=!0;this.Ah=new vJ.e1;b&&(this.Aq=b[0],this.Wm=b[1],this.Wp=vJ.La(b[2]),this.Lx=b[3])}j(){super.j()}Gc(){return{r:this.Wm,c:this.Wp,om:this.Aq,ucc:this.Lx,t:this.qb.xh.map(a=>a.fb)}}cc(a){this.Wm=a.r;this.Wp=a.c;this.Aq=a.om||0;this.Lx=!!a.ucc;const b=this.qb.xh;vJ.D(b);for(const d of a.t)(a=ap(this.g,d))&&b.push(a)}NJ(a,b,d,c,e){this.Ah.fd();const g=this.Wm;return vJ.FP(a,b,c,e)>g*g||vJ.Zo(d,
vJ.jr(a,b,c,e))>this.Wp/2?!1:!(1.000001>this.qJ(a,b,c,e,this.Lx).df)}qJ(a,b,d,c,e){a=this.Ah.Set(a,b,d,c);if(e){e=this.m().V();var g=this.g.di;if(0===this.Aq)xC(g,e,a.rect,yJ);else{g=this.qb.xh;b=a.rect;for(k of g)ly(e,k,b,yJ)}var k=yJ}else if(0===this.Aq)k=(k=this.g.VD())?k.qa():yJ;else{for(g of this.qb.xh)vJ.Rl(yJ,g.qa());k=yJ}e=this.g.di;g=0===this.Aq;b=this.N;for(let A=0,D=k.length;A<D;++A)if(d=k[A],d!==b&&(!g||e.fz(d,b))&&d&&(c=d.m(),c.dh()&&oc(Cl(c),a.rect)))if(d.Wk()){var l=c.Y(),n=c.Z();d.ja.vR(a.rect,
lC);for(let F=0,J=lC.length;F<J;F++){var p=lC[F],r=p.BR();if(pc(a.rect,r,l,n))if(p=p.GJ())HC(a,d,l+r.ca,n+r.aa,p);else{var u=c.Y(),x=c.Z();p=u+r.ca;u+=r.la;var y=x+r.aa;r=x+r.ka;IC(a,d,p,y,u,y);IC(a,d,u,y,u,r);IC(a,d,u,r,p,r);IC(a,d,p,r,p,y)}}jC.D(lC)}else yB(c)?HC(a,d,c.Y(),c.Z(),zB(c)):(y=xB(c),c=y.Hb,l=y.Eb,n=y.kc,r=y.qc,p=y.uc,x=y.wc,u=y.sc,y=y.tc,IC(a,d,c,l,n,r),IC(a,d,n,r,p,x),IC(a,d,p,x,u,y),IC(a,d,u,y,c,l));!1!==1.000001>a.df&&(e=a.dx*a.df,g=a.dy*a.df,k=Math.hypot(e,g),e/=k,g/=k,a.Nf=k-1E-6,
a.Yx=a.x1+e*a.Nf,a.Zx=a.y1+g*a.Nf,a.au=Math.atan2(a.QP,a.PP)+Math.PI/2,a.fu=Math.cos(a.au),a.gu=Math.sin(a.au),k=e*a.fu+g*a.gu,a.OI=e-2*a.fu*k,a.QI=g-2*a.gu*k,0<k&&(a.au=GC.Od(a.au+Math.PI),a.fu=-a.fu,a.gu=-a.gu));vJ.D(yJ);return a}ac(a){switch(a){case 0:return this.Aq;case 1:return this.Wm;case 2:return vJ.Qc(this.Wp);case 3:return this.Lx}}Le(a,b){switch(a){case 0:this.Aq=b;break;case 1:this.Wm=b;break;case 2:this.Wp=vJ.La(b);break;case 3:this.Lx=!!b}}Ke(){return self.TZ}};const DJ=new WeakMap;
self.TZ=class extends xJ{constructor(){super();const a=xJ.Zh().ja;DJ.set(this,a);new self.UZ(a)}set range(a){wJ.ud(a);DJ.get(this).Wm=a}get range(){return DJ.get(this).Wm}};self.UZ=class{constructor(a){DJ.set(this,a)}get Yx(){return AJ(DJ.get(this))}get Zx(){return BJ(DJ.get(this))}get RC(){return CJ(DJ.get(this))}};const EJ=self.B,FJ=new Set,GJ=new Set;
EJ.ua.vp.G={baa(a,b){return zJ(this,a,b)},Sda(){return 1.000001>this.Ah.df},NJ(a,b,d,c,e){return this.NJ(a,b,EJ.La(d),c,e)},JZ(a,b){if(!a)return!1;var d=this.g.Xg();const c=d.Je().Te;var e=d.I();const g=d.H().da();a=a.da();let k=g.qa(),l=a.qa();g.lb?EJ.D(g.$a):c&&(k=0===e.tf().Oe&&!g.$a.length&&g.J.length?g.J:g.$a);a.lb?EJ.D(a.$a):c&&(l=0===e.tf().Oe&&!a.$a.length&&a.J.length?a.J:a.$a);d=d.gk;e=this.qb;for(const x of k){let y=!1;a:{var n=e.pg();for(const A of x.wd)if(A.pg()===n){n=A.ja;break a}n=
null}if(0===l.length)d&&(y=!0);else for(const A of l){var p;if(p=x!==A){p=EJ;var r=p.xor;var u=A.Yb;const [D,F]=A.hm(b);u=zJ(n,D,F)||1.000001>n.Ah.df&&n.Ah.RC===u;p=r.call(p,u,d)}p&&(y=!0,GJ.add(A))}y&&FJ.add(x)}c?(k===g.$a?Lt(g,FJ):(Kt(g,FJ,k),Jt(g,FJ)),l===a.$a?Lt(a,GJ):(Kt(a,GJ,l),Jt(a,GJ))):(Jt(g,FJ),Jt(a,GJ));FJ.clear();GJ.clear();return Ft(g)}};const HJ=self.B;HJ.ua.vp.Ma={lha(a){this.Wm=a},Yfa(a){this.Wp=HJ.La(a)},qJ(a,b,d,c,e){this.qJ(a,b,d,c,e)},oD(a){this.qb.oD(a)},sJ(){this.qb.sJ()}};
const IJ=self.B;
IJ.ua.vp.ob={Range(){return this.Wm},M9(){return IJ.Qc(this.Wp)},iaa(){return AJ(this)},jaa(){return BJ(this)},gaa(){const a=this.Ah;return 1.000001>a.df?a.Nf:0},haa(){return CJ(this)},Eca(a){const b=this.Ah;return 1.000001>b.df?b.Yx+a*b.fu:0},Fca(a){const b=this.Ah;return 1.000001>b.df?b.Zx+a*b.gu:0},Dca(){const a=this.Ah;return IJ.Qc(1.000001>a.df?a.au:0)},Uda(a){const b=this.Ah;return 1.000001>b.df?b.Yx+a*b.OI:0},Vda(a){const b=this.Ah;return 1.000001>b.df?b.Zx+a*b.QI:0},Tda(){const a=this.Ah;
return IJ.Qc(1.000001>a.df?Math.atan2(a.QI,a.OI):0)}};"use strict";const JJ=self.B,LJ=self.Ge;function MJ(a,b,d){return 0>b||0>d||b>=a.eG||d>=a.dI?2147483647:a.Dg[b][d]}class NJ{constructor(){this.dI=this.eG=0;this.Dg=null}QK(a,b,d,c,e){if(c=this.Dg)for(let g=0;g<d;++g)c[a+g].set(e[g],b)}DJ(){return this.eG}JJ(){return this.dI}}function RJ(a){a.xH||(a.xH=new Promise(b=>a.yH=b));return a.xH}
function SJ(a,b,d,c,e){if(a.Ht)return!0;const g=a.Af,k=a.Gs,l=Math.max(Math.floor((Math.min(b,c)-k)/g),0),n=Math.max(Math.floor((Math.min(d,e)-k)/g),0);b=Math.min(Math.ceil((Math.max(b,c)+k)/g),a.vo.DJ());d=Math.min(Math.ceil((Math.max(d,e)+k)/g),a.vo.JJ());if(l>=b||n>=d)return!1;a.MV.push([l,n,b,d]);return!0}
class TJ{constructor(a,b){this.PU=!1;this.vo=new NJ;this.bH=10;this.$A=!0;this.zG=!1;this.BV=this.yV=this.zV=this.AV=0;this.Ht=!1;this.MV=[];this.yH=this.xH=null;this.Vi=a;this.Q4=b;b=b.split(",");this.g=a.I();this.Af=parseInt(b[0],10);this.Gs=parseInt(b[1],10);this.g5=new self.YZ(this)}FK(a){this.PU=!!a}ez(){return this.PU}DJ(){return this.vo.DJ()}JJ(){return this.vo.JJ()}I(){return this.g}Nh(){return this.Vi}Nr(){return this.Q4}xE(a){this.bH=Math.floor(a)}oz(a){this.$A=!!a}cT(a,b,d){this.zG||(this.zG=
!0,this.AV++,d=Math.min(d,this.g.ot.PN),this.zV=a*d,this.yV=b,this.BV=d)}kR(){this.zG=!1}Dn(){return this.g5}}function UJ(a,b){let d=a.NN.get(b);d||(d=new TJ(a,b),a.NN.set(b,d));return d}function VJ(a,b,d,c,e){const g=UJ(a,b);a.g.vy("PFCellData",{mapKey:b,hcells:d,vcells:c,cellData:e});g.FK(!0);a=g.vo;a.eG=d;a.dI=c;a.Dg=e;g.Ht=!1}
JJ.ua.vg=class extends JJ.Qu{constructor(a){super(a);this.NN=new Map;LD(this.g,CD(this.g,["redblackset.js","pathfind.js"]));this.g.ib().addEventListener("beforelayoutchange",()=>{for(const d of this.NN.values()){d.FK(!1);var b=d.vo;b.eG=0;b.dI=0;b.Dg=null;d.Ht=!0}this.g.vy("PFResetAllCellData")})}j(){super.j()}Nr(a,b){return a+","+b}QK(a,b,d,c,e,g){this.g.vy("PFUpdateRegion",{mapKey:a,cx1:b,cy1:d,lenx:c,leny:e,cellData:g});UJ(this,a).vo.QK(b,d,c,e,g)}zJ(a,b,d,c,e,g){const k=UJ(this,a);let l=null,
n=null;k.zG&&(n=k.BV,l={id:k.AV,cost:k.zV,cellSpread:k.yV});return this.g.nD("PFFindPath",{mapKey:a,cellX:b,cellY:d,destCellX:c,destCellY:e,moveCost:k.bH,diagonalsEnabled:k.$A,directMovementMode:g,pathGroup:l},null,n)}};const WJ=new WeakMap;self.YZ=class{constructor(a){WJ.set(this,a)}set L6(a){LJ.ud(a);WJ.get(this).xE(a)}get L6(){return WJ.get(this).bH}};const XJ=self.B;XJ.ua.vg.xf=class extends XJ.Su{constructor(a){super(a);this.xh=[];this.gA=[]}j(){super.j()}ec(){}};
const YJ=self.B,ZJ=self.Ge,$J=self.Rr,AC=new YJ.Rect,aK=[];function bK(a){return UJ(a.Nh(),a.Nr())}async function cK(a){if(a.nA&&!a.nN){a.nA=!1;const b=a.yF;a.yF=[];const d=a.m();await dK(a,d.Y(),d.Z(),a.zF,a.AF);for(const c of b)c()}}function eK(a){var b=a.m().Xb();a.xq=Math.ceil(b.L()/a.Af);a.yq=Math.ceil(b.K()/a.Af);b=YJ.$J(a.xq,()=>new Int32Array(a.yq));const d=a.yq;for(let c=0,e=a.xq;c<e;++c)for(let g=0;g<d;++g)b[c][g]=fK(a,c,g);VJ(a.Nh(),a.Nr(),a.xq,a.yq,b)}
function fK(a,b,d){const c=a.m().V(),e=a.Af,g=a.Gs,k=a.g.di;AC.set(b*e-g,d*e-g,(b+1)*e+g,(d+1)*e+g);if(0===a.hH){a:{xC(k,null,AC,kC);for(const n of kC)if(k.fz(n)&&zC(n)){jC.D(kC);var l=n;break a}jC.D(kC);l=null}if(l)return 2147483647}else{b=a.qb.xh;for(l of b)ly(c,l,AC,aK);for(let n=0,p=aK.length;n<p;++n)if(zC(aK[n]))return YJ.D(aK),2147483647;YJ.D(aK)}l=0;a=a.qb.gA;for(const {tr:n,CP:p}of a){ly(c,n,AC,aK);if(0<aK.length){a=new Set;for(let r=0,u=aK.length;r<u;++r)b=aK[r],!a.has(b)&&zC(b)&&(l+=p,a.add(b))}YJ.D(aK)}return Math.min(l,
2147483647)}function gK(a,b,d,c,e){c-=b;const g=e-d;e=YJ.$J(c,()=>new Int32Array(g));for(let k=0;k<c;++k)for(let l=0;l<g;++l)e[k][l]=fK(a,b+k,d+l);a.Nh().QK(a.Nr(),b,d,c,g,e)}
async function dK(a,b,d,c,e){var g=bK(a);if(!g.ez())return!1;g=g.vo;a.XA=!0;a.LT=c;a.MT=e;const k=a.Af;b=Math.floor(b/k);d=Math.floor(d/k);c=Math.floor(c/k);e=Math.floor(e/k);2147483647===MJ(g,c,e)&&([c,e]=hK(a,g,c,e));e=await a.Nh().zJ(a.Nr(),b,d,c,e,a.Ov);if(!a.nN){a.XA=!1;a.Mg=0;if(null===e)YJ.D(a.Pm),a.dw=!1,a.ik=!1,await a.Vd(YJ.ua.vg.G.g0);else{const l=a.Af;a.Pm=e.map(n=>({x:(n.x+.5)*l,y:(n.y+.5)*l}));a.dw=0<a.Pm.length;await a.Vd(YJ.ua.vg.G.lS)}cK(a)}}
function hK(a,b,d,c){let e=Infinity,g=0,k=0;for(let n=0,p=a.xq;n<p;++n)for(let r=0,u=a.yq;r<u;++r)if(2147483647!==MJ(b,n,r)){var l=d-n;const x=c-r;l=l*l+x*x;l<e&&(e=l,g=n,k=r)}return[g,k]}async function iK(a,b,d){if(a.me){var c=bK(a);a.XA||!c.ez()?await new Promise(e=>{a.nA=!0;a.yF.push(e);a.zF=b;a.AF=d}):(c=a.m(),await dK(a,c.Y(),c.Z(),b,d))}}function jK(a,b){b=Math.floor(b);return 0>b||b>=a.Pm.length?null:a.Pm[b]}function kK(a,b){if(0>b||2<b)throw Error("invalid direct movement mode");a.Ov=b}
YJ.ua.vg.Instance=class extends YJ.Ru{constructor(a,b){super(a);const d=this.m();this.Af=30;this.Gs=-1;this.hH=0;this.nd=200;this.Hd=1E3;this.ie=2E3;this.Un=YJ.La(135);this.nt=!0;this.Ov=1;this.me=!0;this.dw=this.DA=this.yB=this.ik=!1;this.Mg=0;this.Oa=d.Ka();this.LG=d.Ka();this.yq=this.xq=this.$w=this.xk=this.wk=this.lj=0;this.Pm=[];this.nA=!1;this.yF=[];this.AF=this.zF=0;this.XA=this.nN=!1;this.MT=this.LT=0;a=this.JU=!0;b&&(this.Af=b[0],this.Gs=b[1],this.hH=b[2],this.nd=b[3],this.Hd=b[4],this.ie=
b[5],this.Un=YJ.La(b[6]),this.nt=!!b[7],a=!!b[8],this.Ov=b[9],this.me=!!b[10]);b=d.Xb();this.xq=Math.ceil(b.L()/this.Af);this.yq=Math.ceil(b.K()/this.Af);b=this.g.ib();this.yd=new YJ.wu(YJ.td.qe(b,"afterload",()=>this.Ui()));3>this.Af&&(this.Af=3);this.me&&(this.Bg(),this.lv());bK(this).oz(a)}j(){this.nN=!0;super.j()}Nr(){return this.Nh().Nr(this.Af,this.Gs)}Gc(){var a=bK(this);a={cs:this.Af,cb:this.Gs,ms:this.nd,acc:this.Hd,dec:this.ie,av:this.Un,re:this.nt,mc:a.bH,de:a.$A,o:this.hH,im:this.ik,mfs:this.yB,
ftmwm:this.DA,hp:this.dw,mn:this.Mg,a:this.Oa,lka:this.LG,s:this.lj,rx:this.wk,ry:this.xk,ra:this.$w,hc:this.xq,vc:this.yq,p:this.Pm,dmm:this.Ov,e:this.me,fr:this.JU,obs:this.qb.xh.map(b=>b.fb),costs:this.qb.gA.map(b=>({sid:b.tr.fb,cost:b.CP}))};this.XA?(a.dfp=!0,a.dfx=this.LT,a.dfy=this.MT):(a.dfp=this.nA,a.dfx=this.zF,a.dfy=this.AF);return a}cc(a){this.Af=a.cs;this.Gs=a.cb;this.nd=a.ms;this.Hd=a.acc;this.ie=a.dec;this.Un=a.av;this.nt=a.re;const b=a.de,d=a.hasOwnProperty("mc")?a.mc:10;this.hH=a.o;
this.ik=a.im;this.yB=a.mfs;this.DA=a.ftmwm;this.dw=a.hp;this.Mg=a.mn;this.Oa=a.a;this.LG=a.lka;this.lj=a.s;this.wk=a.rx;this.xk=a.ry;this.$w=a.ra;this.xq=a.hc;this.yq=a.vc;this.Pm=a.p;this.Sj(a.e);this.JU=a.fr;a.hasOwnProperty("dmm")&&(this.Ov=a.dmm);this.nA=a.dfp;YJ.D(this.yF);this.zF=a.dfx;this.AF=a.dfy;var c=this.qb.xh;YJ.D(c);for(var e of a.obs)(a=ap(this.g,e))&&c.push(a);c=this.qb.gA;YJ.D(c);for(var g of c)(e=ap(this.g,g.sid))&&c.push({tr:e,CP:g.cost});3>this.Af&&(this.Af=3);g=bK(this);g.xE(d);
g.oz(b)}Ui(){bK(this).Ht=!0}jf(){if(this.me&&this.ik){var a=Fk(this.g,this.N),b=this.N.m();this.nt&&b.Ka()!==this.LG&&(this.Oa=b.Ka());var d=this.Pm,c=Math.min(.4*this.nd,2*Math.abs(b.L())),e=Math.max(1.5*this.lj,30);if(this.Mg<d.length){var g=d[this.Mg].x;var k=d[this.Mg].y;YJ.Gh(this.wk,this.xk,g,k)<3*e*a&&(this.Mg++,this.wk=g,this.xk=k,this.Mg<d.length&&(g=d[this.Mg].x,k=d[this.Mg].y))}else g=d.at(-1).x,k=d.at(-1).y;this.$w=YJ.jr(this.wk,this.xk,g,k);var l=YJ.Gh(b.Y(),b.Z(),this.wk,this.xk);l<
c&&this.Mg<d.length&&(this.DA?this.DA=!1:c=e*a,this.wk+=Math.cos(this.$w)*c,this.xk+=Math.sin(this.$w)*c);var n=YJ.jr(b.Y(),b.Z(),this.wk,this.xk),p=YJ.Zo(this.Oa,n);c=YJ.Gh(b.Y(),b.Z(),d.at(-1).x,d.at(-1).y);e=this.nd*this.nd/(2*this.ie);1<l&&(this.Oa=YJ.jI(this.Oa,n,this.Un*a),l=0,.5>=YJ.Qc(p)?l=this.nd:120<=YJ.Qc(p)||this.yB&&0===this.Mg?this.yB=!0:(l=p/this.Un,p*=YJ.Gh(b.Y(),b.Z(),this.wk,this.xk)/(2*Math.sin(p)),l=YJ.X(p/l,0,this.nd)),c<e&&(l=Math.min(l,c/e*this.nd+this.nd/40)),this.lj+=this.Hd*
a,this.lj>l&&(this.lj=l));po(b,Math.cos(this.Oa)*this.lj*a,Math.sin(this.Oa)*this.lj*a);this.nt&&(b.Gd(this.Oa),this.LG=b.Ka());T(b);if(this.Mg===d.length&&YJ.Gh(b.Y(),b.Z(),g,k)<Math.max(3*this.lj*a,10))return this.dw=this.ik=!1,this.lj=this.Mg=0,this.zy("arrived"),this.yy(YJ.ua.vg.G.dS)}}cv(){if(this.me){const a=bK(this),b=a.MV;if(!a.ez()||a.Ht||b.length){if(!a.ez()||a.Ht)eK(this);else if(b.length)for(const [d,c,e,g]of b)gK(this,d,c,e,g);YJ.D(b);a.yH&&a.yH();a.xH=null;a.yH=null}cK(this)}}ac(a){switch(a){case 3:return this.nd;
case 4:return this.Hd;case 5:return this.ie;case 6:return YJ.Qc(this.Un);case 7:return this.nt;case 8:return bK(this).$A;case 10:return this.xm()}}Le(a,b){switch(a){case 3:this.Jz(b);break;case 4:this.vs(b);break;case 5:this.Iz(b);break;case 6:this.Un=YJ.La(b);break;case 7:this.nt=!!b;break;case 8:bK(this).oz(!!b);break;case 10:this.Sj(b)}}Mz(){this.ik=!1}Jz(a){this.nd=a}kv(a){this.lj=YJ.X(a,0,this.nd)}Fp(){return this.ik?this.lj:0}vs(a){this.Hd=a}Iz(a){this.ie=a}bL(){return this.Oa}Sj(a){(this.me=
!!a)?(this.Bg(),this.lv()):(this.Hp(),this.ys())}xm(){return this.me}Ke(){return self.XZ}};const lK=new WeakMap,mK=["none","to-destination","anywhere-along-path"];
self.XZ=class extends $J{constructor(){super();const a=$J.Zh().ja;lK.set(this,a);Object.defineProperties(this,{map:{value:bK(a).Dn(),writable:!1}})}stop(){lK.get(this).Mz()}set speed(a){ZJ.ud(a);lK.get(this).kv(a)}get speed(){return lK.get(this).Fp()}set acceleration(a){ZJ.ud(a);lK.get(this).vs(a)}get acceleration(){return lK.get(this).Hd}get currentNode(){return lK.get(this).Mg}*KI(){const a=lK.get(this);for(let b=0,d=a.Pm.length;b<d;++b){const c=jK(a,b);yield[c.x,c.y]}}set V5(a){ZJ.he(a);const b=
mK.indexOf(a);if(-1===b)throw Error(`invalid direct movement mode '${a}'`);kK(lK.get(this),b)}get V5(){return mK[lK.get(this).Ov]}set isEnabled(a){lK.get(this).Sj(!!a)}get isEnabled(){return lK.get(this).xm()}};const nK=self.B;nK.ua.vg.G={lS(){return!0},g0(){return!0},Jaa(a,b){return 2147483647===MJ(bK(this).vo,a,b)},Iaa(){return this.XA},XJ(){return this.ik},dS(){return!0},PY(a,b){return nK.compare(this.ik?this.Fp():0,a,b)},h$(){return bK(this).$A},Bb(){return this.xm()}};const oK=self.B;
oK.ua.vg.Ma={zJ(a,b){return iK(this,a,b)},I1(){if(this.dw){this.ik&&(this.DA=!0);this.yB=!this.ik;this.ik=!0;var a=this.m();this.wk=a.Y();this.xk=a.Z();this.$w=a.Ka()}},Tc(){this.Mz()},Th(a){this.Sj(0!==a)},oD(a){const b=this.qb.xh;if(!b.includes(a)){for(const d of b)if(d.Qa&&d.Ss.has(a))return;b.push(a)}},sJ(){oK.D(this.qb.xh)},xE(a){bK(this).xE(a)},T7(a,b){const d=this.qb.gA;for(const c of d){const e=c.tr;if(e===a||e.Qa&&e.Ss.has(a))return}d.push({tr:a,CP:b})},k9(){oK.D(this.qb.gA)},cT(a,b,d){a=
Math.floor(a);b=Math.floor(b);d=Math.floor(d);if(!(0>=a||0>=b||0>=d)){var c=bK(this);c&&c.cT(a,b,d)}},kR(){const a=bK(this);a&&a.kR()},TS(a){this.Jz(a)},v1(a){this.kv(a)},Efa(a){this.vs(a)},Zfa(a){this.Iz(a)},nha(a){this.Un=oK.La(a)},oz(a){bK(this).oz(0!==a)},cga(a){kK(this,a)},async Wda(){const a=bK(this);a.Ht=!0;await RJ(a)},async Yda(a,b,d,c){const e=bK(this);SJ(e,a,b,d,c)&&await RJ(e)},async Xda(a){if(a){var b=bK(this),d=a.da().qa();a=!1;for(const c of d)if(d=c.m())d=Cl(d),d=SJ(b,d.ca,d.aa,d.la,
d.ka),a=a||d;a&&await RJ(b)}}};const pK=self.B;pK.ua.vg.ob={yca(){return this.Pm.length},Bca(a){return(a=jK(this,a))?a.x:0},Cca(a){return(a=jK(this,a))?a.y:0},h9(){return this.Af},Pda(){return this.wk},Qda(){return this.xk},N_(){return this.nd},bY(){return this.Hd},WY(){return this.ie},jfa(){return pK.Qc(this.Un)},aK(){return pK.Qc(this.bL())},X9(){return this.Mg},G1(){return this.Fp()}};"use strict";const qK=self.B;qK.ua.wn=class extends qK.Qu{constructor(a){super(a)}j(){super.j()}};const rK=self.B;
rK.ua.wn.xf=class extends rK.Su{constructor(a){super(a)}j(){super.j()}ec(){}};const sK=self.B,tK=self.Ge,uK=self.Rr;function vK(a){if(!a.yd){var b=a.g.ib();a.yd=new sK.wu(sK.td.qe(b,"keydown",d=>a.iL(d.data)),sK.td.qe(b,"keyup",d=>a.jL(d.data)),sK.td.qe(b,"window-blur",()=>a.jv()),sK.td.qe(b,"keyboard-blur",()=>a.jv()))}}function wK(a,b){b=!!b;a.co!==b&&(a.co=b,a.co?vK(a):(a.yd&&(a.yd.j(),a.yd=null),a.jv()))}function xK(a){const b=Math.hypot(a.Vb,a.Wb);b>a.nd&&a.kv(b)}
sK.ua.wn.Instance=class extends sK.Ru{constructor(a,b){super(a);this.ZB=this.YB=this.XB=this.$B=this.hG=this.PB=this.oB=this.uA=this.yC=!1;this.Wb=this.Vb=0;this.nd=200;this.Hd=600;this.ie=500;this.Mp=this.$p=3;this.pv=!1;this.me=this.co=!0;b&&(this.nd=b[0],this.Hd=b[1],this.ie=b[2],this.$p=b[3],this.Mp=b[4],this.pv=!!b[5],this.co=!!b[6],this.me=!!b[7]);this.me&&this.Bg();this.co&&vK(this)}j(){super.j()}Gc(){return{dx:this.Vb,dy:this.Wb,e:this.me,ms:this.nd,acc:this.Hd,dec:this.ie,d:this.$p,am:this.Mp,
dc:this.co,ii:this.hG}}cc(a){this.Vb=a.dx;this.Wb=a.dy;this.Sj(a.e);this.nd=a.ms;this.Hd=a.acc;this.ie=a.dec;this.$p=a.d;this.Mp=a.am;this.co=a.dc;this.hG=a.ii;this.ZB=this.YB=this.XB=this.$B=this.PB=this.oB=this.uA=this.yC=!1;this.co?vK(this):this.yd&&(this.yd.j(),this.yd=null)}iL(a){switch(a.key){case "ArrowLeft":this.oB=!0;break;case "ArrowUp":this.yC=!0;break;case "ArrowRight":this.PB=!0;break;case "ArrowDown":this.uA=!0}}jL(a){switch(a.key){case "ArrowLeft":this.oB=!1;break;case "ArrowUp":this.yC=
!1;break;case "ArrowRight":this.PB=!1;break;case "ArrowDown":this.uA=!1}}jv(){this.PB=this.oB=this.uA=this.yC=!1}jf(){var a=Fk(this.g,this.N);const b=this.g.di;var d=this.oB||this.YB,c=this.PB||this.ZB,e=this.yC||this.$B,g=this.uA||this.XB;this.XB=this.$B=this.ZB=this.YB=!1;if(this.me){var k=yC(b,this.N);if(k){uC(b,this.N,k);a:{var l=this.N;var n=0,p=l.m(),r=p.Y(),u=p.Z(),x=0,y=yC(b,l);if(y){for(;100>=n;){var A=k=0;switch(x){case 0:k=0;A=-1;n++;break;case 1:k=1;A=-1;break;case 2:k=1;A=0;break;case 3:A=
k=1;break;case 4:k=0;A=1;break;case 5:k=-1;A=1;break;case 6:k=-1;A=0;break;case 7:A=k=-1}x=(x+1)%8;Bl(p,Math.floor(r+k*n),Math.floor(u+A*n));T(p);if(!my(l,y)&&(y=yC(b,l),!y)){l=!0;break a}}Bl(p,r,u);T(p);l=!1}else l=!0}if(!l)return}this.hG&&(d=c=e=g=!1);0===this.$p?d=c=!1:1===this.$p&&(e=g=!1);2===this.$p&&(e||g)&&(d=c=!1);d===c&&(0>this.Vb?this.Vb=Math.min(this.Vb+this.ie*a,0):0<this.Vb&&(this.Vb=Math.max(this.Vb-this.ie*a,0)));e===g&&(0>this.Wb?this.Wb=Math.min(this.Wb+this.ie*a,0):0<this.Wb&&(this.Wb=
Math.max(this.Wb-this.ie*a,0)));p=n=0;d&&!c&&(n=0<this.Vb?-(this.Hd+this.ie):-this.Hd);c&&!d&&(n=0>this.Vb?this.Hd+this.ie:this.Hd);e&&!g&&(p=0<this.Wb?-(this.Hd+this.ie):-this.Hd);g&&!e&&(p=0>this.Wb?this.Hd+this.ie:this.Hd);this.Vb+=n*a;this.Wb+=p*a;if(0!==this.Vb||0!==this.Wb){e=Math.hypot(this.Vb,this.Wb);d=Math.atan2(this.Wb,this.Vb);r=this.nd*Math.cos(d);u=this.nd*Math.sin(d);e>this.nd&&(e=this.nd,this.Vb=r,this.Wb=u);d=this.N.m();g=d.Y();l=d.Z();c=d.Ka();r=Math.abs(r)*a;u=Math.abs(u)*a;n=sK.X(this.Vb*
a+.5*n*a*a,-r,r);p=sK.X(this.Wb*a+.5*p*a*a,-u,u);if(this.pv){if(po(d,n,p),T(d),k=yC(b,this.N))uC(b,this.N,k),x=Math.atan2(this.Wb,this.Vb)+Math.PI/2,u=!1,r=(d.L()+d.K())/4,DC(b,this.N,Math.cos(x),Math.sin(x),Math.max(2.5*e*a,r))&&(u=!0,x=d.Y(),y=d.Z(),k=e*a,A=sK.Gh(g,l,x,y),A>1.01*k&&(A=k/A,k=sK.Pc(g,x,A),A=sK.Pc(l,y,A),Bl(d,k,A),T(d),k=yC(b,this.N)))&&(y=sK.jr(g,l,x,y)+Math.PI/2,x=Math.cos(y),y=Math.sin(y),k=(d.L()+d.K())/2/10,DC(b,this.N,x,y,Math.max(k,1))||(Bl(d,g,l),T(d),u=!1)),u||(u=Math.hypot(n,
p),this.Wb=this.Vb=0,CC(b,this.N,-n/u,-p/u,Math.max(2.5*e*a,r))||(Bl(d,g,l),T(d)))}else{Nr(d,n);T(d);if(k=yC(b,this.N))CC(b,this.N,0>this.Vb?1:-1,0,Math.max(Math.abs(Math.floor(n)),1))||(d.Nj(g),T(d)),this.Vb=0,uC(b,this.N,k);Or(d,p);T(d);if(k=yC(b,this.N))CC(b,this.N,0,0>this.Wb?1:-1,Math.max(Math.abs(Math.floor(p)),1))||(d.Oj(l),T(d)),this.Wb=0,uC(b,this.N,k)}a=sK.SI(this.Vb);e=sK.SI(this.Wb);0===a&&0===e||!this.N.pb().Hn()||(1===this.Mp?d.Gd(sK.La(90*Math.round(sK.Qc(Math.atan2(e,a))/90))):2===
this.Mp?d.Gd(sK.La(45*Math.round(sK.Qc(Math.atan2(e,a))/45))):3===this.Mp&&d.Gd(Math.atan2(e,a)));T(d);d.Ka()!=c&&(k=yC(b,this.N))&&(d.Gd(c),T(d),uC(b,this.N,k))}}}ac(a){switch(a){case 0:return this.nd;case 1:return this.Hd;case 2:return this.ie;case 3:return this.$p;case 4:return this.Mp;case 5:return this.pv;case 6:return this.co;case 7:return this.xm()}}Le(a,b){switch(a){case 0:this.Jz(b);break;case 1:this.vs(b);break;case 2:this.Iz(b);break;case 3:this.$p=b;break;case 4:this.Mp=b;break;case 5:this.pv=
!!b;break;case 6:wK(this,!!b);break;case 7:this.Sj(!!b)}}Mz(){this.Wb=this.Vb=0}kv(a){a=sK.X(a,0,this.nd);const b=Math.atan2(this.Wb,this.Vb);this.Vb=a*Math.cos(b);this.Wb=a*Math.sin(b)}Fp(){return Math.hypot(this.Vb,this.Wb)}Jz(a){this.nd=Math.max(a,0)}vs(a){this.Hd=Math.max(a,0)}Iz(a){this.ie=Math.max(a,0)}bL(){return Math.atan2(this.Wb,this.Vb)}Sj(a){(this.me=!!a)?this.Bg():(this.XB=this.$B=this.ZB=this.YB=!1,this.Hp())}xm(){return this.me}Ke(){return self.MZ}};const yK=new WeakMap;
self.MZ=class extends uK{constructor(){super();yK.set(this,uK.Zh().ja)}stop(){yK.get(this).Mz()}reverse(){var a=yK.get(this);a.Vb*=-1;a.Wb*=-1}get speed(){return yK.get(this).Fp()}set speed(a){tK.ud(a);yK.get(this).kv(a)}get acceleration(){return yK.get(this).Hd}set acceleration(a){tK.ud(a);yK.get(this).vs(a)}get isEnabled(){return yK.get(this).xm()}set isEnabled(a){yK.get(this).Sj(!!a)}};const zK=self.B;
zK.ua.wn.G={XJ(){return 1E-10<this.Fp()},PY(a,b){return zK.compare(this.Fp(),a,b)},Bb(){return this.xm()},Daa(){return this.pv}};
self.B.ua.wn.Ma={Tc(){this.Mz()},afa(){this.Vb*=-1;this.Wb*=-1},tga(a){this.hG=!!a},v1(a){this.kv(a)},TS(a){this.Jz(a)},Ffa(a){this.vs(a)},$fa(a){this.Iz(a)},Sha(a){if(this.me)switch(a){case 0:this.YB=!0;break;case 1:this.ZB=!0;break;case 2:this.$B=!0;break;case 3:this.XB=!0}},Th(a){this.Sj(a)},Gha(a){this.Vb=a;xK(this)},Hha(a){this.Wb=a;xK(this)},bga(a){wK(this,!!a)},Kfa(a){this.pv=!!a}};const AK=self.B;
AK.ua.wn.ob={G1(){return this.Fp()},N_(){return this.nd},bY(){return this.Hd},WY(){return this.ie},aK(){return AK.Qc(this.bL())},pja(){return this.Vb},qja(){return this.Wb}};const W=self.B;
self.YQ=function(){return[W.C.Td,W.ua.ur,W.ua.jh,W.C.Keyboard,W.C.Rj,W.ua.nn,W.C.Audio,W.C.rc,W.ua.vp,W.ua.vg,W.C.sn,W.ua.wn,W.C.Touch,W.C.Text,W.C.ns,W.C.Ri,W.C.hb.G.hS,W.C.Audio.G.A_,W.C.Audio.Ma.Play,W.C.hb.G.gZ,W.C.Td.Ma.u1,W.C.Td.ob.I2,W.C.Td.G.kS,W.C.Td.Ma.O0,W.C.Td.Ma.L1,W.C.rc.G.$_,W.C.Td.G.IR,W.C.hb.Ma.RK,W.C.Td.Ma.gR,W.C.rc.G.v_,W.C.rc.G.IR,W.C.Td.G.IsPlaying,W.C.hb.G.Z1,W.C.rc.G.w_,W.C.Audio.Ma.R0,W.C.Td.ob.UK,W.C.Td.ob.VK,W.C.Td.ob.J2,W.ua.jh.Ma.a2,W.C.hb.Ma.j2,W.C.hb.Ma.bR,W.C.Td.Ma.wf,
W.C.Td.Ma.OS,W.C.hb.G.tR,W.C.hb.G.OY,W.C.rc.ob.UK,W.C.rc.ob.VK,W.C.hb.G.Mu,W.C.Audio.Ma.t1,W.C.rc.Ma.zj,W.C.Keyboard.G.eS,W.C.hb.ob.OW,W.C.Audio.Ma.S0,W.C.Td.G.W_,W.ua.wn.G.XJ,W.C.Keyboard.G.PR,W.ua.wn.ob.aK,W.C.Audio.Ma.Tc,W.ua.wn.Ma.TS,W.C.hb.G.jR,W.C.Td.G.N0,W.C.hb.G.fZ,W.C.hb.ob.random,W.C.Audio.Ma.P0,W.C.hb.G.i1,W.C.hb.Ma.w1,W.ua.jh.Ma.b2,W.C.rc.Ma.OS,W.C.sn.Ma.K_,W.ua.nn.G.Y9,W.C.hb.Ma.o1,W.C.hb.ob.f7,W.C.hb.ob.g7,W.C.sn.ob.FY,W.C.hb.ob.GP,W.C.sn.ob.GY,W.C.rc.Ma.CE,W.ua.vp.Ma.oD,W.C.Td.Ma.s1,
W.C.hb.Ma.B1,W.ua.vg.G.XJ,W.ua.vp.G.JZ,W.ua.vg.Ma.zJ,W.ua.vg.G.lS,W.ua.vg.Ma.I1,W.C.Audio.Ma.Q0,W.ua.vg.ob.aK,W.ua.vg.G.dS,W.C.hb.Ma.l2,W.C.Ri.G.u_,W.C.rc.Ma.gR,W.ua.jh.ob.b1,W.C.rc.Ma.q1,W.C.rc.ob.jY]};
self.CY=[{D1:0},{Banner:0},{HZ:0},{G$:0},{jh:0},{KY:0},{j1:0},{JY:0},{GZ:0},{K1:0},{NY:0},{Keyboard:0},{lZ:0},{n2:0},{o2:0},{m2:0},{q2:0},{y$:0},{EY:0},{W0:0},{Y1:0},{F2:0},{G2:0},{H1:0},{tY:0},{Audio:0},{XY:0},{yY:0},{Lna:0},{Mna:0},{Oba:0},{vg:0},{bZ:0},{"3DCamera":0},{Maa:0},{"8Direction":0},{V0:0},{s2:0},{Touch:0},{Text:0},{"3DShape":0},{Q1:0},{TY:0},{SY:0},{Ri:0},{U_:0},{m9:0},{P8:0},{rna:0}];
self.Caa={Banner:class extends self.Ec{},HZ:class extends self.Ec{},KY:class extends self.Ec{},j1:class extends self.Ec{},JY:class extends self.Ec{},GZ:class extends self.Ec{},K1:class extends self.Ec{},NY:class extends self.Ec{},Keyboard:class extends self.Ni{},lZ:class extends self.Ec{},n2:class extends self.Ec{},o2:class extends self.Ec{},m2:class extends self.Ec{},q2:class extends self.Ec{},EY:class extends self.QJ{},W0:class extends self.Ec{},Y1:class extends self.Ec{},F2:class extends self.Ec{},
G2:class extends self.Ec{},H1:class extends self.Ec{},tY:class extends self.Ec{},Audio:class extends self.Ni{},XY:class extends self.Ec{},yY:class extends self.Lu{},bZ:class extends self.Ec{},hka:class extends self.Ni{},D1:class extends self.Lu{},V0:class extends self.Lu{},s2:class extends self.QJ{},Touch:class extends self.Ni{},Text:class extends self.PJ{},ika:class extends self.ER{},Q1:class extends self.PJ{},TY:class extends self.Lu{},SY:class extends self.Lu{},Ri:class extends self.Ni{},U_:class extends self.Ec{}};
const BK=self.B;
self.BY=[()=>"BG",()=>0,()=>-90,a=>{const b=uw(a,0);return()=>Vv(b)-1},()=>"close",()=>"hide",()=>"pick-up",()=>"",()=>.1,()=>"show",()=>1,()=>-1,()=>"attack-melee-right",()=>"attack-melee-left",()=>"attack-kick-right",()=>"attack-kick-left",a=>{const b=uw(a,0);return()=>Vv(b)},()=>360,()=>1E3,()=>.3,()=>"Objects",()=>.8,a=>{const b=uw(a,0),d=uw(a,1),c=uw(a,2),e=uw(a,3);return()=>BK.Gh(Vv(b),Vv(d),Vv(c),Vv(e))},()=>70,()=>"open",a=>{const b=uw(a,0).Uv;return()=>b.pd()},a=>{const b=uw(a,0);return()=>
Vv(b)+250},a=>{const b=uw(a,0);return()=>Vv(b)+500},a=>{const b=uw(a,0);return()=>Vv(b)+750},()=>"Player",()=>"idle",()=>"walk",a=>{const b=uw(a,0).qg();return()=>b("attack-melee-right","attack-melee-left","attack-kick-right","attack-kick-left")},a=>{const b=uw(a,0).qg();return()=>b("punch","punch_2")},()=>"sprint",a=>{const b=uw(a,0);return()=>Zv(b)-90},()=>"player_sprint",()=>"player_walk",()=>250,()=>200,()=>"Trap",a=>{const b=uw(a,0).qg();return()=>b(3,4)},()=>1.5,()=>3,a=>{const b=uw(a,0).qg();
return()=>b(40,190)},a=>{const b=uw(a,0),d=uw(a,1).qg();return()=>Vv(b)-80+d(80)},a=>{const b=uw(a,0).qg();return()=>b(3,5)},()=>180,a=>{const b=uw(a,0),d=uw(a,1).qg();return()=>Vv(b)+80-d(80)},()=>90,()=>"die",a=>{const b=uw(a,0);return()=>Vv(b)+1080},()=>"FollowToPlayer",a=>{const b=uw(a,0).qg(),d=uw(a,1),c=uw(a,2).Uv;return()=>BK.Pc(b(),Vv(d),c.pd())},a=>{const b=uw(a,0).qg(),d=uw(a,1),c=uw(a,2).qg();return()=>BK.Pc(b(),Vv(d),6*c())},a=>{const b=uw(a,0).qg(),d=uw(a,1),c=uw(a,2).qg();return()=>
BK.Pc(b(),Vv(d)+220,6*c())},()=>1200,()=>"self",()=>"EnemiesWin",()=>"attack",()=>"EnemiesPath",()=>1.11,()=>150,a=>{const b=uw(a,0),d=uw(a,1).qg();return()=>Vv(b)+d(-50,50)},a=>{const b=uw(a,0),d=uw(a,1).qg();return()=>{const c=Gt(b.R.da()),e=c.length;return(0===e?b.OB?"":0:c[Uv(b.Cb.lx,e)].Jg[b.v5])+d(-50,50)}},()=>"enemies_walk",()=>"EnemiesDeath",()=>2,()=>"size",()=>.2,a=>{const b=uw(a,0);return()=>Zv(b,"size")},()=>.4,a=>{const b=uw(a,0);return()=>Vv(b)?0:1}];
